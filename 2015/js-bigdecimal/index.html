<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    
    <title>js Bigdecimal | xxzkid | 我叫王也道长</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="本文讲解如何在javascript中进行高精度的数学计算 学过java的同学应该都知道，java中有一个BigDecimal 是专门用来算金额的，今天这里的BigDecimal是从java翻译成js的。">
<meta name="keywords" content="javascript,bigdecimal">
<meta property="og:type" content="article">
<meta property="og:title" content="js Bigdecimal">
<meta property="og:url" content="https://xxzkid.github.io/2015/js-bigdecimal/index.html">
<meta property="og:site_name" content="xxzkid | 我叫王也道长">
<meta property="og:description" content="本文讲解如何在javascript中进行高精度的数学计算 学过java的同学应该都知道，java中有一个BigDecimal 是专门用来算金额的，今天这里的BigDecimal是从java翻译成js的。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2024-06-11T02:26:56.421Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js Bigdecimal">
<meta name="twitter:description" content="本文讲解如何在javascript中进行高精度的数学计算 学过java的同学应该都知道，java中有一个BigDecimal 是专门用来算金额的，今天这里的BigDecimal是从java翻译成js的。">
    

    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
    
    
    
    



<meta name="google-site-verification" content="ONG6kRgr17CtJdS2-ErQZkQyTItOz5sm9OgxB0QauXs" />
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?45b9df8a29658880761fe374a3d396a4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!-- google ads -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2328510744730535",
    enable_page_level_ads: true
  });
</script>
<script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>
<script>
    $(function(){
        $("img").each( (i,o) => {
            var o = $(o);
            // 判断图片的链接是否包含 sinaimg 关键字
            if( o.attr("src").indexOf("sinaimg") > 0 ){
                // 给这个标签加上 referrerPlicy 属性
                o.attr("referrerpolicy","no-referrer");
                // 备份图片的 src
                var link = o.attr("src");
                // 重新设置 src，让页面重新加载一次图片
                o.attr("src",link);
            }
        });
    });
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2328510744730535">
</amp-auto-ads>
<header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">xxzkid | 我叫王也道长</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">主页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">主页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">xxzkid | 我叫王也道长</h2>
            <h3 id="title">哈哈，程序员一枚</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Shenzhen, China</span>
            <a id="follow" target="_blank" href="https://github.com/jsbxyyx">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                34
                <span>文章</span>
            </div>
            <div class="article-info-block">
                39
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/jsbxyyx" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://weibo.com/u/2948871357" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
        
        <div class="profile-block">
          <div>QQ群: 551304760</div>
          <div>淘宝优惠券微信：jsbxyyx</div>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-js-bigdecimal" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            js Bigdecimal
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/js-bigdecimal/">
            <time datetime="2015-12-08T16:44:07.000Z" itemprop="datePublished">2015-12-08</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/javascript/">javascript</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/bigdecimal/">bigdecimal</a>, <a class="tag-link" href="/tags/javascript/">javascript</a>
    </div>

						
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>本文讲解如何在javascript中进行高精度的数学计算</p>
<p>学过java的同学应该都知道，java中有一个BigDecimal 是专门用来算金额的，今天这里的BigDecimal是从java翻译成js的。</p>
<a id="more"></a>
<p>先看用法：</p>
<p>加法(四舍五入保留两位小数)：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> BigDecimal(<span class="string">"2.555555"</span>).add(<span class="keyword">new</span> BigDecimal(<span class="string">"5.222222"</span>)).setScale(<span class="number">2</span>, MathContext.ROUND_HALF_UP).toString();  </span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>
<p>减法： </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> BigDecimal(<span class="string">"2.40"</span>).subtract(<span class="keyword">new</span> BigDecimal(<span class="string">"2"</span>))</span><br></pre></td></tr></table></figure>
<p>乘法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> BigDecimal(<span class="string">"2.40"</span>).multiply(<span class="keyword">new</span> BigDecimal(<span class="string">"2"</span>))</span><br></pre></td></tr></table></figure>
<p>除法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> BigDecimal(<span class="string">"2.40"</span>).divide(<span class="keyword">new</span> BigDecimal(<span class="string">"2"</span>), def)</span><br></pre></td></tr></table></figure>
<p>下面来看看源代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br><span class="line">1838</span><br><span class="line">1839</span><br><span class="line">1840</span><br><span class="line">1841</span><br><span class="line">1842</span><br><span class="line">1843</span><br><span class="line">1844</span><br><span class="line">1845</span><br><span class="line">1846</span><br><span class="line">1847</span><br><span class="line">1848</span><br><span class="line">1849</span><br><span class="line">1850</span><br><span class="line">1851</span><br><span class="line">1852</span><br><span class="line">1853</span><br><span class="line">1854</span><br><span class="line">1855</span><br><span class="line">1856</span><br><span class="line">1857</span><br><span class="line">1858</span><br><span class="line">1859</span><br><span class="line">1860</span><br><span class="line">1861</span><br><span class="line">1862</span><br><span class="line">1863</span><br><span class="line">1864</span><br><span class="line">1865</span><br><span class="line">1866</span><br><span class="line">1867</span><br><span class="line">1868</span><br><span class="line">1869</span><br><span class="line">1870</span><br><span class="line">1871</span><br><span class="line">1872</span><br><span class="line">1873</span><br><span class="line">1874</span><br><span class="line">1875</span><br><span class="line">1876</span><br><span class="line">1877</span><br><span class="line">1878</span><br><span class="line">1879</span><br><span class="line">1880</span><br><span class="line">1881</span><br><span class="line">1882</span><br><span class="line">1883</span><br><span class="line">1884</span><br><span class="line">1885</span><br><span class="line">1886</span><br><span class="line">1887</span><br><span class="line">1888</span><br><span class="line">1889</span><br><span class="line">1890</span><br><span class="line">1891</span><br><span class="line">1892</span><br><span class="line">1893</span><br><span class="line">1894</span><br><span class="line">1895</span><br><span class="line">1896</span><br><span class="line">1897</span><br><span class="line">1898</span><br><span class="line">1899</span><br><span class="line">1900</span><br><span class="line">1901</span><br><span class="line">1902</span><br><span class="line">1903</span><br><span class="line">1904</span><br><span class="line">1905</span><br><span class="line">1906</span><br><span class="line">1907</span><br><span class="line">1908</span><br><span class="line">1909</span><br><span class="line">1910</span><br><span class="line">1911</span><br><span class="line">1912</span><br><span class="line">1913</span><br><span class="line">1914</span><br><span class="line">1915</span><br><span class="line">1916</span><br><span class="line">1917</span><br><span class="line">1918</span><br><span class="line">1919</span><br><span class="line">1920</span><br><span class="line">1921</span><br><span class="line">1922</span><br><span class="line">1923</span><br><span class="line">1924</span><br><span class="line">1925</span><br><span class="line">1926</span><br><span class="line">1927</span><br><span class="line">1928</span><br><span class="line">1929</span><br><span class="line">1930</span><br><span class="line">1931</span><br><span class="line">1932</span><br><span class="line">1933</span><br><span class="line">1934</span><br><span class="line">1935</span><br><span class="line">1936</span><br><span class="line">1937</span><br><span class="line">1938</span><br><span class="line">1939</span><br><span class="line">1940</span><br><span class="line">1941</span><br><span class="line">1942</span><br><span class="line">1943</span><br><span class="line">1944</span><br><span class="line">1945</span><br><span class="line">1946</span><br><span class="line">1947</span><br><span class="line">1948</span><br><span class="line">1949</span><br><span class="line">1950</span><br><span class="line">1951</span><br><span class="line">1952</span><br><span class="line">1953</span><br><span class="line">1954</span><br><span class="line">1955</span><br><span class="line">1956</span><br><span class="line">1957</span><br><span class="line">1958</span><br><span class="line">1959</span><br><span class="line">1960</span><br><span class="line">1961</span><br><span class="line">1962</span><br><span class="line">1963</span><br><span class="line">1964</span><br><span class="line">1965</span><br><span class="line">1966</span><br><span class="line">1967</span><br><span class="line">1968</span><br><span class="line">1969</span><br><span class="line">1970</span><br><span class="line">1971</span><br><span class="line">1972</span><br><span class="line">1973</span><br><span class="line">1974</span><br><span class="line">1975</span><br><span class="line">1976</span><br><span class="line">1977</span><br><span class="line">1978</span><br><span class="line">1979</span><br><span class="line">1980</span><br><span class="line">1981</span><br><span class="line">1982</span><br><span class="line">1983</span><br><span class="line">1984</span><br><span class="line">1985</span><br><span class="line">1986</span><br><span class="line">1987</span><br><span class="line">1988</span><br><span class="line">1989</span><br><span class="line">1990</span><br><span class="line">1991</span><br><span class="line">1992</span><br><span class="line">1993</span><br><span class="line">1994</span><br><span class="line">1995</span><br><span class="line">1996</span><br><span class="line">1997</span><br><span class="line">1998</span><br><span class="line">1999</span><br><span class="line">2000</span><br><span class="line">2001</span><br><span class="line">2002</span><br><span class="line">2003</span><br><span class="line">2004</span><br><span class="line">2005</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">2008</span><br><span class="line">2009</span><br><span class="line">2010</span><br><span class="line">2011</span><br><span class="line">2012</span><br><span class="line">2013</span><br><span class="line">2014</span><br><span class="line">2015</span><br><span class="line">2016</span><br><span class="line">2017</span><br><span class="line">2018</span><br><span class="line">2019</span><br><span class="line">2020</span><br><span class="line">2021</span><br><span class="line">2022</span><br><span class="line">2023</span><br><span class="line">2024</span><br><span class="line">2025</span><br><span class="line">2026</span><br><span class="line">2027</span><br><span class="line">2028</span><br><span class="line">2029</span><br><span class="line">2030</span><br><span class="line">2031</span><br><span class="line">2032</span><br><span class="line">2033</span><br><span class="line">2034</span><br><span class="line">2035</span><br><span class="line">2036</span><br><span class="line">2037</span><br><span class="line">2038</span><br><span class="line">2039</span><br><span class="line">2040</span><br><span class="line">2041</span><br><span class="line">2042</span><br><span class="line">2043</span><br><span class="line">2044</span><br><span class="line">2045</span><br><span class="line">2046</span><br><span class="line">2047</span><br><span class="line">2048</span><br><span class="line">2049</span><br><span class="line">2050</span><br><span class="line">2051</span><br><span class="line">2052</span><br><span class="line">2053</span><br><span class="line">2054</span><br><span class="line">2055</span><br><span class="line">2056</span><br><span class="line">2057</span><br><span class="line">2058</span><br><span class="line">2059</span><br><span class="line">2060</span><br><span class="line">2061</span><br><span class="line">2062</span><br><span class="line">2063</span><br><span class="line">2064</span><br><span class="line">2065</span><br><span class="line">2066</span><br><span class="line">2067</span><br><span class="line">2068</span><br><span class="line">2069</span><br><span class="line">2070</span><br><span class="line">2071</span><br><span class="line">2072</span><br><span class="line">2073</span><br><span class="line">2074</span><br><span class="line">2075</span><br><span class="line">2076</span><br><span class="line">2077</span><br><span class="line">2078</span><br><span class="line">2079</span><br><span class="line">2080</span><br><span class="line">2081</span><br><span class="line">2082</span><br><span class="line">2083</span><br><span class="line">2084</span><br><span class="line">2085</span><br><span class="line">2086</span><br><span class="line">2087</span><br><span class="line">2088</span><br><span class="line">2089</span><br><span class="line">2090</span><br><span class="line">2091</span><br><span class="line">2092</span><br><span class="line">2093</span><br><span class="line">2094</span><br><span class="line">2095</span><br><span class="line">2096</span><br><span class="line">2097</span><br><span class="line">2098</span><br><span class="line">2099</span><br><span class="line">2100</span><br><span class="line">2101</span><br><span class="line">2102</span><br><span class="line">2103</span><br><span class="line">2104</span><br><span class="line">2105</span><br><span class="line">2106</span><br><span class="line">2107</span><br><span class="line">2108</span><br><span class="line">2109</span><br><span class="line">2110</span><br><span class="line">2111</span><br><span class="line">2112</span><br><span class="line">2113</span><br><span class="line">2114</span><br><span class="line">2115</span><br><span class="line">2116</span><br><span class="line">2117</span><br><span class="line">2118</span><br><span class="line">2119</span><br><span class="line">2120</span><br><span class="line">2121</span><br><span class="line">2122</span><br><span class="line">2123</span><br><span class="line">2124</span><br><span class="line">2125</span><br><span class="line">2126</span><br><span class="line">2127</span><br><span class="line">2128</span><br><span class="line">2129</span><br><span class="line">2130</span><br><span class="line">2131</span><br><span class="line">2132</span><br><span class="line">2133</span><br><span class="line">2134</span><br><span class="line">2135</span><br><span class="line">2136</span><br><span class="line">2137</span><br><span class="line">2138</span><br><span class="line">2139</span><br><span class="line">2140</span><br><span class="line">2141</span><br><span class="line">2142</span><br><span class="line">2143</span><br><span class="line">2144</span><br><span class="line">2145</span><br><span class="line">2146</span><br><span class="line">2147</span><br><span class="line">2148</span><br><span class="line">2149</span><br><span class="line">2150</span><br><span class="line">2151</span><br><span class="line">2152</span><br><span class="line">2153</span><br><span class="line">2154</span><br><span class="line">2155</span><br><span class="line">2156</span><br><span class="line">2157</span><br><span class="line">2158</span><br><span class="line">2159</span><br><span class="line">2160</span><br><span class="line">2161</span><br><span class="line">2162</span><br><span class="line">2163</span><br><span class="line">2164</span><br><span class="line">2165</span><br><span class="line">2166</span><br><span class="line">2167</span><br><span class="line">2168</span><br><span class="line">2169</span><br><span class="line">2170</span><br><span class="line">2171</span><br><span class="line">2172</span><br><span class="line">2173</span><br><span class="line">2174</span><br><span class="line">2175</span><br><span class="line">2176</span><br><span class="line">2177</span><br><span class="line">2178</span><br><span class="line">2179</span><br><span class="line">2180</span><br><span class="line">2181</span><br><span class="line">2182</span><br><span class="line">2183</span><br><span class="line">2184</span><br><span class="line">2185</span><br><span class="line">2186</span><br><span class="line">2187</span><br><span class="line">2188</span><br><span class="line">2189</span><br><span class="line">2190</span><br><span class="line">2191</span><br><span class="line">2192</span><br><span class="line">2193</span><br><span class="line">2194</span><br><span class="line">2195</span><br><span class="line">2196</span><br><span class="line">2197</span><br><span class="line">2198</span><br><span class="line">2199</span><br><span class="line">2200</span><br><span class="line">2201</span><br><span class="line">2202</span><br><span class="line">2203</span><br><span class="line">2204</span><br><span class="line">2205</span><br><span class="line">2206</span><br><span class="line">2207</span><br><span class="line">2208</span><br><span class="line">2209</span><br><span class="line">2210</span><br><span class="line">2211</span><br><span class="line">2212</span><br><span class="line">2213</span><br><span class="line">2214</span><br><span class="line">2215</span><br><span class="line">2216</span><br><span class="line">2217</span><br><span class="line">2218</span><br><span class="line">2219</span><br><span class="line">2220</span><br><span class="line">2221</span><br><span class="line">2222</span><br><span class="line">2223</span><br><span class="line">2224</span><br><span class="line">2225</span><br><span class="line">2226</span><br><span class="line">2227</span><br><span class="line">2228</span><br><span class="line">2229</span><br><span class="line">2230</span><br><span class="line">2231</span><br><span class="line">2232</span><br><span class="line">2233</span><br><span class="line">2234</span><br><span class="line">2235</span><br><span class="line">2236</span><br><span class="line">2237</span><br><span class="line">2238</span><br><span class="line">2239</span><br><span class="line">2240</span><br><span class="line">2241</span><br><span class="line">2242</span><br><span class="line">2243</span><br><span class="line">2244</span><br><span class="line">2245</span><br><span class="line">2246</span><br><span class="line">2247</span><br><span class="line">2248</span><br><span class="line">2249</span><br><span class="line">2250</span><br><span class="line">2251</span><br><span class="line">2252</span><br><span class="line">2253</span><br><span class="line">2254</span><br><span class="line">2255</span><br><span class="line">2256</span><br><span class="line">2257</span><br><span class="line">2258</span><br><span class="line">2259</span><br><span class="line">2260</span><br><span class="line">2261</span><br><span class="line">2262</span><br><span class="line">2263</span><br><span class="line">2264</span><br><span class="line">2265</span><br><span class="line">2266</span><br><span class="line">2267</span><br><span class="line">2268</span><br><span class="line">2269</span><br><span class="line">2270</span><br><span class="line">2271</span><br><span class="line">2272</span><br><span class="line">2273</span><br><span class="line">2274</span><br><span class="line">2275</span><br><span class="line">2276</span><br><span class="line">2277</span><br><span class="line">2278</span><br><span class="line">2279</span><br><span class="line">2280</span><br><span class="line">2281</span><br><span class="line">2282</span><br><span class="line">2283</span><br><span class="line">2284</span><br><span class="line">2285</span><br><span class="line">2286</span><br><span class="line">2287</span><br><span class="line">2288</span><br><span class="line">2289</span><br><span class="line">2290</span><br><span class="line">2291</span><br><span class="line">2292</span><br><span class="line">2293</span><br><span class="line">2294</span><br><span class="line">2295</span><br><span class="line">2296</span><br><span class="line">2297</span><br><span class="line">2298</span><br><span class="line">2299</span><br><span class="line">2300</span><br><span class="line">2301</span><br><span class="line">2302</span><br><span class="line">2303</span><br><span class="line">2304</span><br><span class="line">2305</span><br><span class="line">2306</span><br><span class="line">2307</span><br><span class="line">2308</span><br><span class="line">2309</span><br><span class="line">2310</span><br><span class="line">2311</span><br><span class="line">2312</span><br><span class="line">2313</span><br><span class="line">2314</span><br><span class="line">2315</span><br><span class="line">2316</span><br><span class="line">2317</span><br><span class="line">2318</span><br><span class="line">2319</span><br><span class="line">2320</span><br><span class="line">2321</span><br><span class="line">2322</span><br><span class="line">2323</span><br><span class="line">2324</span><br><span class="line">2325</span><br><span class="line">2326</span><br><span class="line">2327</span><br><span class="line">2328</span><br><span class="line">2329</span><br><span class="line">2330</span><br><span class="line">2331</span><br><span class="line">2332</span><br><span class="line">2333</span><br><span class="line">2334</span><br><span class="line">2335</span><br><span class="line">2336</span><br><span class="line">2337</span><br><span class="line">2338</span><br><span class="line">2339</span><br><span class="line">2340</span><br><span class="line">2341</span><br><span class="line">2342</span><br><span class="line">2343</span><br><span class="line">2344</span><br><span class="line">2345</span><br><span class="line">2346</span><br><span class="line">2347</span><br><span class="line">2348</span><br><span class="line">2349</span><br><span class="line">2350</span><br><span class="line">2351</span><br><span class="line">2352</span><br><span class="line">2353</span><br><span class="line">2354</span><br><span class="line">2355</span><br><span class="line">2356</span><br><span class="line">2357</span><br><span class="line">2358</span><br><span class="line">2359</span><br><span class="line">2360</span><br><span class="line">2361</span><br><span class="line">2362</span><br><span class="line">2363</span><br><span class="line">2364</span><br><span class="line">2365</span><br><span class="line">2366</span><br><span class="line">2367</span><br><span class="line">2368</span><br><span class="line">2369</span><br><span class="line">2370</span><br><span class="line">2371</span><br><span class="line">2372</span><br><span class="line">2373</span><br><span class="line">2374</span><br><span class="line">2375</span><br><span class="line">2376</span><br><span class="line">2377</span><br><span class="line">2378</span><br><span class="line">2379</span><br><span class="line">2380</span><br><span class="line">2381</span><br><span class="line">2382</span><br><span class="line">2383</span><br><span class="line">2384</span><br><span class="line">2385</span><br><span class="line">2386</span><br><span class="line">2387</span><br><span class="line">2388</span><br><span class="line">2389</span><br><span class="line">2390</span><br><span class="line">2391</span><br><span class="line">2392</span><br><span class="line">2393</span><br><span class="line">2394</span><br><span class="line">2395</span><br><span class="line">2396</span><br><span class="line">2397</span><br><span class="line">2398</span><br><span class="line">2399</span><br><span class="line">2400</span><br><span class="line">2401</span><br><span class="line">2402</span><br><span class="line">2403</span><br><span class="line">2404</span><br><span class="line">2405</span><br><span class="line">2406</span><br><span class="line">2407</span><br><span class="line">2408</span><br><span class="line">2409</span><br><span class="line">2410</span><br><span class="line">2411</span><br><span class="line">2412</span><br><span class="line">2413</span><br><span class="line">2414</span><br><span class="line">2415</span><br><span class="line">2416</span><br><span class="line">2417</span><br><span class="line">2418</span><br><span class="line">2419</span><br><span class="line">2420</span><br><span class="line">2421</span><br><span class="line">2422</span><br><span class="line">2423</span><br><span class="line">2424</span><br><span class="line">2425</span><br><span class="line">2426</span><br><span class="line">2427</span><br><span class="line">2428</span><br><span class="line">2429</span><br><span class="line">2430</span><br><span class="line">2431</span><br><span class="line">2432</span><br><span class="line">2433</span><br><span class="line">2434</span><br><span class="line">2435</span><br><span class="line">2436</span><br><span class="line">2437</span><br><span class="line">2438</span><br><span class="line">2439</span><br><span class="line">2440</span><br><span class="line">2441</span><br><span class="line">2442</span><br><span class="line">2443</span><br><span class="line">2444</span><br><span class="line">2445</span><br><span class="line">2446</span><br><span class="line">2447</span><br><span class="line">2448</span><br><span class="line">2449</span><br><span class="line">2450</span><br><span class="line">2451</span><br><span class="line">2452</span><br><span class="line">2453</span><br><span class="line">2454</span><br><span class="line">2455</span><br><span class="line">2456</span><br><span class="line">2457</span><br><span class="line">2458</span><br><span class="line">2459</span><br><span class="line">2460</span><br><span class="line">2461</span><br><span class="line">2462</span><br><span class="line">2463</span><br><span class="line">2464</span><br><span class="line">2465</span><br><span class="line">2466</span><br><span class="line">2467</span><br><span class="line">2468</span><br><span class="line">2469</span><br><span class="line">2470</span><br><span class="line">2471</span><br><span class="line">2472</span><br><span class="line">2473</span><br><span class="line">2474</span><br><span class="line">2475</span><br><span class="line">2476</span><br><span class="line">2477</span><br><span class="line">2478</span><br><span class="line">2479</span><br><span class="line">2480</span><br><span class="line">2481</span><br><span class="line">2482</span><br><span class="line">2483</span><br><span class="line">2484</span><br><span class="line">2485</span><br><span class="line">2486</span><br><span class="line">2487</span><br><span class="line">2488</span><br><span class="line">2489</span><br><span class="line">2490</span><br><span class="line">2491</span><br><span class="line">2492</span><br><span class="line">2493</span><br><span class="line">2494</span><br><span class="line">2495</span><br><span class="line">2496</span><br><span class="line">2497</span><br><span class="line">2498</span><br><span class="line">2499</span><br><span class="line">2500</span><br><span class="line">2501</span><br><span class="line">2502</span><br><span class="line">2503</span><br><span class="line">2504</span><br><span class="line">2505</span><br><span class="line">2506</span><br><span class="line">2507</span><br><span class="line">2508</span><br><span class="line">2509</span><br><span class="line">2510</span><br><span class="line">2511</span><br><span class="line">2512</span><br><span class="line">2513</span><br><span class="line">2514</span><br><span class="line">2515</span><br><span class="line">2516</span><br><span class="line">2517</span><br><span class="line">2518</span><br><span class="line">2519</span><br><span class="line">2520</span><br><span class="line">2521</span><br><span class="line">2522</span><br><span class="line">2523</span><br><span class="line">2524</span><br><span class="line">2525</span><br><span class="line">2526</span><br><span class="line">2527</span><br><span class="line">2528</span><br><span class="line">2529</span><br><span class="line">2530</span><br><span class="line">2531</span><br><span class="line">2532</span><br><span class="line">2533</span><br><span class="line">2534</span><br><span class="line">2535</span><br><span class="line">2536</span><br><span class="line">2537</span><br><span class="line">2538</span><br><span class="line">2539</span><br><span class="line">2540</span><br><span class="line">2541</span><br><span class="line">2542</span><br><span class="line">2543</span><br><span class="line">2544</span><br><span class="line">2545</span><br><span class="line">2546</span><br><span class="line">2547</span><br><span class="line">2548</span><br><span class="line">2549</span><br><span class="line">2550</span><br><span class="line">2551</span><br><span class="line">2552</span><br><span class="line">2553</span><br><span class="line">2554</span><br><span class="line">2555</span><br><span class="line">2556</span><br><span class="line">2557</span><br><span class="line">2558</span><br><span class="line">2559</span><br><span class="line">2560</span><br><span class="line">2561</span><br><span class="line">2562</span><br><span class="line">2563</span><br><span class="line">2564</span><br><span class="line">2565</span><br><span class="line">2566</span><br><span class="line">2567</span><br><span class="line">2568</span><br><span class="line">2569</span><br><span class="line">2570</span><br><span class="line">2571</span><br><span class="line">2572</span><br><span class="line">2573</span><br><span class="line">2574</span><br><span class="line">2575</span><br><span class="line">2576</span><br><span class="line">2577</span><br><span class="line">2578</span><br><span class="line">2579</span><br><span class="line">2580</span><br><span class="line">2581</span><br><span class="line">2582</span><br><span class="line">2583</span><br><span class="line">2584</span><br><span class="line">2585</span><br><span class="line">2586</span><br><span class="line">2587</span><br><span class="line">2588</span><br><span class="line">2589</span><br><span class="line">2590</span><br><span class="line">2591</span><br><span class="line">2592</span><br><span class="line">2593</span><br><span class="line">2594</span><br><span class="line">2595</span><br><span class="line">2596</span><br><span class="line">2597</span><br><span class="line">2598</span><br><span class="line">2599</span><br><span class="line">2600</span><br><span class="line">2601</span><br><span class="line">2602</span><br><span class="line">2603</span><br><span class="line">2604</span><br><span class="line">2605</span><br><span class="line">2606</span><br><span class="line">2607</span><br><span class="line">2608</span><br><span class="line">2609</span><br><span class="line">2610</span><br><span class="line">2611</span><br><span class="line">2612</span><br><span class="line">2613</span><br><span class="line">2614</span><br><span class="line">2615</span><br><span class="line">2616</span><br><span class="line">2617</span><br><span class="line">2618</span><br><span class="line">2619</span><br><span class="line">2620</span><br><span class="line">2621</span><br><span class="line">2622</span><br><span class="line">2623</span><br><span class="line">2624</span><br><span class="line">2625</span><br><span class="line">2626</span><br><span class="line">2627</span><br><span class="line">2628</span><br><span class="line">2629</span><br><span class="line">2630</span><br><span class="line">2631</span><br><span class="line">2632</span><br><span class="line">2633</span><br><span class="line">2634</span><br><span class="line">2635</span><br><span class="line">2636</span><br><span class="line">2637</span><br><span class="line">2638</span><br><span class="line">2639</span><br><span class="line">2640</span><br><span class="line">2641</span><br><span class="line">2642</span><br><span class="line">2643</span><br><span class="line">2644</span><br><span class="line">2645</span><br><span class="line">2646</span><br><span class="line">2647</span><br><span class="line">2648</span><br><span class="line">2649</span><br><span class="line">2650</span><br><span class="line">2651</span><br><span class="line">2652</span><br><span class="line">2653</span><br><span class="line">2654</span><br><span class="line">2655</span><br><span class="line">2656</span><br><span class="line">2657</span><br><span class="line">2658</span><br><span class="line">2659</span><br><span class="line">2660</span><br><span class="line">2661</span><br><span class="line">2662</span><br><span class="line">2663</span><br><span class="line">2664</span><br><span class="line">2665</span><br><span class="line">2666</span><br><span class="line">2667</span><br><span class="line">2668</span><br><span class="line">2669</span><br><span class="line">2670</span><br><span class="line">2671</span><br><span class="line">2672</span><br><span class="line">2673</span><br><span class="line">2674</span><br><span class="line">2675</span><br><span class="line">2676</span><br><span class="line">2677</span><br><span class="line">2678</span><br><span class="line">2679</span><br><span class="line">2680</span><br><span class="line">2681</span><br><span class="line">2682</span><br><span class="line">2683</span><br><span class="line">2684</span><br><span class="line">2685</span><br><span class="line">2686</span><br><span class="line">2687</span><br><span class="line">2688</span><br><span class="line">2689</span><br><span class="line">2690</span><br><span class="line">2691</span><br><span class="line">2692</span><br><span class="line">2693</span><br><span class="line">2694</span><br><span class="line">2695</span><br><span class="line">2696</span><br><span class="line">2697</span><br><span class="line">2698</span><br><span class="line">2699</span><br><span class="line">2700</span><br><span class="line">2701</span><br><span class="line">2702</span><br><span class="line">2703</span><br><span class="line">2704</span><br><span class="line">2705</span><br><span class="line">2706</span><br><span class="line">2707</span><br><span class="line">2708</span><br><span class="line">2709</span><br><span class="line">2710</span><br><span class="line">2711</span><br><span class="line">2712</span><br><span class="line">2713</span><br><span class="line">2714</span><br><span class="line">2715</span><br><span class="line">2716</span><br><span class="line">2717</span><br><span class="line">2718</span><br><span class="line">2719</span><br><span class="line">2720</span><br><span class="line">2721</span><br><span class="line">2722</span><br><span class="line">2723</span><br><span class="line">2724</span><br><span class="line">2725</span><br><span class="line">2726</span><br><span class="line">2727</span><br><span class="line">2728</span><br><span class="line">2729</span><br><span class="line">2730</span><br><span class="line">2731</span><br><span class="line">2732</span><br><span class="line">2733</span><br><span class="line">2734</span><br><span class="line">2735</span><br><span class="line">2736</span><br><span class="line">2737</span><br><span class="line">2738</span><br><span class="line">2739</span><br><span class="line">2740</span><br><span class="line">2741</span><br><span class="line">2742</span><br><span class="line">2743</span><br><span class="line">2744</span><br><span class="line">2745</span><br><span class="line">2746</span><br><span class="line">2747</span><br><span class="line">2748</span><br><span class="line">2749</span><br><span class="line">2750</span><br><span class="line">2751</span><br><span class="line">2752</span><br><span class="line">2753</span><br><span class="line">2754</span><br><span class="line">2755</span><br><span class="line">2756</span><br><span class="line">2757</span><br><span class="line">2758</span><br><span class="line">2759</span><br><span class="line">2760</span><br><span class="line">2761</span><br><span class="line">2762</span><br><span class="line">2763</span><br><span class="line">2764</span><br><span class="line">2765</span><br><span class="line">2766</span><br><span class="line">2767</span><br><span class="line">2768</span><br><span class="line">2769</span><br><span class="line">2770</span><br><span class="line">2771</span><br><span class="line">2772</span><br><span class="line">2773</span><br><span class="line">2774</span><br><span class="line">2775</span><br><span class="line">2776</span><br><span class="line">2777</span><br><span class="line">2778</span><br><span class="line">2779</span><br><span class="line">2780</span><br><span class="line">2781</span><br><span class="line">2782</span><br><span class="line">2783</span><br><span class="line">2784</span><br><span class="line">2785</span><br><span class="line">2786</span><br><span class="line">2787</span><br><span class="line">2788</span><br><span class="line">2789</span><br><span class="line">2790</span><br><span class="line">2791</span><br><span class="line">2792</span><br><span class="line">2793</span><br><span class="line">2794</span><br><span class="line">2795</span><br><span class="line">2796</span><br><span class="line">2797</span><br><span class="line">2798</span><br><span class="line">2799</span><br><span class="line">2800</span><br><span class="line">2801</span><br><span class="line">2802</span><br><span class="line">2803</span><br><span class="line">2804</span><br><span class="line">2805</span><br><span class="line">2806</span><br><span class="line">2807</span><br><span class="line">2808</span><br><span class="line">2809</span><br><span class="line">2810</span><br><span class="line">2811</span><br><span class="line">2812</span><br><span class="line">2813</span><br><span class="line">2814</span><br><span class="line">2815</span><br><span class="line">2816</span><br><span class="line">2817</span><br><span class="line">2818</span><br><span class="line">2819</span><br><span class="line">2820</span><br><span class="line">2821</span><br><span class="line">2822</span><br><span class="line">2823</span><br><span class="line">2824</span><br><span class="line">2825</span><br><span class="line">2826</span><br><span class="line">2827</span><br><span class="line">2828</span><br><span class="line">2829</span><br><span class="line">2830</span><br><span class="line">2831</span><br><span class="line">2832</span><br><span class="line">2833</span><br><span class="line">2834</span><br><span class="line">2835</span><br><span class="line">2836</span><br><span class="line">2837</span><br><span class="line">2838</span><br><span class="line">2839</span><br><span class="line">2840</span><br><span class="line">2841</span><br><span class="line">2842</span><br><span class="line">2843</span><br><span class="line">2844</span><br><span class="line">2845</span><br><span class="line">2846</span><br><span class="line">2847</span><br><span class="line">2848</span><br><span class="line">2849</span><br><span class="line">2850</span><br><span class="line">2851</span><br><span class="line">2852</span><br><span class="line">2853</span><br><span class="line">2854</span><br><span class="line">2855</span><br><span class="line">2856</span><br><span class="line">2857</span><br><span class="line">2858</span><br><span class="line">2859</span><br><span class="line">2860</span><br><span class="line">2861</span><br><span class="line">2862</span><br><span class="line">2863</span><br><span class="line">2864</span><br><span class="line">2865</span><br><span class="line">2866</span><br><span class="line">2867</span><br><span class="line">2868</span><br><span class="line">2869</span><br><span class="line">2870</span><br><span class="line">2871</span><br><span class="line">2872</span><br><span class="line">2873</span><br><span class="line">2874</span><br><span class="line">2875</span><br><span class="line">2876</span><br><span class="line">2877</span><br><span class="line">2878</span><br><span class="line">2879</span><br><span class="line">2880</span><br><span class="line">2881</span><br><span class="line">2882</span><br><span class="line">2883</span><br><span class="line">2884</span><br><span class="line">2885</span><br><span class="line">2886</span><br><span class="line">2887</span><br><span class="line">2888</span><br><span class="line">2889</span><br><span class="line">2890</span><br><span class="line">2891</span><br><span class="line">2892</span><br><span class="line">2893</span><br><span class="line">2894</span><br><span class="line">2895</span><br><span class="line">2896</span><br><span class="line">2897</span><br><span class="line">2898</span><br><span class="line">2899</span><br><span class="line">2900</span><br><span class="line">2901</span><br><span class="line">2902</span><br><span class="line">2903</span><br><span class="line">2904</span><br><span class="line">2905</span><br><span class="line">2906</span><br><span class="line">2907</span><br><span class="line">2908</span><br><span class="line">2909</span><br><span class="line">2910</span><br><span class="line">2911</span><br><span class="line">2912</span><br><span class="line">2913</span><br><span class="line">2914</span><br><span class="line">2915</span><br><span class="line">2916</span><br><span class="line">2917</span><br><span class="line">2918</span><br><span class="line">2919</span><br><span class="line">2920</span><br><span class="line">2921</span><br><span class="line">2922</span><br><span class="line">2923</span><br><span class="line">2924</span><br><span class="line">2925</span><br><span class="line">2926</span><br><span class="line">2927</span><br><span class="line">2928</span><br><span class="line">2929</span><br><span class="line">2930</span><br><span class="line">2931</span><br><span class="line">2932</span><br><span class="line">2933</span><br><span class="line">2934</span><br><span class="line">2935</span><br><span class="line">2936</span><br><span class="line">2937</span><br><span class="line">2938</span><br><span class="line">2939</span><br><span class="line">2940</span><br><span class="line">2941</span><br><span class="line">2942</span><br><span class="line">2943</span><br><span class="line">2944</span><br><span class="line">2945</span><br><span class="line">2946</span><br><span class="line">2947</span><br><span class="line">2948</span><br><span class="line">2949</span><br><span class="line">2950</span><br><span class="line">2951</span><br><span class="line">2952</span><br><span class="line">2953</span><br><span class="line">2954</span><br><span class="line">2955</span><br><span class="line">2956</span><br><span class="line">2957</span><br><span class="line">2958</span><br><span class="line">2959</span><br><span class="line">2960</span><br><span class="line">2961</span><br><span class="line">2962</span><br><span class="line">2963</span><br><span class="line">2964</span><br><span class="line">2965</span><br><span class="line">2966</span><br><span class="line">2967</span><br><span class="line">2968</span><br><span class="line">2969</span><br><span class="line">2970</span><br><span class="line">2971</span><br><span class="line">2972</span><br><span class="line">2973</span><br><span class="line">2974</span><br><span class="line">2975</span><br><span class="line">2976</span><br><span class="line">2977</span><br><span class="line">2978</span><br><span class="line">2979</span><br><span class="line">2980</span><br><span class="line">2981</span><br><span class="line">2982</span><br><span class="line">2983</span><br><span class="line">2984</span><br><span class="line">2985</span><br><span class="line">2986</span><br><span class="line">2987</span><br><span class="line">2988</span><br><span class="line">2989</span><br><span class="line">2990</span><br><span class="line">2991</span><br><span class="line">2992</span><br><span class="line">2993</span><br><span class="line">2994</span><br><span class="line">2995</span><br><span class="line">2996</span><br><span class="line">2997</span><br><span class="line">2998</span><br><span class="line">2999</span><br><span class="line">3000</span><br><span class="line">3001</span><br><span class="line">3002</span><br><span class="line">3003</span><br><span class="line">3004</span><br><span class="line">3005</span><br><span class="line">3006</span><br><span class="line">3007</span><br><span class="line">3008</span><br><span class="line">3009</span><br><span class="line">3010</span><br><span class="line">3011</span><br><span class="line">3012</span><br><span class="line">3013</span><br><span class="line">3014</span><br><span class="line">3015</span><br><span class="line">3016</span><br><span class="line">3017</span><br><span class="line">3018</span><br><span class="line">3019</span><br><span class="line">3020</span><br><span class="line">3021</span><br><span class="line">3022</span><br><span class="line">3023</span><br><span class="line">3024</span><br><span class="line">3025</span><br><span class="line">3026</span><br><span class="line">3027</span><br><span class="line">3028</span><br><span class="line">3029</span><br><span class="line">3030</span><br><span class="line">3031</span><br><span class="line">3032</span><br><span class="line">3033</span><br><span class="line">3034</span><br><span class="line">3035</span><br><span class="line">3036</span><br><span class="line">3037</span><br><span class="line">3038</span><br><span class="line">3039</span><br><span class="line">3040</span><br><span class="line">3041</span><br><span class="line">3042</span><br><span class="line">3043</span><br><span class="line">3044</span><br><span class="line">3045</span><br><span class="line">3046</span><br><span class="line">3047</span><br><span class="line">3048</span><br><span class="line">3049</span><br><span class="line">3050</span><br><span class="line">3051</span><br><span class="line">3052</span><br><span class="line">3053</span><br><span class="line">3054</span><br><span class="line">3055</span><br><span class="line">3056</span><br><span class="line">3057</span><br><span class="line">3058</span><br><span class="line">3059</span><br><span class="line">3060</span><br><span class="line">3061</span><br><span class="line">3062</span><br><span class="line">3063</span><br><span class="line">3064</span><br><span class="line">3065</span><br><span class="line">3066</span><br><span class="line">3067</span><br><span class="line">3068</span><br><span class="line">3069</span><br><span class="line">3070</span><br><span class="line">3071</span><br><span class="line">3072</span><br><span class="line">3073</span><br><span class="line">3074</span><br><span class="line">3075</span><br><span class="line">3076</span><br><span class="line">3077</span><br><span class="line">3078</span><br><span class="line">3079</span><br><span class="line">3080</span><br><span class="line">3081</span><br><span class="line">3082</span><br><span class="line">3083</span><br><span class="line">3084</span><br><span class="line">3085</span><br><span class="line">3086</span><br><span class="line">3087</span><br><span class="line">3088</span><br><span class="line">3089</span><br><span class="line">3090</span><br><span class="line">3091</span><br><span class="line">3092</span><br><span class="line">3093</span><br><span class="line">3094</span><br><span class="line">3095</span><br><span class="line">3096</span><br><span class="line">3097</span><br><span class="line">3098</span><br><span class="line">3099</span><br><span class="line">3100</span><br><span class="line">3101</span><br><span class="line">3102</span><br><span class="line">3103</span><br><span class="line">3104</span><br><span class="line">3105</span><br><span class="line">3106</span><br><span class="line">3107</span><br><span class="line">3108</span><br><span class="line">3109</span><br><span class="line">3110</span><br><span class="line">3111</span><br><span class="line">3112</span><br><span class="line">3113</span><br><span class="line">3114</span><br><span class="line">3115</span><br><span class="line">3116</span><br><span class="line">3117</span><br><span class="line">3118</span><br><span class="line">3119</span><br><span class="line">3120</span><br><span class="line">3121</span><br><span class="line">3122</span><br><span class="line">3123</span><br><span class="line">3124</span><br><span class="line">3125</span><br><span class="line">3126</span><br><span class="line">3127</span><br><span class="line">3128</span><br><span class="line">3129</span><br><span class="line">3130</span><br><span class="line">3131</span><br><span class="line">3132</span><br><span class="line">3133</span><br><span class="line">3134</span><br><span class="line">3135</span><br><span class="line">3136</span><br><span class="line">3137</span><br><span class="line">3138</span><br><span class="line">3139</span><br><span class="line">3140</span><br><span class="line">3141</span><br><span class="line">3142</span><br><span class="line">3143</span><br><span class="line">3144</span><br><span class="line">3145</span><br><span class="line">3146</span><br><span class="line">3147</span><br><span class="line">3148</span><br><span class="line">3149</span><br><span class="line">3150</span><br><span class="line">3151</span><br><span class="line">3152</span><br><span class="line">3153</span><br><span class="line">3154</span><br><span class="line">3155</span><br><span class="line">3156</span><br><span class="line">3157</span><br><span class="line">3158</span><br><span class="line">3159</span><br><span class="line">3160</span><br><span class="line">3161</span><br><span class="line">3162</span><br><span class="line">3163</span><br><span class="line">3164</span><br><span class="line">3165</span><br><span class="line">3166</span><br><span class="line">3167</span><br><span class="line">3168</span><br><span class="line">3169</span><br><span class="line">3170</span><br><span class="line">3171</span><br><span class="line">3172</span><br><span class="line">3173</span><br><span class="line">3174</span><br><span class="line">3175</span><br><span class="line">3176</span><br><span class="line">3177</span><br><span class="line">3178</span><br><span class="line">3179</span><br><span class="line">3180</span><br><span class="line">3181</span><br><span class="line">3182</span><br><span class="line">3183</span><br><span class="line">3184</span><br><span class="line">3185</span><br><span class="line">3186</span><br><span class="line">3187</span><br><span class="line">3188</span><br><span class="line">3189</span><br><span class="line">3190</span><br><span class="line">3191</span><br><span class="line">3192</span><br><span class="line">3193</span><br><span class="line">3194</span><br><span class="line">3195</span><br><span class="line">3196</span><br><span class="line">3197</span><br><span class="line">3198</span><br><span class="line">3199</span><br><span class="line">3200</span><br><span class="line">3201</span><br><span class="line">3202</span><br><span class="line">3203</span><br><span class="line">3204</span><br><span class="line">3205</span><br><span class="line">3206</span><br><span class="line">3207</span><br><span class="line">3208</span><br><span class="line">3209</span><br><span class="line">3210</span><br><span class="line">3211</span><br><span class="line">3212</span><br><span class="line">3213</span><br><span class="line">3214</span><br><span class="line">3215</span><br><span class="line">3216</span><br><span class="line">3217</span><br><span class="line">3218</span><br><span class="line">3219</span><br><span class="line">3220</span><br><span class="line">3221</span><br><span class="line">3222</span><br><span class="line">3223</span><br><span class="line">3224</span><br><span class="line">3225</span><br><span class="line">3226</span><br><span class="line">3227</span><br><span class="line">3228</span><br><span class="line">3229</span><br><span class="line">3230</span><br><span class="line">3231</span><br><span class="line">3232</span><br><span class="line">3233</span><br><span class="line">3234</span><br><span class="line">3235</span><br><span class="line">3236</span><br><span class="line">3237</span><br><span class="line">3238</span><br><span class="line">3239</span><br><span class="line">3240</span><br><span class="line">3241</span><br><span class="line">3242</span><br><span class="line">3243</span><br><span class="line">3244</span><br><span class="line">3245</span><br><span class="line">3246</span><br><span class="line">3247</span><br><span class="line">3248</span><br><span class="line">3249</span><br><span class="line">3250</span><br><span class="line">3251</span><br><span class="line">3252</span><br><span class="line">3253</span><br><span class="line">3254</span><br><span class="line">3255</span><br><span class="line">3256</span><br><span class="line">3257</span><br><span class="line">3258</span><br><span class="line">3259</span><br><span class="line">3260</span><br><span class="line">3261</span><br><span class="line">3262</span><br><span class="line">3263</span><br><span class="line">3264</span><br><span class="line">3265</span><br><span class="line">3266</span><br><span class="line">3267</span><br><span class="line">3268</span><br><span class="line">3269</span><br><span class="line">3270</span><br><span class="line">3271</span><br><span class="line">3272</span><br><span class="line">3273</span><br><span class="line">3274</span><br><span class="line">3275</span><br><span class="line">3276</span><br><span class="line">3277</span><br><span class="line">3278</span><br><span class="line">3279</span><br><span class="line">3280</span><br><span class="line">3281</span><br><span class="line">3282</span><br><span class="line">3283</span><br><span class="line">3284</span><br><span class="line">3285</span><br><span class="line">3286</span><br><span class="line">3287</span><br><span class="line">3288</span><br><span class="line">3289</span><br><span class="line">3290</span><br><span class="line">3291</span><br><span class="line">3292</span><br><span class="line">3293</span><br><span class="line">3294</span><br><span class="line">3295</span><br><span class="line">3296</span><br><span class="line">3297</span><br><span class="line">3298</span><br><span class="line">3299</span><br><span class="line">3300</span><br><span class="line">3301</span><br><span class="line">3302</span><br><span class="line">3303</span><br><span class="line">3304</span><br><span class="line">3305</span><br><span class="line">3306</span><br><span class="line">3307</span><br><span class="line">3308</span><br><span class="line">3309</span><br><span class="line">3310</span><br><span class="line">3311</span><br><span class="line">3312</span><br><span class="line">3313</span><br><span class="line">3314</span><br><span class="line">3315</span><br><span class="line">3316</span><br><span class="line">3317</span><br><span class="line">3318</span><br><span class="line">3319</span><br><span class="line">3320</span><br><span class="line">3321</span><br><span class="line">3322</span><br><span class="line">3323</span><br><span class="line">3324</span><br><span class="line">3325</span><br><span class="line">3326</span><br><span class="line">3327</span><br><span class="line">3328</span><br><span class="line">3329</span><br><span class="line">3330</span><br><span class="line">3331</span><br><span class="line">3332</span><br><span class="line">3333</span><br><span class="line">3334</span><br><span class="line">3335</span><br><span class="line">3336</span><br><span class="line">3337</span><br><span class="line">3338</span><br><span class="line">3339</span><br><span class="line">3340</span><br><span class="line">3341</span><br><span class="line">3342</span><br><span class="line">3343</span><br><span class="line">3344</span><br><span class="line">3345</span><br><span class="line">3346</span><br><span class="line">3347</span><br><span class="line">3348</span><br><span class="line">3349</span><br><span class="line">3350</span><br><span class="line">3351</span><br><span class="line">3352</span><br><span class="line">3353</span><br><span class="line">3354</span><br><span class="line">3355</span><br><span class="line">3356</span><br><span class="line">3357</span><br><span class="line">3358</span><br><span class="line">3359</span><br><span class="line">3360</span><br><span class="line">3361</span><br><span class="line">3362</span><br><span class="line">3363</span><br><span class="line">3364</span><br><span class="line">3365</span><br><span class="line">3366</span><br><span class="line">3367</span><br><span class="line">3368</span><br><span class="line">3369</span><br><span class="line">3370</span><br><span class="line">3371</span><br><span class="line">3372</span><br><span class="line">3373</span><br><span class="line">3374</span><br><span class="line">3375</span><br><span class="line">3376</span><br><span class="line">3377</span><br><span class="line">3378</span><br><span class="line">3379</span><br><span class="line">3380</span><br><span class="line">3381</span><br><span class="line">3382</span><br><span class="line">3383</span><br><span class="line">3384</span><br><span class="line">3385</span><br><span class="line">3386</span><br><span class="line">3387</span><br><span class="line">3388</span><br><span class="line">3389</span><br><span class="line">3390</span><br><span class="line">3391</span><br><span class="line">3392</span><br><span class="line">3393</span><br><span class="line">3394</span><br><span class="line">3395</span><br><span class="line">3396</span><br><span class="line">3397</span><br><span class="line">3398</span><br><span class="line">3399</span><br><span class="line">3400</span><br><span class="line">3401</span><br><span class="line">3402</span><br><span class="line">3403</span><br><span class="line">3404</span><br><span class="line">3405</span><br><span class="line">3406</span><br><span class="line">3407</span><br><span class="line">3408</span><br><span class="line">3409</span><br><span class="line">3410</span><br><span class="line">3411</span><br><span class="line">3412</span><br><span class="line">3413</span><br><span class="line">3414</span><br><span class="line">3415</span><br><span class="line">3416</span><br><span class="line">3417</span><br><span class="line">3418</span><br><span class="line">3419</span><br><span class="line">3420</span><br><span class="line">3421</span><br><span class="line">3422</span><br><span class="line">3423</span><br><span class="line">3424</span><br><span class="line">3425</span><br><span class="line">3426</span><br><span class="line">3427</span><br><span class="line">3428</span><br><span class="line">3429</span><br><span class="line">3430</span><br><span class="line">3431</span><br><span class="line">3432</span><br><span class="line">3433</span><br><span class="line">3434</span><br><span class="line">3435</span><br><span class="line">3436</span><br><span class="line">3437</span><br><span class="line">3438</span><br><span class="line">3439</span><br><span class="line">3440</span><br><span class="line">3441</span><br><span class="line">3442</span><br><span class="line">3443</span><br><span class="line">3444</span><br><span class="line">3445</span><br><span class="line">3446</span><br><span class="line">3447</span><br><span class="line">3448</span><br><span class="line">3449</span><br><span class="line">3450</span><br><span class="line">3451</span><br><span class="line">3452</span><br><span class="line">3453</span><br><span class="line">3454</span><br><span class="line">3455</span><br><span class="line">3456</span><br><span class="line">3457</span><br><span class="line">3458</span><br><span class="line">3459</span><br><span class="line">3460</span><br><span class="line">3461</span><br><span class="line">3462</span><br><span class="line">3463</span><br><span class="line">3464</span><br><span class="line">3465</span><br><span class="line">3466</span><br><span class="line">3467</span><br><span class="line">3468</span><br><span class="line">3469</span><br><span class="line">3470</span><br><span class="line">3471</span><br><span class="line">3472</span><br><span class="line">3473</span><br><span class="line">3474</span><br><span class="line">3475</span><br><span class="line">3476</span><br><span class="line">3477</span><br><span class="line">3478</span><br><span class="line">3479</span><br><span class="line">3480</span><br><span class="line">3481</span><br><span class="line">3482</span><br><span class="line">3483</span><br><span class="line">3484</span><br><span class="line">3485</span><br><span class="line">3486</span><br><span class="line">3487</span><br><span class="line">3488</span><br><span class="line">3489</span><br><span class="line">3490</span><br><span class="line">3491</span><br><span class="line">3492</span><br><span class="line">3493</span><br><span class="line">3494</span><br><span class="line">3495</span><br><span class="line">3496</span><br><span class="line">3497</span><br><span class="line">3498</span><br><span class="line">3499</span><br><span class="line">3500</span><br><span class="line">3501</span><br><span class="line">3502</span><br><span class="line">3503</span><br><span class="line">3504</span><br><span class="line">3505</span><br><span class="line">3506</span><br><span class="line">3507</span><br><span class="line">3508</span><br><span class="line">3509</span><br><span class="line">3510</span><br><span class="line">3511</span><br><span class="line">3512</span><br><span class="line">3513</span><br><span class="line">3514</span><br><span class="line">3515</span><br><span class="line">3516</span><br><span class="line">3517</span><br><span class="line">3518</span><br><span class="line">3519</span><br><span class="line">3520</span><br><span class="line">3521</span><br><span class="line">3522</span><br><span class="line">3523</span><br><span class="line">3524</span><br><span class="line">3525</span><br><span class="line">3526</span><br><span class="line">3527</span><br><span class="line">3528</span><br><span class="line">3529</span><br><span class="line">3530</span><br><span class="line">3531</span><br><span class="line">3532</span><br><span class="line">3533</span><br><span class="line">3534</span><br><span class="line">3535</span><br><span class="line">3536</span><br><span class="line">3537</span><br><span class="line">3538</span><br><span class="line">3539</span><br><span class="line">3540</span><br><span class="line">3541</span><br><span class="line">3542</span><br><span class="line">3543</span><br><span class="line">3544</span><br><span class="line">3545</span><br><span class="line">3546</span><br><span class="line">3547</span><br><span class="line">3548</span><br><span class="line">3549</span><br><span class="line">3550</span><br><span class="line">3551</span><br><span class="line">3552</span><br><span class="line">3553</span><br><span class="line">3554</span><br><span class="line">3555</span><br><span class="line">3556</span><br><span class="line">3557</span><br><span class="line">3558</span><br><span class="line">3559</span><br><span class="line">3560</span><br><span class="line">3561</span><br><span class="line">3562</span><br><span class="line">3563</span><br><span class="line">3564</span><br><span class="line">3565</span><br><span class="line">3566</span><br><span class="line">3567</span><br><span class="line">3568</span><br><span class="line">3569</span><br><span class="line">3570</span><br><span class="line">3571</span><br><span class="line">3572</span><br><span class="line">3573</span><br><span class="line">3574</span><br><span class="line">3575</span><br><span class="line">3576</span><br><span class="line">3577</span><br><span class="line">3578</span><br><span class="line">3579</span><br><span class="line">3580</span><br><span class="line">3581</span><br><span class="line">3582</span><br><span class="line">3583</span><br><span class="line">3584</span><br><span class="line">3585</span><br><span class="line">3586</span><br><span class="line">3587</span><br><span class="line">3588</span><br><span class="line">3589</span><br><span class="line">3590</span><br><span class="line">3591</span><br><span class="line">3592</span><br><span class="line">3593</span><br><span class="line">3594</span><br><span class="line">3595</span><br><span class="line">3596</span><br><span class="line">3597</span><br><span class="line">3598</span><br><span class="line">3599</span><br><span class="line">3600</span><br><span class="line">3601</span><br><span class="line">3602</span><br><span class="line">3603</span><br><span class="line">3604</span><br><span class="line">3605</span><br><span class="line">3606</span><br><span class="line">3607</span><br><span class="line">3608</span><br><span class="line">3609</span><br><span class="line">3610</span><br><span class="line">3611</span><br><span class="line">3612</span><br><span class="line">3613</span><br><span class="line">3614</span><br><span class="line">3615</span><br><span class="line">3616</span><br><span class="line">3617</span><br><span class="line">3618</span><br><span class="line">3619</span><br><span class="line">3620</span><br><span class="line">3621</span><br><span class="line">3622</span><br><span class="line">3623</span><br><span class="line">3624</span><br><span class="line">3625</span><br><span class="line">3626</span><br><span class="line">3627</span><br><span class="line">3628</span><br><span class="line">3629</span><br><span class="line">3630</span><br><span class="line">3631</span><br><span class="line">3632</span><br><span class="line">3633</span><br><span class="line">3634</span><br><span class="line">3635</span><br><span class="line">3636</span><br><span class="line">3637</span><br><span class="line">3638</span><br><span class="line">3639</span><br><span class="line">3640</span><br><span class="line">3641</span><br><span class="line">3642</span><br><span class="line">3643</span><br><span class="line">3644</span><br><span class="line">3645</span><br><span class="line">3646</span><br><span class="line">3647</span><br><span class="line">3648</span><br><span class="line">3649</span><br><span class="line">3650</span><br><span class="line">3651</span><br><span class="line">3652</span><br><span class="line">3653</span><br><span class="line">3654</span><br><span class="line">3655</span><br><span class="line">3656</span><br><span class="line">3657</span><br><span class="line">3658</span><br><span class="line">3659</span><br><span class="line">3660</span><br><span class="line">3661</span><br><span class="line">3662</span><br><span class="line">3663</span><br><span class="line">3664</span><br><span class="line">3665</span><br><span class="line">3666</span><br><span class="line">3667</span><br><span class="line">3668</span><br><span class="line">3669</span><br><span class="line">3670</span><br><span class="line">3671</span><br><span class="line">3672</span><br><span class="line">3673</span><br><span class="line">3674</span><br><span class="line">3675</span><br><span class="line">3676</span><br><span class="line">3677</span><br><span class="line">3678</span><br><span class="line">3679</span><br><span class="line">3680</span><br><span class="line">3681</span><br><span class="line">3682</span><br><span class="line">3683</span><br><span class="line">3684</span><br><span class="line">3685</span><br><span class="line">3686</span><br><span class="line">3687</span><br><span class="line">3688</span><br><span class="line">3689</span><br><span class="line">3690</span><br><span class="line">3691</span><br><span class="line">3692</span><br><span class="line">3693</span><br><span class="line">3694</span><br><span class="line">3695</span><br><span class="line">3696</span><br><span class="line">3697</span><br><span class="line">3698</span><br><span class="line">3699</span><br><span class="line">3700</span><br><span class="line">3701</span><br><span class="line">3702</span><br><span class="line">3703</span><br><span class="line">3704</span><br><span class="line">3705</span><br><span class="line">3706</span><br><span class="line">3707</span><br><span class="line">3708</span><br><span class="line">3709</span><br><span class="line">3710</span><br><span class="line">3711</span><br><span class="line">3712</span><br><span class="line">3713</span><br><span class="line">3714</span><br><span class="line">3715</span><br><span class="line">3716</span><br><span class="line">3717</span><br><span class="line">3718</span><br><span class="line">3719</span><br><span class="line">3720</span><br><span class="line">3721</span><br><span class="line">3722</span><br><span class="line">3723</span><br><span class="line">3724</span><br><span class="line">3725</span><br><span class="line">3726</span><br><span class="line">3727</span><br><span class="line">3728</span><br><span class="line">3729</span><br><span class="line">3730</span><br><span class="line">3731</span><br><span class="line">3732</span><br><span class="line">3733</span><br><span class="line">3734</span><br><span class="line">3735</span><br><span class="line">3736</span><br><span class="line">3737</span><br><span class="line">3738</span><br><span class="line">3739</span><br><span class="line">3740</span><br><span class="line">3741</span><br><span class="line">3742</span><br><span class="line">3743</span><br><span class="line">3744</span><br><span class="line">3745</span><br><span class="line">3746</span><br><span class="line">3747</span><br><span class="line">3748</span><br><span class="line">3749</span><br><span class="line">3750</span><br><span class="line">3751</span><br><span class="line">3752</span><br><span class="line">3753</span><br><span class="line">3754</span><br><span class="line">3755</span><br><span class="line">3756</span><br><span class="line">3757</span><br><span class="line">3758</span><br><span class="line">3759</span><br><span class="line">3760</span><br><span class="line">3761</span><br><span class="line">3762</span><br><span class="line">3763</span><br><span class="line">3764</span><br><span class="line">3765</span><br><span class="line">3766</span><br><span class="line">3767</span><br><span class="line">3768</span><br><span class="line">3769</span><br><span class="line">3770</span><br><span class="line">3771</span><br><span class="line">3772</span><br><span class="line">3773</span><br><span class="line">3774</span><br><span class="line">3775</span><br><span class="line">3776</span><br><span class="line">3777</span><br><span class="line">3778</span><br><span class="line">3779</span><br><span class="line">3780</span><br><span class="line">3781</span><br><span class="line">3782</span><br><span class="line">3783</span><br><span class="line">3784</span><br><span class="line">3785</span><br><span class="line">3786</span><br><span class="line">3787</span><br><span class="line">3788</span><br><span class="line">3789</span><br><span class="line">3790</span><br><span class="line">3791</span><br><span class="line">3792</span><br><span class="line">3793</span><br><span class="line">3794</span><br><span class="line">3795</span><br><span class="line">3796</span><br><span class="line">3797</span><br><span class="line">3798</span><br><span class="line">3799</span><br><span class="line">3800</span><br><span class="line">3801</span><br><span class="line">3802</span><br><span class="line">3803</span><br><span class="line">3804</span><br><span class="line">3805</span><br><span class="line">3806</span><br><span class="line">3807</span><br><span class="line">3808</span><br><span class="line">3809</span><br><span class="line">3810</span><br><span class="line">3811</span><br><span class="line">3812</span><br><span class="line">3813</span><br><span class="line">3814</span><br><span class="line">3815</span><br><span class="line">3816</span><br><span class="line">3817</span><br><span class="line">3818</span><br><span class="line">3819</span><br><span class="line">3820</span><br><span class="line">3821</span><br><span class="line">3822</span><br><span class="line">3823</span><br><span class="line">3824</span><br><span class="line">3825</span><br><span class="line">3826</span><br><span class="line">3827</span><br><span class="line">3828</span><br><span class="line">3829</span><br><span class="line">3830</span><br><span class="line">3831</span><br><span class="line">3832</span><br><span class="line">3833</span><br><span class="line">3834</span><br><span class="line">3835</span><br><span class="line">3836</span><br><span class="line">3837</span><br><span class="line">3838</span><br><span class="line">3839</span><br><span class="line">3840</span><br><span class="line">3841</span><br><span class="line">3842</span><br><span class="line">3843</span><br><span class="line">3844</span><br><span class="line">3845</span><br><span class="line">3846</span><br><span class="line">3847</span><br><span class="line">3848</span><br><span class="line">3849</span><br><span class="line">3850</span><br><span class="line">3851</span><br><span class="line">3852</span><br><span class="line">3853</span><br><span class="line">3854</span><br><span class="line">3855</span><br><span class="line">3856</span><br><span class="line">3857</span><br><span class="line">3858</span><br><span class="line">3859</span><br><span class="line">3860</span><br><span class="line">3861</span><br><span class="line">3862</span><br><span class="line">3863</span><br><span class="line">3864</span><br><span class="line">3865</span><br><span class="line">3866</span><br><span class="line">3867</span><br><span class="line">3868</span><br><span class="line">3869</span><br><span class="line">3870</span><br><span class="line">3871</span><br><span class="line">3872</span><br><span class="line">3873</span><br><span class="line">3874</span><br><span class="line">3875</span><br><span class="line">3876</span><br><span class="line">3877</span><br><span class="line">3878</span><br><span class="line">3879</span><br><span class="line">3880</span><br><span class="line">3881</span><br><span class="line">3882</span><br><span class="line">3883</span><br><span class="line">3884</span><br><span class="line">3885</span><br><span class="line">3886</span><br><span class="line">3887</span><br><span class="line">3888</span><br><span class="line">3889</span><br><span class="line">3890</span><br><span class="line">3891</span><br><span class="line">3892</span><br><span class="line">3893</span><br><span class="line">3894</span><br><span class="line">3895</span><br><span class="line">3896</span><br><span class="line">3897</span><br><span class="line">3898</span><br><span class="line">3899</span><br><span class="line">3900</span><br><span class="line">3901</span><br><span class="line">3902</span><br><span class="line">3903</span><br><span class="line">3904</span><br><span class="line">3905</span><br><span class="line">3906</span><br><span class="line">3907</span><br><span class="line">3908</span><br><span class="line">3909</span><br><span class="line">3910</span><br><span class="line">3911</span><br><span class="line">3912</span><br><span class="line">3913</span><br><span class="line">3914</span><br><span class="line">3915</span><br><span class="line">3916</span><br><span class="line">3917</span><br><span class="line">3918</span><br><span class="line">3919</span><br><span class="line">3920</span><br><span class="line">3921</span><br><span class="line">3922</span><br><span class="line">3923</span><br><span class="line">3924</span><br><span class="line">3925</span><br><span class="line">3926</span><br><span class="line">3927</span><br><span class="line">3928</span><br><span class="line">3929</span><br><span class="line">3930</span><br><span class="line">3931</span><br><span class="line">3932</span><br><span class="line">3933</span><br><span class="line">3934</span><br><span class="line">3935</span><br><span class="line">3936</span><br><span class="line">3937</span><br><span class="line">3938</span><br><span class="line">3939</span><br><span class="line">3940</span><br><span class="line">3941</span><br><span class="line">3942</span><br><span class="line">3943</span><br><span class="line">3944</span><br><span class="line">3945</span><br><span class="line">3946</span><br><span class="line">3947</span><br><span class="line">3948</span><br><span class="line">3949</span><br><span class="line">3950</span><br><span class="line">3951</span><br><span class="line">3952</span><br><span class="line">3953</span><br><span class="line">3954</span><br><span class="line">3955</span><br><span class="line">3956</span><br><span class="line">3957</span><br><span class="line">3958</span><br><span class="line">3959</span><br><span class="line">3960</span><br><span class="line">3961</span><br><span class="line">3962</span><br><span class="line">3963</span><br><span class="line">3964</span><br><span class="line">3965</span><br><span class="line">3966</span><br><span class="line">3967</span><br><span class="line">3968</span><br><span class="line">3969</span><br><span class="line">3970</span><br><span class="line">3971</span><br><span class="line">3972</span><br><span class="line">3973</span><br><span class="line">3974</span><br><span class="line">3975</span><br><span class="line">3976</span><br><span class="line">3977</span><br><span class="line">3978</span><br><span class="line">3979</span><br><span class="line">3980</span><br><span class="line">3981</span><br><span class="line">3982</span><br><span class="line">3983</span><br><span class="line">3984</span><br><span class="line">3985</span><br><span class="line">3986</span><br><span class="line">3987</span><br><span class="line">3988</span><br><span class="line">3989</span><br><span class="line">3990</span><br><span class="line">3991</span><br><span class="line">3992</span><br><span class="line">3993</span><br><span class="line">3994</span><br><span class="line">3995</span><br><span class="line">3996</span><br><span class="line">3997</span><br><span class="line">3998</span><br><span class="line">3999</span><br><span class="line">4000</span><br><span class="line">4001</span><br><span class="line">4002</span><br><span class="line">4003</span><br><span class="line">4004</span><br><span class="line">4005</span><br><span class="line">4006</span><br><span class="line">4007</span><br><span class="line">4008</span><br><span class="line">4009</span><br><span class="line">4010</span><br><span class="line">4011</span><br><span class="line">4012</span><br><span class="line">4013</span><br><span class="line">4014</span><br><span class="line">4015</span><br><span class="line">4016</span><br><span class="line">4017</span><br><span class="line">4018</span><br><span class="line">4019</span><br><span class="line">4020</span><br><span class="line">4021</span><br><span class="line">4022</span><br><span class="line">4023</span><br><span class="line">4024</span><br><span class="line">4025</span><br><span class="line">4026</span><br><span class="line">4027</span><br><span class="line">4028</span><br><span class="line">4029</span><br><span class="line">4030</span><br><span class="line">4031</span><br><span class="line">4032</span><br><span class="line">4033</span><br><span class="line">4034</span><br><span class="line">4035</span><br><span class="line">4036</span><br><span class="line">4037</span><br><span class="line">4038</span><br><span class="line">4039</span><br><span class="line">4040</span><br><span class="line">4041</span><br><span class="line">4042</span><br><span class="line">4043</span><br><span class="line">4044</span><br><span class="line">4045</span><br><span class="line">4046</span><br><span class="line">4047</span><br><span class="line">4048</span><br><span class="line">4049</span><br><span class="line">4050</span><br><span class="line">4051</span><br><span class="line">4052</span><br><span class="line">4053</span><br><span class="line">4054</span><br><span class="line">4055</span><br><span class="line">4056</span><br><span class="line">4057</span><br><span class="line">4058</span><br><span class="line">4059</span><br><span class="line">4060</span><br><span class="line">4061</span><br><span class="line">4062</span><br><span class="line">4063</span><br><span class="line">4064</span><br><span class="line">4065</span><br><span class="line">4066</span><br><span class="line">4067</span><br><span class="line">4068</span><br><span class="line">4069</span><br><span class="line">4070</span><br><span class="line">4071</span><br><span class="line">4072</span><br><span class="line">4073</span><br><span class="line">4074</span><br><span class="line">4075</span><br><span class="line">4076</span><br><span class="line">4077</span><br><span class="line">4078</span><br><span class="line">4079</span><br><span class="line">4080</span><br><span class="line">4081</span><br><span class="line">4082</span><br><span class="line">4083</span><br><span class="line">4084</span><br><span class="line">4085</span><br><span class="line">4086</span><br><span class="line">4087</span><br><span class="line">4088</span><br><span class="line">4089</span><br><span class="line">4090</span><br><span class="line">4091</span><br><span class="line">4092</span><br><span class="line">4093</span><br><span class="line">4094</span><br><span class="line">4095</span><br><span class="line">4096</span><br><span class="line">4097</span><br><span class="line">4098</span><br><span class="line">4099</span><br><span class="line">4100</span><br><span class="line">4101</span><br><span class="line">4102</span><br><span class="line">4103</span><br><span class="line">4104</span><br><span class="line">4105</span><br><span class="line">4106</span><br><span class="line">4107</span><br><span class="line">4108</span><br><span class="line">4109</span><br><span class="line">4110</span><br><span class="line">4111</span><br><span class="line">4112</span><br><span class="line">4113</span><br><span class="line">4114</span><br><span class="line">4115</span><br><span class="line">4116</span><br><span class="line">4117</span><br><span class="line">4118</span><br><span class="line">4119</span><br><span class="line">4120</span><br><span class="line">4121</span><br><span class="line">4122</span><br><span class="line">4123</span><br><span class="line">4124</span><br><span class="line">4125</span><br><span class="line">4126</span><br><span class="line">4127</span><br><span class="line">4128</span><br><span class="line">4129</span><br><span class="line">4130</span><br><span class="line">4131</span><br><span class="line">4132</span><br><span class="line">4133</span><br><span class="line">4134</span><br><span class="line">4135</span><br><span class="line">4136</span><br><span class="line">4137</span><br><span class="line">4138</span><br><span class="line">4139</span><br><span class="line">4140</span><br><span class="line">4141</span><br><span class="line">4142</span><br><span class="line">4143</span><br><span class="line">4144</span><br><span class="line">4145</span><br><span class="line">4146</span><br><span class="line">4147</span><br><span class="line">4148</span><br><span class="line">4149</span><br><span class="line">4150</span><br><span class="line">4151</span><br><span class="line">4152</span><br><span class="line">4153</span><br><span class="line">4154</span><br><span class="line">4155</span><br><span class="line">4156</span><br><span class="line">4157</span><br><span class="line">4158</span><br><span class="line">4159</span><br><span class="line">4160</span><br><span class="line">4161</span><br><span class="line">4162</span><br><span class="line">4163</span><br><span class="line">4164</span><br><span class="line">4165</span><br><span class="line">4166</span><br><span class="line">4167</span><br><span class="line">4168</span><br><span class="line">4169</span><br><span class="line">4170</span><br><span class="line">4171</span><br><span class="line">4172</span><br><span class="line">4173</span><br><span class="line">4174</span><br><span class="line">4175</span><br><span class="line">4176</span><br><span class="line">4177</span><br><span class="line">4178</span><br><span class="line">4179</span><br><span class="line">4180</span><br><span class="line">4181</span><br><span class="line">4182</span><br><span class="line">4183</span><br><span class="line">4184</span><br><span class="line">4185</span><br><span class="line">4186</span><br><span class="line">4187</span><br><span class="line">4188</span><br><span class="line">4189</span><br><span class="line">4190</span><br><span class="line">4191</span><br><span class="line">4192</span><br><span class="line">4193</span><br><span class="line">4194</span><br><span class="line">4195</span><br><span class="line">4196</span><br><span class="line">4197</span><br><span class="line">4198</span><br><span class="line">4199</span><br><span class="line">4200</span><br><span class="line">4201</span><br><span class="line">4202</span><br><span class="line">4203</span><br><span class="line">4204</span><br><span class="line">4205</span><br><span class="line">4206</span><br><span class="line">4207</span><br><span class="line">4208</span><br><span class="line">4209</span><br><span class="line">4210</span><br><span class="line">4211</span><br><span class="line">4212</span><br><span class="line">4213</span><br><span class="line">4214</span><br><span class="line">4215</span><br><span class="line">4216</span><br><span class="line">4217</span><br><span class="line">4218</span><br><span class="line">4219</span><br><span class="line">4220</span><br><span class="line">4221</span><br><span class="line">4222</span><br><span class="line">4223</span><br><span class="line">4224</span><br><span class="line">4225</span><br><span class="line">4226</span><br><span class="line">4227</span><br><span class="line">4228</span><br><span class="line">4229</span><br><span class="line">4230</span><br><span class="line">4231</span><br><span class="line">4232</span><br><span class="line">4233</span><br><span class="line">4234</span><br><span class="line">4235</span><br><span class="line">4236</span><br><span class="line">4237</span><br><span class="line">4238</span><br><span class="line">4239</span><br><span class="line">4240</span><br><span class="line">4241</span><br><span class="line">4242</span><br><span class="line">4243</span><br><span class="line">4244</span><br><span class="line">4245</span><br><span class="line">4246</span><br><span class="line">4247</span><br><span class="line">4248</span><br><span class="line">4249</span><br><span class="line">4250</span><br><span class="line">4251</span><br><span class="line">4252</span><br><span class="line">4253</span><br><span class="line">4254</span><br><span class="line">4255</span><br><span class="line">4256</span><br><span class="line">4257</span><br><span class="line">4258</span><br><span class="line">4259</span><br><span class="line">4260</span><br><span class="line">4261</span><br><span class="line">4262</span><br><span class="line">4263</span><br><span class="line">4264</span><br><span class="line">4265</span><br><span class="line">4266</span><br><span class="line">4267</span><br><span class="line">4268</span><br><span class="line">4269</span><br><span class="line">4270</span><br><span class="line">4271</span><br><span class="line">4272</span><br><span class="line">4273</span><br><span class="line">4274</span><br><span class="line">4275</span><br><span class="line">4276</span><br><span class="line">4277</span><br><span class="line">4278</span><br><span class="line">4279</span><br><span class="line">4280</span><br><span class="line">4281</span><br><span class="line">4282</span><br><span class="line">4283</span><br><span class="line">4284</span><br><span class="line">4285</span><br><span class="line">4286</span><br><span class="line">4287</span><br><span class="line">4288</span><br><span class="line">4289</span><br><span class="line">4290</span><br><span class="line">4291</span><br><span class="line">4292</span><br><span class="line">4293</span><br><span class="line">4294</span><br><span class="line">4295</span><br><span class="line">4296</span><br><span class="line">4297</span><br><span class="line">4298</span><br><span class="line">4299</span><br><span class="line">4300</span><br><span class="line">4301</span><br><span class="line">4302</span><br><span class="line">4303</span><br><span class="line">4304</span><br><span class="line">4305</span><br><span class="line">4306</span><br><span class="line">4307</span><br><span class="line">4308</span><br><span class="line">4309</span><br><span class="line">4310</span><br><span class="line">4311</span><br><span class="line">4312</span><br><span class="line">4313</span><br><span class="line">4314</span><br><span class="line">4315</span><br><span class="line">4316</span><br><span class="line">4317</span><br><span class="line">4318</span><br><span class="line">4319</span><br><span class="line">4320</span><br><span class="line">4321</span><br><span class="line">4322</span><br><span class="line">4323</span><br><span class="line">4324</span><br><span class="line">4325</span><br><span class="line">4326</span><br><span class="line">4327</span><br><span class="line">4328</span><br><span class="line">4329</span><br><span class="line">4330</span><br><span class="line">4331</span><br><span class="line">4332</span><br><span class="line">4333</span><br><span class="line">4334</span><br><span class="line">4335</span><br><span class="line">4336</span><br><span class="line">4337</span><br><span class="line">4338</span><br><span class="line">4339</span><br><span class="line">4340</span><br><span class="line">4341</span><br><span class="line">4342</span><br><span class="line">4343</span><br><span class="line">4344</span><br><span class="line">4345</span><br><span class="line">4346</span><br><span class="line">4347</span><br><span class="line">4348</span><br><span class="line">4349</span><br><span class="line">4350</span><br><span class="line">4351</span><br><span class="line">4352</span><br><span class="line">4353</span><br><span class="line">4354</span><br><span class="line">4355</span><br><span class="line">4356</span><br><span class="line">4357</span><br><span class="line">4358</span><br><span class="line">4359</span><br><span class="line">4360</span><br><span class="line">4361</span><br><span class="line">4362</span><br><span class="line">4363</span><br><span class="line">4364</span><br><span class="line">4365</span><br><span class="line">4366</span><br><span class="line">4367</span><br><span class="line">4368</span><br><span class="line">4369</span><br><span class="line">4370</span><br><span class="line">4371</span><br><span class="line">4372</span><br><span class="line">4373</span><br><span class="line">4374</span><br><span class="line">4375</span><br><span class="line">4376</span><br><span class="line">4377</span><br><span class="line">4378</span><br><span class="line">4379</span><br><span class="line">4380</span><br><span class="line">4381</span><br><span class="line">4382</span><br><span class="line">4383</span><br><span class="line">4384</span><br><span class="line">4385</span><br><span class="line">4386</span><br><span class="line">4387</span><br><span class="line">4388</span><br><span class="line">4389</span><br><span class="line">4390</span><br><span class="line">4391</span><br><span class="line">4392</span><br><span class="line">4393</span><br><span class="line">4394</span><br><span class="line">4395</span><br><span class="line">4396</span><br><span class="line">4397</span><br><span class="line">4398</span><br><span class="line">4399</span><br><span class="line">4400</span><br><span class="line">4401</span><br><span class="line">4402</span><br><span class="line">4403</span><br><span class="line">4404</span><br><span class="line">4405</span><br><span class="line">4406</span><br><span class="line">4407</span><br><span class="line">4408</span><br><span class="line">4409</span><br><span class="line">4410</span><br><span class="line">4411</span><br><span class="line">4412</span><br><span class="line">4413</span><br><span class="line">4414</span><br><span class="line">4415</span><br><span class="line">4416</span><br><span class="line">4417</span><br><span class="line">4418</span><br><span class="line">4419</span><br><span class="line">4420</span><br><span class="line">4421</span><br><span class="line">4422</span><br><span class="line">4423</span><br><span class="line">4424</span><br><span class="line">4425</span><br><span class="line">4426</span><br><span class="line">4427</span><br><span class="line">4428</span><br><span class="line">4429</span><br><span class="line">4430</span><br><span class="line">4431</span><br><span class="line">4432</span><br><span class="line">4433</span><br><span class="line">4434</span><br><span class="line">4435</span><br><span class="line">4436</span><br><span class="line">4437</span><br><span class="line">4438</span><br><span class="line">4439</span><br><span class="line">4440</span><br><span class="line">4441</span><br><span class="line">4442</span><br><span class="line">4443</span><br><span class="line">4444</span><br><span class="line">4445</span><br><span class="line">4446</span><br><span class="line">4447</span><br><span class="line">4448</span><br><span class="line">4449</span><br><span class="line">4450</span><br><span class="line">4451</span><br><span class="line">4452</span><br><span class="line">4453</span><br><span class="line">4454</span><br><span class="line">4455</span><br><span class="line">4456</span><br><span class="line">4457</span><br><span class="line">4458</span><br><span class="line">4459</span><br><span class="line">4460</span><br><span class="line">4461</span><br><span class="line">4462</span><br><span class="line">4463</span><br><span class="line">4464</span><br><span class="line">4465</span><br><span class="line">4466</span><br><span class="line">4467</span><br><span class="line">4468</span><br><span class="line">4469</span><br><span class="line">4470</span><br><span class="line">4471</span><br><span class="line">4472</span><br><span class="line">4473</span><br><span class="line">4474</span><br><span class="line">4475</span><br><span class="line">4476</span><br><span class="line">4477</span><br><span class="line">4478</span><br><span class="line">4479</span><br><span class="line">4480</span><br><span class="line">4481</span><br><span class="line">4482</span><br><span class="line">4483</span><br><span class="line">4484</span><br><span class="line">4485</span><br><span class="line">4486</span><br><span class="line">4487</span><br><span class="line">4488</span><br><span class="line">4489</span><br><span class="line">4490</span><br><span class="line">4491</span><br><span class="line">4492</span><br><span class="line">4493</span><br><span class="line">4494</span><br><span class="line">4495</span><br><span class="line">4496</span><br><span class="line">4497</span><br><span class="line">4498</span><br><span class="line">4499</span><br><span class="line">4500</span><br><span class="line">4501</span><br><span class="line">4502</span><br><span class="line">4503</span><br><span class="line">4504</span><br><span class="line">4505</span><br><span class="line">4506</span><br><span class="line">4507</span><br><span class="line">4508</span><br><span class="line">4509</span><br><span class="line">4510</span><br><span class="line">4511</span><br><span class="line">4512</span><br><span class="line">4513</span><br><span class="line">4514</span><br><span class="line">4515</span><br><span class="line">4516</span><br><span class="line">4517</span><br><span class="line">4518</span><br><span class="line">4519</span><br><span class="line">4520</span><br><span class="line">4521</span><br><span class="line">4522</span><br><span class="line">4523</span><br><span class="line">4524</span><br><span class="line">4525</span><br><span class="line">4526</span><br><span class="line">4527</span><br><span class="line">4528</span><br><span class="line">4529</span><br><span class="line">4530</span><br><span class="line">4531</span><br><span class="line">4532</span><br><span class="line">4533</span><br><span class="line">4534</span><br><span class="line">4535</span><br><span class="line">4536</span><br><span class="line">4537</span><br><span class="line">4538</span><br><span class="line">4539</span><br><span class="line">4540</span><br><span class="line">4541</span><br><span class="line">4542</span><br><span class="line">4543</span><br><span class="line">4544</span><br><span class="line">4545</span><br><span class="line">4546</span><br><span class="line">4547</span><br><span class="line">4548</span><br><span class="line">4549</span><br><span class="line">4550</span><br><span class="line">4551</span><br><span class="line">4552</span><br><span class="line">4553</span><br><span class="line">4554</span><br><span class="line">4555</span><br><span class="line">4556</span><br><span class="line">4557</span><br><span class="line">4558</span><br><span class="line">4559</span><br><span class="line">4560</span><br><span class="line">4561</span><br><span class="line">4562</span><br><span class="line">4563</span><br><span class="line">4564</span><br><span class="line">4565</span><br><span class="line">4566</span><br><span class="line">4567</span><br><span class="line">4568</span><br><span class="line">4569</span><br><span class="line">4570</span><br><span class="line">4571</span><br><span class="line">4572</span><br><span class="line">4573</span><br><span class="line">4574</span><br><span class="line">4575</span><br><span class="line">4576</span><br><span class="line">4577</span><br><span class="line">4578</span><br><span class="line">4579</span><br><span class="line">4580</span><br><span class="line">4581</span><br><span class="line">4582</span><br><span class="line">4583</span><br><span class="line">4584</span><br><span class="line">4585</span><br><span class="line">4586</span><br><span class="line">4587</span><br><span class="line">4588</span><br><span class="line">4589</span><br><span class="line">4590</span><br><span class="line">4591</span><br><span class="line">4592</span><br><span class="line">4593</span><br><span class="line">4594</span><br><span class="line">4595</span><br><span class="line">4596</span><br><span class="line">4597</span><br><span class="line">4598</span><br><span class="line">4599</span><br><span class="line">4600</span><br><span class="line">4601</span><br><span class="line">4602</span><br><span class="line">4603</span><br><span class="line">4604</span><br><span class="line">4605</span><br><span class="line">4606</span><br><span class="line">4607</span><br><span class="line">4608</span><br><span class="line">4609</span><br><span class="line">4610</span><br><span class="line">4611</span><br><span class="line">4612</span><br><span class="line">4613</span><br><span class="line">4614</span><br><span class="line">4615</span><br><span class="line">4616</span><br><span class="line">4617</span><br><span class="line">4618</span><br><span class="line">4619</span><br><span class="line">4620</span><br><span class="line">4621</span><br><span class="line">4622</span><br><span class="line">4623</span><br><span class="line">4624</span><br><span class="line">4625</span><br><span class="line">4626</span><br><span class="line">4627</span><br><span class="line">4628</span><br><span class="line">4629</span><br><span class="line">4630</span><br><span class="line">4631</span><br><span class="line">4632</span><br><span class="line">4633</span><br><span class="line">4634</span><br><span class="line">4635</span><br><span class="line">4636</span><br><span class="line">4637</span><br><span class="line">4638</span><br><span class="line">4639</span><br><span class="line">4640</span><br><span class="line">4641</span><br><span class="line">4642</span><br><span class="line">4643</span><br><span class="line">4644</span><br><span class="line">4645</span><br><span class="line">4646</span><br><span class="line">4647</span><br><span class="line">4648</span><br><span class="line">4649</span><br><span class="line">4650</span><br><span class="line">4651</span><br><span class="line">4652</span><br><span class="line">4653</span><br><span class="line">4654</span><br><span class="line">4655</span><br><span class="line">4656</span><br><span class="line">4657</span><br><span class="line">4658</span><br><span class="line">4659</span><br><span class="line">4660</span><br><span class="line">4661</span><br><span class="line">4662</span><br><span class="line">4663</span><br><span class="line">4664</span><br><span class="line">4665</span><br><span class="line">4666</span><br><span class="line">4667</span><br><span class="line">4668</span><br><span class="line">4669</span><br><span class="line">4670</span><br><span class="line">4671</span><br><span class="line">4672</span><br><span class="line">4673</span><br><span class="line">4674</span><br><span class="line">4675</span><br><span class="line">4676</span><br><span class="line">4677</span><br><span class="line">4678</span><br><span class="line">4679</span><br><span class="line">4680</span><br><span class="line">4681</span><br><span class="line">4682</span><br><span class="line">4683</span><br><span class="line">4684</span><br><span class="line">4685</span><br><span class="line">4686</span><br><span class="line">4687</span><br><span class="line">4688</span><br><span class="line">4689</span><br><span class="line">4690</span><br><span class="line">4691</span><br><span class="line">4692</span><br><span class="line">4693</span><br><span class="line">4694</span><br><span class="line">4695</span><br><span class="line">4696</span><br><span class="line">4697</span><br><span class="line">4698</span><br><span class="line">4699</span><br><span class="line">4700</span><br><span class="line">4701</span><br><span class="line">4702</span><br><span class="line">4703</span><br><span class="line">4704</span><br><span class="line">4705</span><br><span class="line">4706</span><br><span class="line">4707</span><br><span class="line">4708</span><br><span class="line">4709</span><br><span class="line">4710</span><br><span class="line">4711</span><br><span class="line">4712</span><br><span class="line">4713</span><br><span class="line">4714</span><br><span class="line">4715</span><br><span class="line">4716</span><br><span class="line">4717</span><br><span class="line">4718</span><br><span class="line">4719</span><br><span class="line">4720</span><br><span class="line">4721</span><br><span class="line">4722</span><br><span class="line">4723</span><br><span class="line">4724</span><br><span class="line">4725</span><br><span class="line">4726</span><br><span class="line">4727</span><br><span class="line">4728</span><br><span class="line">4729</span><br><span class="line">4730</span><br><span class="line">4731</span><br><span class="line">4732</span><br><span class="line">4733</span><br><span class="line">4734</span><br><span class="line">4735</span><br><span class="line">4736</span><br><span class="line">4737</span><br><span class="line">4738</span><br><span class="line">4739</span><br><span class="line">4740</span><br><span class="line">4741</span><br><span class="line">4742</span><br><span class="line">4743</span><br><span class="line">4744</span><br><span class="line">4745</span><br><span class="line">4746</span><br><span class="line">4747</span><br><span class="line">4748</span><br><span class="line">4749</span><br><span class="line">4750</span><br><span class="line">4751</span><br><span class="line">4752</span><br><span class="line">4753</span><br><span class="line">4754</span><br><span class="line">4755</span><br><span class="line">4756</span><br><span class="line">4757</span><br><span class="line">4758</span><br><span class="line">4759</span><br><span class="line">4760</span><br><span class="line">4761</span><br><span class="line">4762</span><br><span class="line">4763</span><br><span class="line">4764</span><br><span class="line">4765</span><br><span class="line">4766</span><br><span class="line">4767</span><br><span class="line">4768</span><br><span class="line">4769</span><br><span class="line">4770</span><br><span class="line">4771</span><br><span class="line">4772</span><br><span class="line">4773</span><br><span class="line">4774</span><br><span class="line">4775</span><br><span class="line">4776</span><br><span class="line">4777</span><br><span class="line">4778</span><br><span class="line">4779</span><br><span class="line">4780</span><br><span class="line">4781</span><br><span class="line">4782</span><br><span class="line">4783</span><br><span class="line">4784</span><br><span class="line">4785</span><br><span class="line">4786</span><br><span class="line">4787</span><br><span class="line">4788</span><br><span class="line">4789</span><br><span class="line">4790</span><br><span class="line">4791</span><br><span class="line">4792</span><br><span class="line">4793</span><br><span class="line">4794</span><br><span class="line">4795</span><br><span class="line">4796</span><br><span class="line">4797</span><br><span class="line">4798</span><br><span class="line">4799</span><br><span class="line">4800</span><br><span class="line">4801</span><br><span class="line">4802</span><br><span class="line">4803</span><br><span class="line">4804</span><br><span class="line">4805</span><br><span class="line">4806</span><br><span class="line">4807</span><br><span class="line">4808</span><br><span class="line">4809</span><br><span class="line">4810</span><br><span class="line">4811</span><br><span class="line">4812</span><br><span class="line">4813</span><br><span class="line">4814</span><br><span class="line">4815</span><br><span class="line">4816</span><br><span class="line">4817</span><br><span class="line">4818</span><br><span class="line">4819</span><br><span class="line">4820</span><br><span class="line">4821</span><br><span class="line">4822</span><br><span class="line">4823</span><br><span class="line">4824</span><br><span class="line">4825</span><br><span class="line">4826</span><br><span class="line">4827</span><br><span class="line">4828</span><br><span class="line">4829</span><br><span class="line">4830</span><br><span class="line">4831</span><br><span class="line">4832</span><br><span class="line">4833</span><br><span class="line">4834</span><br><span class="line">4835</span><br><span class="line">4836</span><br><span class="line">4837</span><br><span class="line">4838</span><br><span class="line">4839</span><br><span class="line">4840</span><br><span class="line">4841</span><br><span class="line">4842</span><br><span class="line">4843</span><br><span class="line">4844</span><br><span class="line">4845</span><br><span class="line">4846</span><br><span class="line">4847</span><br><span class="line">4848</span><br><span class="line">4849</span><br><span class="line">4850</span><br><span class="line">4851</span><br><span class="line">4852</span><br><span class="line">4853</span><br><span class="line">4854</span><br><span class="line">4855</span><br><span class="line">4856</span><br><span class="line">4857</span><br><span class="line">4858</span><br><span class="line">4859</span><br><span class="line">4860</span><br><span class="line">4861</span><br><span class="line">4862</span><br><span class="line">4863</span><br><span class="line">4864</span><br><span class="line">4865</span><br><span class="line">4866</span><br><span class="line">4867</span><br><span class="line">4868</span><br><span class="line">4869</span><br><span class="line">4870</span><br><span class="line">4871</span><br><span class="line">4872</span><br><span class="line">4873</span><br><span class="line">4874</span><br><span class="line">4875</span><br><span class="line">4876</span><br><span class="line">4877</span><br><span class="line">4878</span><br><span class="line">4879</span><br><span class="line">4880</span><br><span class="line">4881</span><br><span class="line">4882</span><br><span class="line">4883</span><br><span class="line">4884</span><br><span class="line">4885</span><br><span class="line">4886</span><br><span class="line">4887</span><br><span class="line">4888</span><br><span class="line">4889</span><br><span class="line">4890</span><br><span class="line">4891</span><br><span class="line">4892</span><br><span class="line">4893</span><br><span class="line">4894</span><br><span class="line">4895</span><br><span class="line">4896</span><br><span class="line">4897</span><br><span class="line">4898</span><br><span class="line">4899</span><br><span class="line">4900</span><br><span class="line">4901</span><br><span class="line">4902</span><br><span class="line">4903</span><br><span class="line">4904</span><br><span class="line">4905</span><br><span class="line">4906</span><br><span class="line">4907</span><br><span class="line">4908</span><br><span class="line">4909</span><br><span class="line">4910</span><br><span class="line">4911</span><br><span class="line">4912</span><br><span class="line">4913</span><br><span class="line">4914</span><br><span class="line">4915</span><br><span class="line">4916</span><br><span class="line">4917</span><br><span class="line">4918</span><br><span class="line">4919</span><br><span class="line">4920</span><br><span class="line">4921</span><br><span class="line">4922</span><br><span class="line">4923</span><br><span class="line">4924</span><br><span class="line">4925</span><br><span class="line">4926</span><br><span class="line">4927</span><br><span class="line">4928</span><br><span class="line">4929</span><br><span class="line">4930</span><br><span class="line">4931</span><br><span class="line">4932</span><br><span class="line">4933</span><br><span class="line">4934</span><br><span class="line">4935</span><br><span class="line">4936</span><br><span class="line">4937</span><br><span class="line">4938</span><br><span class="line">4939</span><br><span class="line">4940</span><br><span class="line">4941</span><br><span class="line">4942</span><br><span class="line">4943</span><br><span class="line">4944</span><br><span class="line">4945</span><br><span class="line">4946</span><br><span class="line">4947</span><br><span class="line">4948</span><br><span class="line">4949</span><br><span class="line">4950</span><br><span class="line">4951</span><br><span class="line">4952</span><br><span class="line">4953</span><br><span class="line">4954</span><br><span class="line">4955</span><br><span class="line">4956</span><br><span class="line">4957</span><br><span class="line">4958</span><br><span class="line">4959</span><br><span class="line">4960</span><br><span class="line">4961</span><br><span class="line">4962</span><br><span class="line">4963</span><br><span class="line">4964</span><br><span class="line">4965</span><br><span class="line">4966</span><br><span class="line">4967</span><br><span class="line">4968</span><br><span class="line">4969</span><br><span class="line">4970</span><br><span class="line">4971</span><br><span class="line">4972</span><br><span class="line">4973</span><br><span class="line">4974</span><br><span class="line">4975</span><br><span class="line">4976</span><br><span class="line">4977</span><br><span class="line">4978</span><br><span class="line">4979</span><br><span class="line">4980</span><br><span class="line">4981</span><br><span class="line">4982</span><br><span class="line">4983</span><br><span class="line">4984</span><br><span class="line">4985</span><br><span class="line">4986</span><br><span class="line">4987</span><br><span class="line">4988</span><br><span class="line">4989</span><br><span class="line">4990</span><br><span class="line">4991</span><br><span class="line">4992</span><br><span class="line">4993</span><br><span class="line">4994</span><br><span class="line">4995</span><br><span class="line">4996</span><br><span class="line">4997</span><br><span class="line">4998</span><br><span class="line">4999</span><br><span class="line">5000</span><br><span class="line">5001</span><br><span class="line">5002</span><br><span class="line">5003</span><br><span class="line">5004</span><br><span class="line">5005</span><br><span class="line">5006</span><br><span class="line">5007</span><br><span class="line">5008</span><br><span class="line">5009</span><br><span class="line">5010</span><br><span class="line">5011</span><br><span class="line">5012</span><br><span class="line">5013</span><br><span class="line">5014</span><br><span class="line">5015</span><br><span class="line">5016</span><br><span class="line">5017</span><br><span class="line">5018</span><br><span class="line">5019</span><br><span class="line">5020</span><br><span class="line">5021</span><br><span class="line">5022</span><br><span class="line">5023</span><br><span class="line">5024</span><br><span class="line">5025</span><br><span class="line">5026</span><br><span class="line">5027</span><br><span class="line">5028</span><br><span class="line">5029</span><br><span class="line">5030</span><br><span class="line">5031</span><br><span class="line">5032</span><br><span class="line">5033</span><br><span class="line">5034</span><br><span class="line">5035</span><br><span class="line">5036</span><br><span class="line">5037</span><br><span class="line">5038</span><br><span class="line">5039</span><br><span class="line">5040</span><br><span class="line">5041</span><br><span class="line">5042</span><br><span class="line">5043</span><br><span class="line">5044</span><br><span class="line">5045</span><br><span class="line">5046</span><br><span class="line">5047</span><br><span class="line">5048</span><br><span class="line">5049</span><br><span class="line">5050</span><br><span class="line">5051</span><br><span class="line">5052</span><br><span class="line">5053</span><br><span class="line">5054</span><br><span class="line">5055</span><br><span class="line">5056</span><br><span class="line">5057</span><br><span class="line">5058</span><br><span class="line">5059</span><br><span class="line">5060</span><br><span class="line">5061</span><br><span class="line">5062</span><br><span class="line">5063</span><br><span class="line">5064</span><br><span class="line">5065</span><br><span class="line">5066</span><br><span class="line">5067</span><br><span class="line">5068</span><br><span class="line">5069</span><br><span class="line">5070</span><br><span class="line">5071</span><br><span class="line">5072</span><br><span class="line">5073</span><br><span class="line">5074</span><br><span class="line">5075</span><br><span class="line">5076</span><br><span class="line">5077</span><br><span class="line">5078</span><br><span class="line">5079</span><br><span class="line">5080</span><br><span class="line">5081</span><br><span class="line">5082</span><br><span class="line">5083</span><br><span class="line">5084</span><br><span class="line">5085</span><br><span class="line">5086</span><br><span class="line">5087</span><br><span class="line">5088</span><br><span class="line">5089</span><br><span class="line">5090</span><br><span class="line">5091</span><br><span class="line">5092</span><br><span class="line">5093</span><br><span class="line">5094</span><br><span class="line">5095</span><br><span class="line">5096</span><br><span class="line">5097</span><br><span class="line">5098</span><br><span class="line">5099</span><br><span class="line">5100</span><br><span class="line">5101</span><br><span class="line">5102</span><br><span class="line">5103</span><br><span class="line">5104</span><br><span class="line">5105</span><br><span class="line">5106</span><br><span class="line">5107</span><br><span class="line">5108</span><br><span class="line">5109</span><br><span class="line">5110</span><br><span class="line">5111</span><br><span class="line">5112</span><br><span class="line">5113</span><br><span class="line">5114</span><br><span class="line">5115</span><br><span class="line">5116</span><br><span class="line">5117</span><br><span class="line">5118</span><br><span class="line">5119</span><br><span class="line">5120</span><br><span class="line">5121</span><br><span class="line">5122</span><br><span class="line">5123</span><br><span class="line">5124</span><br><span class="line">5125</span><br><span class="line">5126</span><br><span class="line">5127</span><br><span class="line">5128</span><br><span class="line">5129</span><br><span class="line">5130</span><br><span class="line">5131</span><br><span class="line">5132</span><br><span class="line">5133</span><br><span class="line">5134</span><br><span class="line">5135</span><br><span class="line">5136</span><br><span class="line">5137</span><br><span class="line">5138</span><br><span class="line">5139</span><br><span class="line">5140</span><br><span class="line">5141</span><br><span class="line">5142</span><br><span class="line">5143</span><br><span class="line">5144</span><br><span class="line">5145</span><br><span class="line">5146</span><br><span class="line">5147</span><br><span class="line">5148</span><br><span class="line">5149</span><br><span class="line">5150</span><br><span class="line">5151</span><br><span class="line">5152</span><br><span class="line">5153</span><br><span class="line">5154</span><br><span class="line">5155</span><br><span class="line">5156</span><br><span class="line">5157</span><br><span class="line">5158</span><br><span class="line">5159</span><br><span class="line">5160</span><br><span class="line">5161</span><br><span class="line">5162</span><br><span class="line">5163</span><br><span class="line">5164</span><br><span class="line">5165</span><br><span class="line">5166</span><br><span class="line">5167</span><br><span class="line">5168</span><br><span class="line">5169</span><br><span class="line">5170</span><br><span class="line">5171</span><br><span class="line">5172</span><br><span class="line">5173</span><br><span class="line">5174</span><br><span class="line">5175</span><br><span class="line">5176</span><br><span class="line">5177</span><br><span class="line">5178</span><br><span class="line">5179</span><br><span class="line">5180</span><br><span class="line">5181</span><br><span class="line">5182</span><br><span class="line">5183</span><br><span class="line">5184</span><br><span class="line">5185</span><br><span class="line">5186</span><br><span class="line">5187</span><br><span class="line">5188</span><br><span class="line">5189</span><br><span class="line">5190</span><br><span class="line">5191</span><br><span class="line">5192</span><br><span class="line">5193</span><br><span class="line">5194</span><br><span class="line">5195</span><br><span class="line">5196</span><br><span class="line">5197</span><br><span class="line">5198</span><br><span class="line">5199</span><br><span class="line">5200</span><br><span class="line">5201</span><br><span class="line">5202</span><br><span class="line">5203</span><br><span class="line">5204</span><br><span class="line">5205</span><br><span class="line">5206</span><br><span class="line">5207</span><br><span class="line">5208</span><br><span class="line">5209</span><br><span class="line">5210</span><br><span class="line">5211</span><br><span class="line">5212</span><br><span class="line">5213</span><br><span class="line">5214</span><br><span class="line">5215</span><br><span class="line">5216</span><br><span class="line">5217</span><br><span class="line">5218</span><br><span class="line">5219</span><br><span class="line">5220</span><br><span class="line">5221</span><br><span class="line">5222</span><br><span class="line">5223</span><br><span class="line">5224</span><br><span class="line">5225</span><br><span class="line">5226</span><br><span class="line">5227</span><br><span class="line">5228</span><br><span class="line">5229</span><br><span class="line">5230</span><br><span class="line">5231</span><br><span class="line">5232</span><br><span class="line">5233</span><br><span class="line">5234</span><br><span class="line">5235</span><br><span class="line">5236</span><br><span class="line">5237</span><br><span class="line">5238</span><br><span class="line">5239</span><br><span class="line">5240</span><br><span class="line">5241</span><br><span class="line">5242</span><br><span class="line">5243</span><br><span class="line">5244</span><br><span class="line">5245</span><br><span class="line">5246</span><br><span class="line">5247</span><br><span class="line">5248</span><br><span class="line">5249</span><br><span class="line">5250</span><br><span class="line">5251</span><br><span class="line">5252</span><br><span class="line">5253</span><br><span class="line">5254</span><br><span class="line">5255</span><br><span class="line">5256</span><br><span class="line">5257</span><br><span class="line">5258</span><br><span class="line">5259</span><br><span class="line">5260</span><br><span class="line">5261</span><br><span class="line">5262</span><br><span class="line">5263</span><br><span class="line">5264</span><br><span class="line">5265</span><br><span class="line">5266</span><br><span class="line">5267</span><br><span class="line">5268</span><br><span class="line">5269</span><br><span class="line">5270</span><br><span class="line">5271</span><br><span class="line">5272</span><br><span class="line">5273</span><br><span class="line">5274</span><br><span class="line">5275</span><br><span class="line">5276</span><br><span class="line">5277</span><br><span class="line">5278</span><br><span class="line">5279</span><br><span class="line">5280</span><br><span class="line">5281</span><br><span class="line">5282</span><br><span class="line">5283</span><br><span class="line">5284</span><br><span class="line">5285</span><br><span class="line">5286</span><br><span class="line">5287</span><br><span class="line">5288</span><br><span class="line">5289</span><br><span class="line">5290</span><br><span class="line">5291</span><br><span class="line">5292</span><br><span class="line">5293</span><br><span class="line">5294</span><br><span class="line">5295</span><br><span class="line">5296</span><br><span class="line">5297</span><br><span class="line">5298</span><br><span class="line">5299</span><br><span class="line">5300</span><br><span class="line">5301</span><br><span class="line">5302</span><br><span class="line">5303</span><br><span class="line">5304</span><br><span class="line">5305</span><br><span class="line">5306</span><br><span class="line">5307</span><br><span class="line">5308</span><br><span class="line">5309</span><br><span class="line">5310</span><br><span class="line">5311</span><br><span class="line">5312</span><br><span class="line">5313</span><br><span class="line">5314</span><br><span class="line">5315</span><br><span class="line">5316</span><br><span class="line">5317</span><br><span class="line">5318</span><br><span class="line">5319</span><br><span class="line">5320</span><br><span class="line">5321</span><br><span class="line">5322</span><br><span class="line">5323</span><br><span class="line">5324</span><br><span class="line">5325</span><br><span class="line">5326</span><br><span class="line">5327</span><br><span class="line">5328</span><br><span class="line">5329</span><br><span class="line">5330</span><br><span class="line">5331</span><br><span class="line">5332</span><br><span class="line">5333</span><br><span class="line">5334</span><br><span class="line">5335</span><br><span class="line">5336</span><br><span class="line">5337</span><br><span class="line">5338</span><br><span class="line">5339</span><br><span class="line">5340</span><br><span class="line">5341</span><br><span class="line">5342</span><br><span class="line">5343</span><br><span class="line">5344</span><br><span class="line">5345</span><br><span class="line">5346</span><br><span class="line">5347</span><br><span class="line">5348</span><br><span class="line">5349</span><br><span class="line">5350</span><br><span class="line">5351</span><br><span class="line">5352</span><br><span class="line">5353</span><br><span class="line">5354</span><br><span class="line">5355</span><br><span class="line">5356</span><br><span class="line">5357</span><br><span class="line">5358</span><br><span class="line">5359</span><br><span class="line">5360</span><br><span class="line">5361</span><br><span class="line">5362</span><br><span class="line">5363</span><br><span class="line">5364</span><br><span class="line">5365</span><br><span class="line">5366</span><br><span class="line">5367</span><br><span class="line">5368</span><br><span class="line">5369</span><br><span class="line">5370</span><br><span class="line">5371</span><br><span class="line">5372</span><br><span class="line">5373</span><br><span class="line">5374</span><br><span class="line">5375</span><br><span class="line">5376</span><br><span class="line">5377</span><br><span class="line">5378</span><br><span class="line">5379</span><br><span class="line">5380</span><br><span class="line">5381</span><br><span class="line">5382</span><br><span class="line">5383</span><br><span class="line">5384</span><br><span class="line">5385</span><br><span class="line">5386</span><br><span class="line">5387</span><br><span class="line">5388</span><br><span class="line">5389</span><br><span class="line">5390</span><br><span class="line">5391</span><br><span class="line">5392</span><br><span class="line">5393</span><br><span class="line">5394</span><br><span class="line">5395</span><br><span class="line">5396</span><br><span class="line">5397</span><br><span class="line">5398</span><br><span class="line">5399</span><br><span class="line">5400</span><br><span class="line">5401</span><br><span class="line">5402</span><br><span class="line">5403</span><br><span class="line">5404</span><br><span class="line">5405</span><br><span class="line">5406</span><br><span class="line">5407</span><br><span class="line">5408</span><br><span class="line">5409</span><br><span class="line">5410</span><br><span class="line">5411</span><br><span class="line">5412</span><br><span class="line">5413</span><br><span class="line">5414</span><br><span class="line">5415</span><br><span class="line">5416</span><br><span class="line">5417</span><br><span class="line">5418</span><br><span class="line">5419</span><br><span class="line">5420</span><br><span class="line">5421</span><br><span class="line">5422</span><br><span class="line">5423</span><br><span class="line">5424</span><br><span class="line">5425</span><br><span class="line">5426</span><br><span class="line">5427</span><br><span class="line">5428</span><br><span class="line">5429</span><br><span class="line">5430</span><br><span class="line">5431</span><br><span class="line">5432</span><br><span class="line">5433</span><br><span class="line">5434</span><br><span class="line">5435</span><br><span class="line">5436</span><br><span class="line">5437</span><br><span class="line">5438</span><br><span class="line">5439</span><br><span class="line">5440</span><br><span class="line">5441</span><br><span class="line">5442</span><br><span class="line">5443</span><br><span class="line">5444</span><br><span class="line">5445</span><br><span class="line">5446</span><br><span class="line">5447</span><br><span class="line">5448</span><br><span class="line">5449</span><br><span class="line">5450</span><br><span class="line">5451</span><br><span class="line">5452</span><br><span class="line">5453</span><br><span class="line">5454</span><br><span class="line">5455</span><br><span class="line">5456</span><br><span class="line">5457</span><br><span class="line">5458</span><br><span class="line">5459</span><br><span class="line">5460</span><br><span class="line">5461</span><br><span class="line">5462</span><br><span class="line">5463</span><br><span class="line">5464</span><br><span class="line">5465</span><br><span class="line">5466</span><br><span class="line">5467</span><br><span class="line">5468</span><br><span class="line">5469</span><br><span class="line">5470</span><br><span class="line">5471</span><br><span class="line">5472</span><br><span class="line">5473</span><br><span class="line">5474</span><br><span class="line">5475</span><br><span class="line">5476</span><br><span class="line">5477</span><br><span class="line">5478</span><br><span class="line">5479</span><br><span class="line">5480</span><br><span class="line">5481</span><br><span class="line">5482</span><br><span class="line">5483</span><br><span class="line">5484</span><br><span class="line">5485</span><br><span class="line">5486</span><br><span class="line">5487</span><br><span class="line">5488</span><br><span class="line">5489</span><br><span class="line">5490</span><br><span class="line">5491</span><br><span class="line">5492</span><br><span class="line">5493</span><br><span class="line">5494</span><br><span class="line">5495</span><br><span class="line">5496</span><br><span class="line">5497</span><br><span class="line">5498</span><br><span class="line">5499</span><br><span class="line">5500</span><br><span class="line">5501</span><br><span class="line">5502</span><br><span class="line">5503</span><br><span class="line">5504</span><br><span class="line">5505</span><br><span class="line">5506</span><br><span class="line">5507</span><br><span class="line">5508</span><br><span class="line">5509</span><br><span class="line">5510</span><br><span class="line">5511</span><br><span class="line">5512</span><br><span class="line">5513</span><br><span class="line">5514</span><br><span class="line">5515</span><br><span class="line">5516</span><br><span class="line">5517</span><br><span class="line">5518</span><br><span class="line">5519</span><br><span class="line">5520</span><br><span class="line">5521</span><br><span class="line">5522</span><br><span class="line">5523</span><br><span class="line">5524</span><br><span class="line">5525</span><br><span class="line">5526</span><br><span class="line">5527</span><br><span class="line">5528</span><br><span class="line">5529</span><br><span class="line">5530</span><br><span class="line">5531</span><br><span class="line">5532</span><br><span class="line">5533</span><br><span class="line">5534</span><br><span class="line">5535</span><br><span class="line">5536</span><br><span class="line">5537</span><br><span class="line">5538</span><br><span class="line">5539</span><br><span class="line">5540</span><br><span class="line">5541</span><br><span class="line">5542</span><br><span class="line">5543</span><br><span class="line">5544</span><br><span class="line">5545</span><br><span class="line">5546</span><br><span class="line">5547</span><br><span class="line">5548</span><br><span class="line">5549</span><br><span class="line">5550</span><br><span class="line">5551</span><br><span class="line">5552</span><br><span class="line">5553</span><br><span class="line">5554</span><br><span class="line">5555</span><br><span class="line">5556</span><br><span class="line">5557</span><br><span class="line">5558</span><br><span class="line">5559</span><br><span class="line">5560</span><br><span class="line">5561</span><br><span class="line">5562</span><br><span class="line">5563</span><br><span class="line">5564</span><br><span class="line">5565</span><br><span class="line">5566</span><br><span class="line">5567</span><br><span class="line">5568</span><br><span class="line">5569</span><br><span class="line">5570</span><br><span class="line">5571</span><br><span class="line">5572</span><br><span class="line">5573</span><br><span class="line">5574</span><br><span class="line">5575</span><br><span class="line">5576</span><br><span class="line">5577</span><br><span class="line">5578</span><br><span class="line">5579</span><br><span class="line">5580</span><br><span class="line">5581</span><br><span class="line">5582</span><br><span class="line">5583</span><br><span class="line">5584</span><br><span class="line">5585</span><br><span class="line">5586</span><br><span class="line">5587</span><br><span class="line">5588</span><br><span class="line">5589</span><br><span class="line">5590</span><br><span class="line">5591</span><br><span class="line">5592</span><br><span class="line">5593</span><br><span class="line">5594</span><br><span class="line">5595</span><br><span class="line">5596</span><br><span class="line">5597</span><br><span class="line">5598</span><br><span class="line">5599</span><br><span class="line">5600</span><br><span class="line">5601</span><br><span class="line">5602</span><br><span class="line">5603</span><br><span class="line">5604</span><br><span class="line">5605</span><br><span class="line">5606</span><br><span class="line">5607</span><br><span class="line">5608</span><br><span class="line">5609</span><br><span class="line">5610</span><br><span class="line">5611</span><br><span class="line">5612</span><br><span class="line">5613</span><br><span class="line">5614</span><br><span class="line">5615</span><br><span class="line">5616</span><br><span class="line">5617</span><br><span class="line">5618</span><br><span class="line">5619</span><br><span class="line">5620</span><br><span class="line">5621</span><br><span class="line">5622</span><br><span class="line">5623</span><br><span class="line">5624</span><br><span class="line">5625</span><br><span class="line">5626</span><br><span class="line">5627</span><br><span class="line">5628</span><br><span class="line">5629</span><br><span class="line">5630</span><br><span class="line">5631</span><br><span class="line">5632</span><br><span class="line">5633</span><br><span class="line">5634</span><br><span class="line">5635</span><br><span class="line">5636</span><br><span class="line">5637</span><br><span class="line">5638</span><br><span class="line">5639</span><br><span class="line">5640</span><br><span class="line">5641</span><br><span class="line">5642</span><br><span class="line">5643</span><br><span class="line">5644</span><br><span class="line">5645</span><br><span class="line">5646</span><br><span class="line">5647</span><br><span class="line">5648</span><br><span class="line">5649</span><br><span class="line">5650</span><br><span class="line">5651</span><br><span class="line">5652</span><br><span class="line">5653</span><br><span class="line">5654</span><br><span class="line">5655</span><br><span class="line">5656</span><br><span class="line">5657</span><br><span class="line">5658</span><br><span class="line">5659</span><br><span class="line">5660</span><br><span class="line">5661</span><br><span class="line">5662</span><br><span class="line">5663</span><br><span class="line">5664</span><br><span class="line">5665</span><br><span class="line">5666</span><br><span class="line">5667</span><br><span class="line">5668</span><br><span class="line">5669</span><br><span class="line">5670</span><br><span class="line">5671</span><br><span class="line">5672</span><br><span class="line">5673</span><br><span class="line">5674</span><br><span class="line">5675</span><br><span class="line">5676</span><br><span class="line">5677</span><br><span class="line">5678</span><br><span class="line">5679</span><br><span class="line">5680</span><br><span class="line">5681</span><br><span class="line">5682</span><br><span class="line">5683</span><br><span class="line">5684</span><br><span class="line">5685</span><br><span class="line">5686</span><br><span class="line">5687</span><br><span class="line">5688</span><br><span class="line">5689</span><br><span class="line">5690</span><br><span class="line">5691</span><br><span class="line">5692</span><br><span class="line">5693</span><br><span class="line">5694</span><br><span class="line">5695</span><br><span class="line">5696</span><br><span class="line">5697</span><br><span class="line">5698</span><br><span class="line">5699</span><br><span class="line">5700</span><br><span class="line">5701</span><br><span class="line">5702</span><br><span class="line">5703</span><br><span class="line">5704</span><br><span class="line">5705</span><br><span class="line">5706</span><br><span class="line">5707</span><br><span class="line">5708</span><br><span class="line">5709</span><br><span class="line">5710</span><br><span class="line">5711</span><br><span class="line">5712</span><br><span class="line">5713</span><br><span class="line">5714</span><br><span class="line">5715</span><br><span class="line">5716</span><br><span class="line">5717</span><br><span class="line">5718</span><br><span class="line">5719</span><br><span class="line">5720</span><br><span class="line">5721</span><br><span class="line">5722</span><br><span class="line">5723</span><br><span class="line">5724</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** @license Copyright (c) 2012 Daniel Trebbien and other contributors</span></span><br><span class="line"><span class="comment">Portions Copyright (c) 2003 STZ-IDA and PTV AG, Karlsruhe, Germany</span></span><br><span class="line"><span class="comment">Portions Copyright (c) 1995-2001 International Business Machines Corporation and others</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">All rights reserved.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, provided that the above copyright notice(s) and this permission notice appear in all copies of the Software and that both the above copyright notice(s) and this permission notice appear in supporting documentation.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Except as contained in this notice, the name of a copyright holder shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Software without prior written authorization of the copyright holder.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> MathContext = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">/* Generated from 'MathContext.nrx' 8 Sep 2000 11:07:48 [v2.00] */</span></span><br><span class="line"><span class="comment">/* Options: Binary Comments Crossref Format Java Logo Strictargs Strictcase Trace2 Verbose3 */</span></span><br><span class="line"><span class="comment">//--package com.ibm.icu.math;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* MathContext -- Math context settings                               */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Copyright IBM Corporation, 1997, 2000.  All Rights Reserved.       */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/*   The MathContext object encapsulates the settings used by the     */</span></span><br><span class="line"><span class="comment">/*   BigDecimal class; it could also be used by other arithmetics.    */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Notes:                                                             */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 1. The properties are checked for validity on construction, so     */</span></span><br><span class="line"><span class="comment">/*    the BigDecimal class may assume that they are correct.          */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Author:    Mike Cowlishaw                                          */</span></span><br><span class="line"><span class="comment">/* 1997.09.03 Initial version (edited from netrexx.lang.RexxSet)      */</span></span><br><span class="line"><span class="comment">/* 1997.09.12 Add lostDigits property                                 */</span></span><br><span class="line"><span class="comment">/* 1998.05.02 Make the class immutable and final; drop set methods    */</span></span><br><span class="line"><span class="comment">/* 1998.06.05 Add Round (rounding modes) property                     */</span></span><br><span class="line"><span class="comment">/* 1998.06.25 Rename from DecimalContext; allow digits=0              */</span></span><br><span class="line"><span class="comment">/* 1998.10.12 change to com.ibm.icu.math package                          */</span></span><br><span class="line"><span class="comment">/* 1999.02.06 add javadoc comments                                    */</span></span><br><span class="line"><span class="comment">/* 1999.03.05 simplify; changes from discussion with J. Bloch         */</span></span><br><span class="line"><span class="comment">/* 1999.03.13 1.00 release to IBM Centre for Java Technology          */</span></span><br><span class="line"><span class="comment">/* 1999.07.10 1.04 flag serialization unused                          */</span></span><br><span class="line"><span class="comment">/* 2000.01.01 1.06 copyright update                                   */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* JavaScript conversion (c) 2003 STZ-IDA and PTV AG, Karlsruhe, Germany */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The &lt;code&gt;MathContext&lt;/code&gt; immutable class encapsulates the</span></span><br><span class="line"><span class="comment"> * settings understood by the operator methods of the &#123;@link BigDecimal&#125;</span></span><br><span class="line"><span class="comment"> * class (and potentially other classes).  Operator methods are those</span></span><br><span class="line"><span class="comment"> * that effect an operation on a number or a pair of numbers.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The settings, which are not base-dependent, comprise:</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;&lt;code&gt;digits&lt;/code&gt;:</span></span><br><span class="line"><span class="comment"> * the number of digits (precision) to be used for an operation</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;&lt;code&gt;form&lt;/code&gt;:</span></span><br><span class="line"><span class="comment"> * the form of any exponent that results from the operation</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;&lt;code&gt;lostDigits&lt;/code&gt;:</span></span><br><span class="line"><span class="comment"> * whether checking for lost digits is enabled</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;&lt;code&gt;roundingMode&lt;/code&gt;:</span></span><br><span class="line"><span class="comment"> * the algorithm to be used for rounding.</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * When provided, a &lt;code&gt;MathContext&lt;/code&gt; object supplies the</span></span><br><span class="line"><span class="comment"> * settings for an operation directly.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * When &lt;code&gt;MathContext.DEFAULT&lt;/code&gt; is provided for a</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;MathContext&lt;/code&gt; parameter then the default settings are used</span></span><br><span class="line"><span class="comment"> * (&lt;code&gt;9, SCIENTIFIC, false, ROUND_HALF_UP&lt;/code&gt;).</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * In the &lt;code&gt;BigDecimal&lt;/code&gt; class, all methods which accept a</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;MathContext&lt;/code&gt; object defaults) also have a version of the</span></span><br><span class="line"><span class="comment"> * method which does not accept a MathContext parameter.  These versions</span></span><br><span class="line"><span class="comment"> * carry out unlimited precision fixed point arithmetic (as though the</span></span><br><span class="line"><span class="comment"> * settings were (&lt;code&gt;0, PLAIN, false, ROUND_HALF_UP&lt;/code&gt;).</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The instance variables are shared with default access (so they are</span></span><br><span class="line"><span class="comment"> * directly accessible to the &lt;code&gt;BigDecimal&lt;/code&gt; class), but must</span></span><br><span class="line"><span class="comment"> * never be changed.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The rounding mode constants have the same names and values as the</span></span><br><span class="line"><span class="comment"> * constants of the same name in &lt;code&gt;java.math.BigDecimal&lt;/code&gt;, to</span></span><br><span class="line"><span class="comment"> * maintain compatibility with earlier versions of</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @see     BigDecimal</span></span><br><span class="line"><span class="comment"> * @author  Mike Cowlishaw</span></span><br><span class="line"><span class="comment"> * @stable ICU 2.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//--public final class MathContext implements java.io.Serializable&#123;</span></span><br><span class="line"> <span class="comment">//--private static final java.lang.String $0="MathContext.nrx";</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//-- methods</span></span><br><span class="line"> MathContext.prototype.getDigits = getDigits;</span><br><span class="line"> MathContext.prototype.getForm = getForm;</span><br><span class="line"> MathContext.prototype.getLostDigits = getLostDigits;</span><br><span class="line"> MathContext.prototype.getRoundingMode = getRoundingMode;</span><br><span class="line"> MathContext.prototype.toString = toString;</span><br><span class="line"> MathContext.prototype.isValidRound = isValidRound;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ----- Properties ----- */</span></span><br><span class="line"> <span class="comment">/* properties public constant */</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Plain (fixed point) notation, without any exponent.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the form of the result of a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * A zero result in plain form may have a decimal part of one or</span></span><br><span class="line"><span class="comment">  * more zeros.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ENGINEERING</span></span><br><span class="line"><span class="comment">  * @see #SCIENTIFIC</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int PLAIN=0; // [no exponent]</span></span><br><span class="line"> MathContext.PLAIN = MathContext.prototype.PLAIN = <span class="number">0</span>; <span class="comment">// [no exponent]</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Standard floating point notation (with scientific exponential</span></span><br><span class="line"><span class="comment">  * format, where there is one digit before any decimal point).</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the form of the result of a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * A zero result in plain form may have a decimal part of one or</span></span><br><span class="line"><span class="comment">  * more zeros.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ENGINEERING</span></span><br><span class="line"><span class="comment">  * @see #PLAIN</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int SCIENTIFIC=1; // 1 digit before .</span></span><br><span class="line"> MathContext.SCIENTIFIC = MathContext.prototype.SCIENTIFIC = <span class="number">1</span>; <span class="comment">// 1 digit before .</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Standard floating point notation (with engineering exponential</span></span><br><span class="line"><span class="comment">  * format, where the power of ten is a multiple of 3).</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the form of the result of a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * A zero result in plain form may have a decimal part of one or</span></span><br><span class="line"><span class="comment">  * more zeros.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #PLAIN</span></span><br><span class="line"><span class="comment">  * @see #SCIENTIFIC</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ENGINEERING=2; // 1-3 digits before .</span></span><br><span class="line"> MathContext.ENGINEERING = MathContext.prototype.ENGINEERING = <span class="number">2</span>; <span class="comment">// 1-3 digits before .</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// The rounding modes match the original BigDecimal class values</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to a more positive number.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If any of the discarded digits are non-zero then the result</span></span><br><span class="line"><span class="comment">  * should be rounded towards the next more positive digit.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_CEILING=2;</span></span><br><span class="line"> MathContext.ROUND_CEILING = MathContext.prototype.ROUND_CEILING = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round towards zero.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * All discarded digits are ignored (truncated).  The result is</span></span><br><span class="line"><span class="comment">  * neither incremented nor decremented.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_DOWN=1;</span></span><br><span class="line"> MathContext.ROUND_DOWN = MathContext.prototype.ROUND_DOWN = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to a more negative number.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If any of the discarded digits are non-zero then the result</span></span><br><span class="line"><span class="comment">  * should be rounded towards the next more negative digit.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_FLOOR=3;</span></span><br><span class="line"> MathContext.ROUND_FLOOR = MathContext.prototype.ROUND_FLOOR = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded down.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the discarded digits represent greater than half (0.5 times)</span></span><br><span class="line"><span class="comment">  * the value of a one in the next position then the result should be</span></span><br><span class="line"><span class="comment">  * rounded up (away from zero).  Otherwise the discarded digits are</span></span><br><span class="line"><span class="comment">  * ignored.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_DOWN=5;</span></span><br><span class="line"> MathContext.ROUND_HALF_DOWN = MathContext.prototype.ROUND_HALF_DOWN = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded to the nearest even neighbor.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the discarded digits represent greater than half (0.5 times)</span></span><br><span class="line"><span class="comment">  * the value of a one in the next position then the result should be</span></span><br><span class="line"><span class="comment">  * rounded up (away from zero).  If they represent less than half,</span></span><br><span class="line"><span class="comment">  * then the result should be rounded down.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Otherwise (they represent exactly half) the result is rounded</span></span><br><span class="line"><span class="comment">  * down if its rightmost digit is even, or rounded up if its</span></span><br><span class="line"><span class="comment">  * rightmost digit is odd (to make an even digit).</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_EVEN=6;</span></span><br><span class="line"> MathContext.ROUND_HALF_EVEN = MathContext.prototype.ROUND_HALF_EVEN = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded up.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the discarded digits represent greater than or equal to half</span></span><br><span class="line"><span class="comment">  * (0.5 times) the value of a one in the next position then the result</span></span><br><span class="line"><span class="comment">  * should be rounded up (away from zero).  Otherwise the discarded</span></span><br><span class="line"><span class="comment">  * digits are ignored.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_UP=4;</span></span><br><span class="line"> MathContext.ROUND_HALF_UP = MathContext.prototype.ROUND_HALF_UP = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to assert that no rounding is necessary.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Rounding (potential loss of information) is not permitted.</span></span><br><span class="line"><span class="comment">  * If any of the discarded digits are non-zero then an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; should be thrown.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_UNNECESSARY=7;</span></span><br><span class="line"> MathContext.ROUND_UNNECESSARY = MathContext.prototype.ROUND_UNNECESSARY = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round away from zero.</span></span><br><span class="line"><span class="comment">  * Used as a setting to control the rounding mode used during a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If any of the discarded digits are non-zero then the result will</span></span><br><span class="line"><span class="comment">  * be rounded up (away from zero).</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_UP=0;</span></span><br><span class="line"> MathContext.ROUND_UP = MathContext.prototype.ROUND_UP = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties shared */</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The number of digits (precision) to be used for an operation.</span></span><br><span class="line"><span class="comment">  * A value of 0 indicates that unlimited precision (as many digits</span></span><br><span class="line"><span class="comment">  * as are required) will be used.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &#123;@link BigDecimal&#125; operator methods use this value to</span></span><br><span class="line"><span class="comment">  * determine the precision of results.</span></span><br><span class="line"><span class="comment">  * Note that leading zeros (in the integer part of a number) are</span></span><br><span class="line"><span class="comment">  * never significant.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;digits&lt;/code&gt; will always be non-negative.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--int digits;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The form of results from an operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &#123;@link BigDecimal&#125; operator methods use this value to</span></span><br><span class="line"><span class="comment">  * determine the form of results, in particular whether and how</span></span><br><span class="line"><span class="comment">  * exponential notation should be used.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ENGINEERING</span></span><br><span class="line"><span class="comment">  * @see #PLAIN</span></span><br><span class="line"><span class="comment">  * @see #SCIENTIFIC</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--int form; // values for this must fit in a byte</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Controls whether lost digits checking is enabled for an</span></span><br><span class="line"><span class="comment">  * operation.</span></span><br><span class="line"><span class="comment">  * Set to &lt;code&gt;true&lt;/code&gt; to enable checking, or</span></span><br><span class="line"><span class="comment">  * to &lt;code&gt;false&lt;/code&gt; to disable checking.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * When enabled, the &#123;@link BigDecimal&#125; operator methods check</span></span><br><span class="line"><span class="comment">  * the precision of their operand or operands, and throw an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; if an operand is more precise</span></span><br><span class="line"><span class="comment">  * than the digits setting (that is, digits would be lost).</span></span><br><span class="line"><span class="comment">  * When disabled, operands are rounded to the specified digits.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--boolean lostDigits;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The rounding algorithm to be used for an operation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &#123;@link BigDecimal&#125; operator methods use this value to</span></span><br><span class="line"><span class="comment">  * determine the algorithm to be used when non-zero digits have to</span></span><br><span class="line"><span class="comment">  * be discarded in order to reduce the precision of a result.</span></span><br><span class="line"><span class="comment">  * The value must be one of the public constants whose name starts</span></span><br><span class="line"><span class="comment">  * with &lt;code&gt;ROUND_&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ROUND_CEILING</span></span><br><span class="line"><span class="comment">  * @see #ROUND_DOWN</span></span><br><span class="line"><span class="comment">  * @see #ROUND_FLOOR</span></span><br><span class="line"><span class="comment">  * @see #ROUND_HALF_DOWN</span></span><br><span class="line"><span class="comment">  * @see #ROUND_HALF_EVEN</span></span><br><span class="line"><span class="comment">  * @see #ROUND_HALF_UP</span></span><br><span class="line"><span class="comment">  * @see #ROUND_UNNECESSARY</span></span><br><span class="line"><span class="comment">  * @see #ROUND_UP</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--int roundingMode;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties private constant */</span></span><br><span class="line"> <span class="comment">// default settings</span></span><br><span class="line"> <span class="comment">//--private static final int DEFAULT_FORM=SCIENTIFIC;</span></span><br><span class="line"> <span class="comment">//--private static final int DEFAULT_DIGITS=9;</span></span><br><span class="line"> <span class="comment">//--private static final boolean DEFAULT_LOSTDIGITS=false;</span></span><br><span class="line"> <span class="comment">//--private static final int DEFAULT_ROUNDINGMODE=ROUND_HALF_UP;</span></span><br><span class="line"> MathContext.prototype.DEFAULT_FORM=MathContext.prototype.SCIENTIFIC;</span><br><span class="line"> MathContext.prototype.DEFAULT_DIGITS=<span class="number">9</span>;</span><br><span class="line"> MathContext.prototype.DEFAULT_LOSTDIGITS=<span class="literal">false</span>;</span><br><span class="line"> MathContext.prototype.DEFAULT_ROUNDINGMODE=MathContext.prototype.ROUND_HALF_UP;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties private constant */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final int MIN_DIGITS=0; // smallest value for DIGITS.</span></span><br><span class="line"> <span class="comment">//--private static final int MAX_DIGITS=999999999; // largest value for DIGITS.  If increased,</span></span><br><span class="line"> MathContext.prototype.MIN_DIGITS=<span class="number">0</span>; <span class="comment">// smallest value for DIGITS.</span></span><br><span class="line"> MathContext.prototype.MAX_DIGITS=<span class="number">999999999</span>; <span class="comment">// largest value for DIGITS.  If increased,</span></span><br><span class="line"> <span class="comment">// the BigDecimal class may need update.</span></span><br><span class="line"> <span class="comment">// list of valid rounding mode values, most common two first</span></span><br><span class="line"> <span class="comment">//--private static final int ROUNDS[]=new int[]&#123;ROUND_HALF_UP,ROUND_UNNECESSARY,ROUND_CEILING,ROUND_DOWN,ROUND_FLOOR,ROUND_HALF_DOWN,ROUND_HALF_EVEN,ROUND_UP&#125;;</span></span><br><span class="line"> MathContext.prototype.ROUNDS=<span class="keyword">new</span> <span class="built_in">Array</span>(MathContext.prototype.ROUND_HALF_UP,MathContext.prototype.ROUND_UNNECESSARY,MathContext.prototype.ROUND_CEILING,MathContext.prototype.ROUND_DOWN,MathContext.prototype.ROUND_FLOOR,MathContext.prototype.ROUND_HALF_DOWN,MathContext.prototype.ROUND_HALF_EVEN,MathContext.prototype.ROUND_UP);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final java.lang.String ROUNDWORDS[]=new java.lang.String[]&#123;"ROUND_HALF_UP","ROUND_UNNECESSARY","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_UP"&#125;; // matching names of the ROUNDS values</span></span><br><span class="line"> MathContext.prototype.ROUNDWORDS=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"ROUND_HALF_UP"</span>,<span class="string">"ROUND_UNNECESSARY"</span>,<span class="string">"ROUND_CEILING"</span>,<span class="string">"ROUND_DOWN"</span>,<span class="string">"ROUND_FLOOR"</span>,<span class="string">"ROUND_HALF_DOWN"</span>,<span class="string">"ROUND_HALF_EVEN"</span>,<span class="string">"ROUND_UP"</span>); <span class="comment">// matching names of the ROUNDS values</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties private constant unused */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// Serialization version</span></span><br><span class="line"> <span class="comment">//--private static final long serialVersionUID=7163376998892515376L;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties public constant */</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * A &lt;code&gt;MathContext&lt;/code&gt; object initialized to the default</span></span><br><span class="line"><span class="comment">  * settings for general-purpose arithmetic.  That is,</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;digits=9 form=SCIENTIFIC lostDigits=false</span></span><br><span class="line"><span class="comment">  * roundingMode=ROUND_HALF_UP&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #SCIENTIFIC</span></span><br><span class="line"><span class="comment">  * @see #ROUND_HALF_UP</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final com.ibm.icu.math.MathContext DEFAULT=new com.ibm.icu.math.MathContext(DEFAULT_DIGITS,DEFAULT_FORM,DEFAULT_LOSTDIGITS,DEFAULT_ROUNDINGMODE);</span></span><br><span class="line"> MathContext.prototype.DEFAULT=<span class="keyword">new</span> MathContext(MathContext.prototype.DEFAULT_DIGITS,MathContext.prototype.DEFAULT_FORM,MathContext.prototype.DEFAULT_LOSTDIGITS,MathContext.prototype.DEFAULT_ROUNDINGMODE);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ----- Constructors ----- */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a new &lt;code&gt;MathContext&lt;/code&gt; with a specified</span></span><br><span class="line"><span class="comment">  * precision.</span></span><br><span class="line"><span class="comment">  * The other settings are set to the default values</span></span><br><span class="line"><span class="comment">  * (see &#123;@link #DEFAULT&#125;).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * An &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setdigits&lt;/code&gt; parameter is out of range</span></span><br><span class="line"><span class="comment">  * (&lt;0 or &gt;999999999).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param setdigits     The &lt;code&gt;int&lt;/code&gt; digits setting</span></span><br><span class="line"><span class="comment">  *                      for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException parameter out of range.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public MathContext(int setdigits)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(setdigits,DEFAULT_FORM,DEFAULT_LOSTDIGITS,DEFAULT_ROUNDINGMODE);</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a new &lt;code&gt;MathContext&lt;/code&gt; with a specified</span></span><br><span class="line"><span class="comment">  * precision and form.</span></span><br><span class="line"><span class="comment">  * The other settings are set to the default values</span></span><br><span class="line"><span class="comment">  * (see &#123;@link #DEFAULT&#125;).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * An &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setdigits&lt;/code&gt; parameter is out of range</span></span><br><span class="line"><span class="comment">  * (&lt;0 or &gt;999999999), or if the value given for the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setform&lt;/code&gt; parameter is not one of the appropriate</span></span><br><span class="line"><span class="comment">  * constants.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param setdigits     The &lt;code&gt;int&lt;/code&gt; digits setting</span></span><br><span class="line"><span class="comment">  *                      for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setform       The &lt;code&gt;int&lt;/code&gt; form setting</span></span><br><span class="line"><span class="comment">  *                      for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException parameter out of range.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public MathContext(int setdigits,int setform)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(setdigits,setform,DEFAULT_LOSTDIGITS,DEFAULT_ROUNDINGMODE);</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a new &lt;code&gt;MathContext&lt;/code&gt; with a specified</span></span><br><span class="line"><span class="comment">  * precision, form, and lostDigits setting.</span></span><br><span class="line"><span class="comment">  * The roundingMode setting is set to its default value</span></span><br><span class="line"><span class="comment">  * (see &#123;@link #DEFAULT&#125;).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * An &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setdigits&lt;/code&gt; parameter is out of range</span></span><br><span class="line"><span class="comment">  * (&lt;0 or &gt;999999999), or if the value given for the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setform&lt;/code&gt; parameter is not one of the appropriate</span></span><br><span class="line"><span class="comment">  * constants.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param setdigits     The &lt;code&gt;int&lt;/code&gt; digits setting</span></span><br><span class="line"><span class="comment">  *                      for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setform       The &lt;code&gt;int&lt;/code&gt; form setting</span></span><br><span class="line"><span class="comment">  *                      for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setlostdigits The &lt;code&gt;boolean&lt;/code&gt; lostDigits</span></span><br><span class="line"><span class="comment">  *                      setting for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException parameter out of range.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public MathContext(int setdigits,int setform,boolean setlostdigits)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(setdigits,setform,setlostdigits,DEFAULT_ROUNDINGMODE);</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a new &lt;code&gt;MathContext&lt;/code&gt; with a specified</span></span><br><span class="line"><span class="comment">  * precision, form, lostDigits, and roundingMode setting.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * An &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setdigits&lt;/code&gt; parameter is out of range</span></span><br><span class="line"><span class="comment">  * (&lt;0 or &gt;999999999), or if the value given for the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;setform&lt;/code&gt; or &lt;code&gt;setroundingmode&lt;/code&gt; parameters is</span></span><br><span class="line"><span class="comment">  * not one of the appropriate constants.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param setdigits       The &lt;code&gt;int&lt;/code&gt; digits setting</span></span><br><span class="line"><span class="comment">  *                        for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setform         The &lt;code&gt;int&lt;/code&gt; form setting</span></span><br><span class="line"><span class="comment">  *                        for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setlostdigits   The &lt;code&gt;boolean&lt;/code&gt; lostDigits</span></span><br><span class="line"><span class="comment">  *                        setting for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param setroundingmode The &lt;code&gt;int&lt;/code&gt; roundingMode setting</span></span><br><span class="line"><span class="comment">  *                        for this &lt;code&gt;MathContext&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException parameter out of range.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public MathContext(int setdigits,int setform,boolean setlostdigits,int setroundingmode)&#123;super();</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MathContext</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//-- members</span></span><br><span class="line">  <span class="keyword">this</span>.digits = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.form = <span class="number">0</span>; <span class="comment">// values for this must fit in a byte</span></span><br><span class="line">  <span class="keyword">this</span>.lostDigits = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">this</span>.roundingMode = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//-- overloaded ctor</span></span><br><span class="line">  <span class="keyword">var</span> setform = <span class="keyword">this</span>.DEFAULT_FORM;</span><br><span class="line">  <span class="keyword">var</span> setlostdigits = <span class="keyword">this</span>.DEFAULT_LOSTDIGITS;</span><br><span class="line">  <span class="keyword">var</span> setroundingmode = <span class="keyword">this</span>.DEFAULT_ROUNDINGMODE;</span><br><span class="line">  <span class="keyword">if</span> (MathContext.arguments.length == <span class="number">4</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    setform = MathContext.arguments[<span class="number">1</span>];</span><br><span class="line">    setlostdigits = MathContext.arguments[<span class="number">2</span>];</span><br><span class="line">    setroundingmode = MathContext.arguments[<span class="number">3</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (MathContext.arguments.length == <span class="number">3</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    setform = MathContext.arguments[<span class="number">1</span>];</span><br><span class="line">    setlostdigits = MathContext.arguments[<span class="number">2</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (MathContext.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    setform = MathContext.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (MathContext.arguments.length != <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"MathContext(): "</span> + MathContext.arguments.length + <span class="string">" arguments given; expected 1 to 4"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> setdigits = MathContext.arguments[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// set values, after checking</span></span><br><span class="line">  <span class="keyword">if</span> (setdigits!=<span class="keyword">this</span>.DEFAULT_DIGITS)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (setdigits&lt;<span class="keyword">this</span>.MIN_DIGITS)</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"MathContext(): Digits too small: "</span>+setdigits;</span><br><span class="line">    <span class="keyword">if</span> (setdigits&gt;<span class="keyword">this</span>.MAX_DIGITS)</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"MathContext(): Digits too large: "</span>+setdigits;</span><br><span class="line">   &#125;</span><br><span class="line">  &#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (setform==<span class="keyword">this</span>.SCIENTIFIC)</span><br><span class="line">   &#123;&#125; <span class="comment">// [most common]</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (setform==<span class="keyword">this</span>.ENGINEERING)</span><br><span class="line">   &#123;&#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (setform==<span class="keyword">this</span>.PLAIN)</span><br><span class="line">   &#123;&#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"MathContext() Bad form value: "</span>+setform;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ((!(<span class="keyword">this</span>.isValidRound(setroundingmode))))</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"MathContext(): Bad roundingMode value: "</span>+setroundingmode;</span><br><span class="line">  <span class="keyword">this</span>.digits=setdigits;</span><br><span class="line">  <span class="keyword">this</span>.form=setform;</span><br><span class="line">  <span class="keyword">this</span>.lostDigits=setlostdigits; <span class="comment">// [no bad value possible]</span></span><br><span class="line">  <span class="keyword">this</span>.roundingMode=setroundingmode;</span><br><span class="line">  <span class="keyword">return</span>;&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the digits setting.</span></span><br><span class="line"><span class="comment">  * This value is always non-negative.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return an &lt;code&gt;int&lt;/code&gt; which is the value of the digits</span></span><br><span class="line"><span class="comment">  *         setting</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int getDigits()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">getDigits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.digits;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the form setting.</span></span><br><span class="line"><span class="comment">  * This will be one of</span></span><br><span class="line"><span class="comment">  * &#123;@link #ENGINEERING&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link #PLAIN&#125;, or</span></span><br><span class="line"><span class="comment">  * &#123;@link #SCIENTIFIC&#125;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return an &lt;code&gt;int&lt;/code&gt; which is the value of the form setting</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int getForm()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">getForm</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.form;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the lostDigits setting.</span></span><br><span class="line"><span class="comment">  * This will be either &lt;code&gt;true&lt;/code&gt; (enabled) or</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;false&lt;/code&gt; (disabled).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return a &lt;code&gt;boolean&lt;/code&gt; which is the value of the lostDigits</span></span><br><span class="line"><span class="comment">  *           setting</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public boolean getLostDigits()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">getLostDigits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.lostDigits;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the roundingMode setting.</span></span><br><span class="line"><span class="comment">  * This will be one of</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_CEILING&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_DOWN&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_FLOOR&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_HALF_DOWN&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_HALF_EVEN&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_HALF_UP&#125;,</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_UNNECESSARY&#125;, or</span></span><br><span class="line"><span class="comment">  * &#123;@link  #ROUND_UP&#125;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return an &lt;code&gt;int&lt;/code&gt; which is the value of the roundingMode</span></span><br><span class="line"><span class="comment">  *         setting</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int getRoundingMode()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">getRoundingMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.roundingMode;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/** Returns the &lt;code&gt;MathContext&lt;/code&gt; as a readable string.</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;String&lt;/code&gt; returned represents the settings of the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext&lt;/code&gt; object as four blank-delimited words</span></span><br><span class="line"><span class="comment">  * separated by a single blank and with no leading or trailing blanks,</span></span><br><span class="line"><span class="comment">  * as follows:</span></span><br><span class="line"><span class="comment">  * &lt;ol&gt;</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;digits=&lt;/code&gt;, immediately followed by</span></span><br><span class="line"><span class="comment">  * the value of the digits setting as a numeric word.</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;form=&lt;/code&gt;, immediately followed by</span></span><br><span class="line"><span class="comment">  * the value of the form setting as an uppercase word</span></span><br><span class="line"><span class="comment">  * (one of &lt;code&gt;SCIENTIFIC&lt;/code&gt;, &lt;code&gt;PLAIN&lt;/code&gt;, or</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ENGINEERING&lt;/code&gt;).</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;lostDigits=&lt;/code&gt;, immediately followed by</span></span><br><span class="line"><span class="comment">  * the value of the lostDigits setting</span></span><br><span class="line"><span class="comment">  * (&lt;code&gt;1&lt;/code&gt; if enabled, &lt;code&gt;0&lt;/code&gt; if disabled).</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;roundingMode=&lt;/code&gt;, immediately followed by</span></span><br><span class="line"><span class="comment">  * the value of the roundingMode setting as a word.</span></span><br><span class="line"><span class="comment">  * This word will be the same as the name of the corresponding public</span></span><br><span class="line"><span class="comment">  * constant.</span></span><br><span class="line"><span class="comment">  * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * For example:</span></span><br><span class="line"><span class="comment">  * &lt;br&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment">  * digits=9 form=SCIENTIFIC lostDigits=0 roundingMode=ROUND_HALF_UP</span></span><br><span class="line"><span class="comment">  * &lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Additional words may be appended to the result of</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;toString&lt;/code&gt; in the future if more properties are added</span></span><br><span class="line"><span class="comment">  * to the class.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return a &lt;code&gt;String&lt;/code&gt; representing the context settings.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.lang.String toString()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--java.lang.String formstr=null;</span></span><br><span class="line">  <span class="keyword">var</span> formstr=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int r=0;</span></span><br><span class="line">  <span class="keyword">var</span> r=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--java.lang.String roundword=null;</span></span><br><span class="line">  <span class="keyword">var</span> roundword=<span class="literal">null</span>;</span><br><span class="line">  &#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.form==<span class="keyword">this</span>.SCIENTIFIC)</span><br><span class="line">   formstr=<span class="string">"SCIENTIFIC"</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.form==<span class="keyword">this</span>.ENGINEERING)</span><br><span class="line">   formstr=<span class="string">"ENGINEERING"</span>;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   formstr=<span class="string">"PLAIN"</span>;<span class="comment">/* form=PLAIN */</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">1</span>=<span class="keyword">this</span>.ROUNDS.length;r=<span class="number">0</span>;r:<span class="keyword">for</span>(;$<span class="number">1</span>&gt;<span class="number">0</span>;$<span class="number">1</span>--,r++)&#123;</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.roundingMode==<span class="keyword">this</span>.ROUNDS[r])</span><br><span class="line">    &#123;</span><br><span class="line">     roundword=<span class="keyword">this</span>.ROUNDWORDS[r];</span><br><span class="line">     <span class="keyword">break</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*r*/</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">"digits="</span>+<span class="keyword">this</span>.digits+<span class="string">" "</span>+<span class="string">"form="</span>+formstr+<span class="string">" "</span>+<span class="string">"lostDigits="</span>+(<span class="keyword">this</span>.lostDigits?<span class="string">"1"</span>:<span class="string">"0"</span>)+<span class="string">" "</span>+<span class="string">"roundingMode="</span>+roundword;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Test whether round is valid. &lt;/sgml&gt; */</span></span><br><span class="line"> <span class="comment">// This could be made shared for use by BigDecimal for setScale.</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static boolean isValidRound(int testround)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isValidRound</span>(<span class="params">testround</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int r=0;</span></span><br><span class="line">  <span class="keyword">var</span> r=<span class="number">0</span>;</span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">2</span>=<span class="keyword">this</span>.ROUNDS.length;r=<span class="number">0</span>;r:<span class="keyword">for</span>(;$<span class="number">2</span>&gt;<span class="number">0</span>;$<span class="number">2</span>--,r++)&#123;</span><br><span class="line">   <span class="keyword">if</span> (testround==<span class="keyword">this</span>.ROUNDS[r])</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*r*/</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">return</span> MathContext;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> BigDecimal = (<span class="function"><span class="keyword">function</span> (<span class="params">MathContext</span>) </span>&#123;</span><br><span class="line"><span class="comment">/* Generated from 'BigDecimal.nrx' 8 Sep 2000 11:10:50 [v2.00] */</span></span><br><span class="line"><span class="comment">/* Options: Binary Comments Crossref Format Java Logo Strictargs Strictcase Trace2 Verbose3 */</span></span><br><span class="line"><span class="comment">//--package com.ibm.icu.math;</span></span><br><span class="line"><span class="comment">//--import java.math.BigInteger;</span></span><br><span class="line"><span class="comment">//--import com.ibm.icu.impl.Utility;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* BigDecimal -- Decimal arithmetic for Java                          */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Copyright IBM Corporation, 1996, 2000.  All Rights Reserved.       */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* The BigDecimal class provides immutable arbitrary-precision        */</span></span><br><span class="line"><span class="comment">/* floating point (including integer) decimal numbers.                */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* As the numbers are decimal, there is an exact correspondence       */</span></span><br><span class="line"><span class="comment">/* between an instance of a BigDecimal object and its String          */</span></span><br><span class="line"><span class="comment">/* representation; the BigDecimal class provides direct conversions   */</span></span><br><span class="line"><span class="comment">/* to and from String and character array objects, and well as        */</span></span><br><span class="line"><span class="comment">/* conversions to and from the Java primitive types (which may not    */</span></span><br><span class="line"><span class="comment">/* be exact).                                                         */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Notes:                                                             */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 1. A BigDecimal object is never changed in value once constructed; */</span></span><br><span class="line"><span class="comment">/*    this avoids the need for locking.  Note in particular that the  */</span></span><br><span class="line"><span class="comment">/*    mantissa array may be shared between many BigDecimal objects,   */</span></span><br><span class="line"><span class="comment">/*    so that once exposed it must not be altered.                    */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 2. This class looks at MathContext class fields directly (for      */</span></span><br><span class="line"><span class="comment">/*    performance).  It must not and does not change them.            */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 3. Exponent checking is delayed until finish(), as we know         */</span></span><br><span class="line"><span class="comment">/*    intermediate calculations cannot cause 31-bit overflow.         */</span></span><br><span class="line"><span class="comment">/*    [This assertion depends on MAX_DIGITS in MathContext.]          */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 4. Comments for the public API now follow the javadoc conventions. */</span></span><br><span class="line"><span class="comment">/*    The NetRexx -comments option is used to pass these comments     */</span></span><br><span class="line"><span class="comment">/*    through to the generated Java code (with -format, if desired).  */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 5. System.arraycopy is faster than explicit loop as follows        */</span></span><br><span class="line"><span class="comment">/*      Mean length 4:  equal                                         */</span></span><br><span class="line"><span class="comment">/*      Mean length 8:  x2                                            */</span></span><br><span class="line"><span class="comment">/*      Mean length 16: x3                                            */</span></span><br><span class="line"><span class="comment">/*      Mean length 24: x4                                            */</span></span><br><span class="line"><span class="comment">/*    From prior experience, we expect mean length a little below 8,  */</span></span><br><span class="line"><span class="comment">/*    but arraycopy is still the one to use, in general, until later  */</span></span><br><span class="line"><span class="comment">/*    measurements suggest otherwise.                                 */</span></span><br><span class="line"><span class="comment">/*                                                                    */</span></span><br><span class="line"><span class="comment">/* 6. 'DMSRCN' referred to below is the original (1981) IBM S/370     */</span></span><br><span class="line"><span class="comment">/*    assembler code implementation of the algorithms below; it is    */</span></span><br><span class="line"><span class="comment">/*    now called IXXRCN and is available with the OS/390 and VM/ESA   */</span></span><br><span class="line"><span class="comment">/*    operating systems.                                              */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"><span class="comment">/* Change History:                                                    */</span></span><br><span class="line"><span class="comment">/* 1997.09.02 Initial version (derived from netrexx.lang classes)     */</span></span><br><span class="line"><span class="comment">/* 1997.09.12 Add lostDigits checking                                 */</span></span><br><span class="line"><span class="comment">/* 1997.10.06 Change mantissa to a byte array                         */</span></span><br><span class="line"><span class="comment">/* 1997.11.22 Rework power [did not prepare arguments, etc.]          */</span></span><br><span class="line"><span class="comment">/* 1997.12.13 multiply did not prepare arguments                      */</span></span><br><span class="line"><span class="comment">/* 1997.12.14 add did not prepare and align arguments correctly       */</span></span><br><span class="line"><span class="comment">/* 1998.05.02 0.07 packaging changes suggested by Sun and Oracle      */</span></span><br><span class="line"><span class="comment">/* 1998.05.21 adjust remainder operator finalization                  */</span></span><br><span class="line"><span class="comment">/* 1998.06.04 rework to pass MathContext to finish() and round()      */</span></span><br><span class="line"><span class="comment">/* 1998.06.06 change format to use round(); support rounding modes    */</span></span><br><span class="line"><span class="comment">/* 1998.06.25 rename to BigDecimal and begin merge                    */</span></span><br><span class="line"><span class="comment">/*            zero can now have trailing zeros (i.e., exp\=0)         */</span></span><br><span class="line"><span class="comment">/* 1998.06.28 new methods: movePointXxxx, scale, toBigInteger         */</span></span><br><span class="line"><span class="comment">/*                         unscaledValue, valueof                     */</span></span><br><span class="line"><span class="comment">/* 1998.07.01 improve byteaddsub to allow array reuse, etc.           */</span></span><br><span class="line"><span class="comment">/* 1998.07.01 make null testing explicit to avoid JIT bug [Win32]     */</span></span><br><span class="line"><span class="comment">/* 1998.07.07 scaled division  [divide(BigDecimal, int, int)]         */</span></span><br><span class="line"><span class="comment">/* 1998.07.08 setScale, faster equals                                 */</span></span><br><span class="line"><span class="comment">/* 1998.07.11 allow 1E6 (no sign) &lt;sigh&gt;; new double/float conversion */</span></span><br><span class="line"><span class="comment">/* 1998.10.12 change package to com.ibm.icu.math                          */</span></span><br><span class="line"><span class="comment">/* 1998.12.14 power operator no longer rounds RHS [to match ANSI]     */</span></span><br><span class="line"><span class="comment">/*            add toBigDecimal() and BigDecimal(java.math.BigDecimal) */</span></span><br><span class="line"><span class="comment">/* 1998.12.29 improve byteaddsub by using table lookup                */</span></span><br><span class="line"><span class="comment">/* 1999.02.04 lostdigits=0 behaviour rounds instead of digits+1 guard */</span></span><br><span class="line"><span class="comment">/* 1999.02.05 cleaner code for BigDecimal(char[])                     */</span></span><br><span class="line"><span class="comment">/* 1999.02.06 add javadoc comments                                    */</span></span><br><span class="line"><span class="comment">/* 1999.02.11 format() changed from 7 to 2 method form                */</span></span><br><span class="line"><span class="comment">/* 1999.03.05 null pointer checking is no longer explicit             */</span></span><br><span class="line"><span class="comment">/* 1999.03.05 simplify; changes from discussion with J. Bloch:        */</span></span><br><span class="line"><span class="comment">/*            null no longer permitted for MathContext; drop boolean, */</span></span><br><span class="line"><span class="comment">/*            byte, char, float, short constructor, deprecate double  */</span></span><br><span class="line"><span class="comment">/*            constructor, no blanks in string constructor, add       */</span></span><br><span class="line"><span class="comment">/*            offset and length version of char[] constructor;        */</span></span><br><span class="line"><span class="comment">/*            add valueOf(double); drop booleanValue, charValue;      */</span></span><br><span class="line"><span class="comment">/*            add ...Exact versions of remaining convertors           */</span></span><br><span class="line"><span class="comment">/* 1999.03.13 add toBigIntegerExact                                   */</span></span><br><span class="line"><span class="comment">/* 1999.03.13 1.00 release to IBM Centre for Java Technology          */</span></span><br><span class="line"><span class="comment">/* 1999.05.27 1.01 correct 0-0.2 bug under scaled arithmetic          */</span></span><br><span class="line"><span class="comment">/* 1999.06.29 1.02 constructors should not allow exponent &gt; 9 digits  */</span></span><br><span class="line"><span class="comment">/* 1999.07.03 1.03 lost digits should not be checked if digits=0      */</span></span><br><span class="line"><span class="comment">/* 1999.07.06      lost digits Exception message changed              */</span></span><br><span class="line"><span class="comment">/* 1999.07.10 1.04 more work on 0-0.2 (scaled arithmetic)             */</span></span><br><span class="line"><span class="comment">/* 1999.07.17      improve messages from pow method                   */</span></span><br><span class="line"><span class="comment">/* 1999.08.08      performance tweaks                                 */</span></span><br><span class="line"><span class="comment">/* 1999.08.15      fastpath in multiply                               */</span></span><br><span class="line"><span class="comment">/* 1999.11.05 1.05 fix problem in intValueExact [e.g., 5555555555]    */</span></span><br><span class="line"><span class="comment">/* 1999.12.22 1.06 remove multiply fastpath, and improve performance  */</span></span><br><span class="line"><span class="comment">/* 2000.01.01      copyright update [Y2K has arrived]                 */</span></span><br><span class="line"><span class="comment">/* 2000.06.18 1.08 no longer deprecate BigDecimal(double)             */</span></span><br><span class="line"><span class="comment">/* ------------------------------------------------------------------ */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* JavaScript conversion (c) 2003 STZ-IDA and PTV AG, Karlsruhe, Germany */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">div</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a-(a%b))/b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigDecimal.prototype.div = div;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arraycopy</span>(<span class="params">src, srcindex, dest, destindex, length</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="keyword">if</span> (destindex &gt; srcindex) &#123;</span><br><span class="line">        <span class="comment">// in case src and dest are equals, but also doesn't hurt</span></span><br><span class="line">        <span class="comment">// if they are different</span></span><br><span class="line">        <span class="keyword">for</span> (i = length<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            dest[i+destindex] = src[i+srcindex];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">            dest[i+destindex] = src[i+srcindex];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigDecimal.prototype.arraycopy = arraycopy;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArrayWithZeros</span>(<span class="params">length</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> retVal = <span class="keyword">new</span> <span class="built_in">Array</span>(length);</span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">        retVal[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> retVal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BigDecimal.prototype.createArrayWithZeros = createArrayWithZeros;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The &lt;code&gt;BigDecimal&lt;/code&gt; class implements immutable</span></span><br><span class="line"><span class="comment"> * arbitrary-precision decimal numbers.  The methods of the</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;BigDecimal&lt;/code&gt; class provide operations for fixed and</span></span><br><span class="line"><span class="comment"> * floating point arithmetic, comparison, format conversions, and</span></span><br><span class="line"><span class="comment"> * hashing.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * As the numbers are decimal, there is an exact correspondence between</span></span><br><span class="line"><span class="comment"> * an instance of a &lt;code&gt;BigDecimal&lt;/code&gt; object and its</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;String&lt;/code&gt; representation; the &lt;code&gt;BigDecimal&lt;/code&gt; class</span></span><br><span class="line"><span class="comment"> * provides direct conversions to and from &lt;code&gt;String&lt;/code&gt; and</span></span><br><span class="line"><span class="comment"> * character array (&lt;code&gt;char[]&lt;/code&gt;) objects, as well as conversions</span></span><br><span class="line"><span class="comment"> * to and from the Java primitive types (which may not be exact) and</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;BigInteger&lt;/code&gt;.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * In the descriptions of constructors and methods in this documentation,</span></span><br><span class="line"><span class="comment"> * the value of a &lt;code&gt;BigDecimal&lt;/code&gt; number object is shown as the</span></span><br><span class="line"><span class="comment"> * result of invoking the &lt;code&gt;toString()&lt;/code&gt; method on the object.</span></span><br><span class="line"><span class="comment"> * The internal representation of a decimal number is neither defined</span></span><br><span class="line"><span class="comment"> * nor exposed, and is not permitted to affect the result of any</span></span><br><span class="line"><span class="comment"> * operation.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The floating point arithmetic provided by this class is defined by</span></span><br><span class="line"><span class="comment"> * the ANSI X3.274-1996 standard, and is also documented at</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;http://www2.hursley.ibm.com/decimal&lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;&lt;i&gt;[This URL will change.]&lt;/i&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;h3&gt;Operator methods&lt;/h3&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Operations on &lt;code&gt;BigDecimal&lt;/code&gt; numbers are controlled by a</span></span><br><span class="line"><span class="comment"> * &#123;@link MathContext&#125; object, which provides the context (precision and</span></span><br><span class="line"><span class="comment"> * other information) for the operation. Methods that can take a</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;MathContext&lt;/code&gt; parameter implement the standard arithmetic</span></span><br><span class="line"><span class="comment"> * operators for &lt;code&gt;BigDecimal&lt;/code&gt; objects and are known as</span></span><br><span class="line"><span class="comment"> * &lt;i&gt;operator methods&lt;/i&gt;.  The default settings provided by the</span></span><br><span class="line"><span class="comment"> * constant &#123;@link MathContext#DEFAULT&#125; (&lt;code&gt;digits=9,</span></span><br><span class="line"><span class="comment"> * form=SCIENTIFIC, lostDigits=false, roundingMode=ROUND_HALF_UP&lt;/code&gt;)</span></span><br><span class="line"><span class="comment"> * perform general-purpose floating point arithmetic to nine digits of</span></span><br><span class="line"><span class="comment"> * precision.  The &lt;code&gt;MathContext&lt;/code&gt; parameter must not be</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Each operator method also has a version provided which does</span></span><br><span class="line"><span class="comment"> * not take a &lt;code&gt;MathContext&lt;/code&gt; parameter.  For this version of</span></span><br><span class="line"><span class="comment"> * each method, the context settings used are &lt;code&gt;digits=0,</span></span><br><span class="line"><span class="comment"> * form=PLAIN, lostDigits=false, roundingMode=ROUND_HALF_UP&lt;/code&gt;;</span></span><br><span class="line"><span class="comment"> * these settings perform fixed point arithmetic with unlimited</span></span><br><span class="line"><span class="comment"> * precision, as defined for the original BigDecimal class in Java 1.1</span></span><br><span class="line"><span class="comment"> * and Java 1.2.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * For monadic operators, only the optional &lt;code&gt;MathContext&lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * parameter is present; the operation acts upon the current object.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * For dyadic operators, a &lt;code&gt;BigDecimal&lt;/code&gt; parameter is always</span></span><br><span class="line"><span class="comment"> * present; it must not be &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment"> * The operation acts with the current object being the left-hand operand</span></span><br><span class="line"><span class="comment"> * and the &lt;code&gt;BigDecimal&lt;/code&gt; parameter being the right-hand operand.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * For example, adding two &lt;code&gt;BigDecimal&lt;/code&gt; objects referred to</span></span><br><span class="line"><span class="comment"> * by the names &lt;code&gt;award&lt;/code&gt; and &lt;code&gt;extra&lt;/code&gt; could be</span></span><br><span class="line"><span class="comment"> * written as any of:</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment"> *     award.add(extra)</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;award.add(extra, MathContext.DEFAULT)</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;award.add(extra, acontext)</span></span><br><span class="line"><span class="comment"> * &lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * (where &lt;code&gt;acontext&lt;/code&gt; is a &lt;code&gt;MathContext&lt;/code&gt; object),</span></span><br><span class="line"><span class="comment"> * which would return a &lt;code&gt;BigDecimal&lt;/code&gt; object whose value is</span></span><br><span class="line"><span class="comment"> * the result of adding &lt;code&gt;award&lt;/code&gt; and &lt;code&gt;extra&lt;/code&gt; under</span></span><br><span class="line"><span class="comment"> * the appropriate context settings.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * When a &lt;code&gt;BigDecimal&lt;/code&gt; operator method is used, a set of</span></span><br><span class="line"><span class="comment"> * rules define what the result will be (and, by implication, how the</span></span><br><span class="line"><span class="comment"> * result would be represented as a character string).</span></span><br><span class="line"><span class="comment"> * These rules are defined in the BigDecimal arithmetic documentation</span></span><br><span class="line"><span class="comment"> * (see the URL above), but in summary:</span></span><br><span class="line"><span class="comment"> * &lt;ul&gt;</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;Results are normally calculated with up to some maximum number of</span></span><br><span class="line"><span class="comment"> * significant digits.</span></span><br><span class="line"><span class="comment"> * For example, if the &lt;code&gt;MathContext&lt;/code&gt; parameter for an operation</span></span><br><span class="line"><span class="comment"> * were &lt;code&gt;MathContext.DEFAULT&lt;/code&gt; then the result would be</span></span><br><span class="line"><span class="comment"> * rounded to 9 digits; the division of 2 by 3 would then result in</span></span><br><span class="line"><span class="comment"> * 0.666666667.</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * You can change the default of 9 significant digits by providing the</span></span><br><span class="line"><span class="comment"> * method with a suitable &lt;code&gt;MathContext&lt;/code&gt; object. This lets you</span></span><br><span class="line"><span class="comment"> * calculate using as many digits as you need -- thousands, if necessary.</span></span><br><span class="line"><span class="comment"> * Fixed point (scaled) arithmetic is indicated by using a</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;digits&lt;/code&gt; setting of 0 (or omitting the</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;MathContext&lt;/code&gt; parameter).</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * Similarly, you can change the algorithm used for rounding from the</span></span><br><span class="line"><span class="comment"> * default "classic" algorithm.</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;</span></span><br><span class="line"><span class="comment"> * In standard arithmetic (that is, when the &lt;code&gt;form&lt;/code&gt; setting</span></span><br><span class="line"><span class="comment"> * is not &lt;code&gt;PLAIN&lt;/code&gt;), a zero result is always expressed as the</span></span><br><span class="line"><span class="comment"> * single digit &lt;code&gt;'0'&lt;/code&gt; (that is, with no sign, decimal point,</span></span><br><span class="line"><span class="comment"> * or exponent part).</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;</span></span><br><span class="line"><span class="comment"> * Except for the division and power operators in standard arithmetic,</span></span><br><span class="line"><span class="comment"> * trailing zeros are preserved (this is in contrast to binary floating</span></span><br><span class="line"><span class="comment"> * point operations and most electronic calculators, which lose the</span></span><br><span class="line"><span class="comment"> * information about trailing zeros in the fractional part of results).</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;</span></span><br><span class="line"><span class="comment"> * So, for example:</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment"> *     new BigDecimal("2.40").add(     new BigDecimal("2"))      =&gt; "4.40"</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;new BigDecimal("2.40").subtract(new BigDecimal("2"))      =&gt; "0.40"</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;new BigDecimal("2.40").multiply(new BigDecimal("2"))      =&gt; "4.80"</span></span><br><span class="line"><span class="comment"> * &lt;br&gt;new BigDecimal("2.40").divide(  new BigDecimal("2"), def) =&gt; "1.2"</span></span><br><span class="line"><span class="comment"> * &lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;where the value on the right of the &lt;code&gt;=&gt;&lt;/code&gt; would be the</span></span><br><span class="line"><span class="comment"> * result of the operation, expressed as a &lt;code&gt;String&lt;/code&gt;, and</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;def&lt;/code&gt; (in this and following examples) refers to</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;MathContext.DEFAULT&lt;/code&gt;).</span></span><br><span class="line"><span class="comment"> * This preservation of trailing zeros is desirable for most</span></span><br><span class="line"><span class="comment"> * calculations (including financial calculations).</span></span><br><span class="line"><span class="comment"> * If necessary, trailing zeros may be easily removed using division by 1.</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;</span></span><br><span class="line"><span class="comment"> * In standard arithmetic, exponential form is used for a result</span></span><br><span class="line"><span class="comment"> * depending on its value and the current setting of &lt;code&gt;digits&lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * (the default is 9 digits).</span></span><br><span class="line"><span class="comment"> * If the number of places needed before the decimal point exceeds the</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;digits&lt;/code&gt; setting, or the absolute value of the number is</span></span><br><span class="line"><span class="comment"> * less than &lt;code&gt;0.000001&lt;/code&gt;, then the number will be expressed in</span></span><br><span class="line"><span class="comment"> * exponential notation; thus</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment"> *   new BigDecimal("1e+6").multiply(new BigDecimal("1e+6"), def)</span></span><br><span class="line"><span class="comment"> * &lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;results in &lt;code&gt;1E+12&lt;/code&gt; instead of</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;1000000000000&lt;/code&gt;, and</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment"> *   new BigDecimal("1").divide(new BigDecimal("3E+10"), def)</span></span><br><span class="line"><span class="comment"> * &lt;/code&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;results in &lt;code&gt;3.33333333E-11&lt;/code&gt; instead of</span></span><br><span class="line"><span class="comment"> * &lt;code&gt;0.0000000000333333333&lt;/code&gt;.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The form of the exponential notation (scientific or engineering) is</span></span><br><span class="line"><span class="comment"> * determined by the &lt;code&gt;form&lt;/code&gt; setting.</span></span><br><span class="line"><span class="comment"> * &lt;eul&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The names of methods in this class follow the conventions established</span></span><br><span class="line"><span class="comment"> * by &lt;code&gt;java.lang.Number&lt;/code&gt;, &lt;code&gt;java.math.BigInteger&lt;/code&gt;,</span></span><br><span class="line"><span class="comment"> * and &lt;code&gt;java.math.BigDecimal&lt;/code&gt; in Java 1.1 and Java 1.2.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @see     MathContext</span></span><br><span class="line"><span class="comment"> * @author  Mike Cowlishaw</span></span><br><span class="line"><span class="comment"> * @stable ICU 2.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//--public class BigDecimal extends java.lang.Number implements java.io.Serializable,java.lang.Comparable&#123;</span></span><br><span class="line"><span class="comment">//-- private static final java.lang.String $0="BigDecimal.nrx";</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//-- methods</span></span><br><span class="line"> BigDecimal.prototype.abs = abs;</span><br><span class="line"> BigDecimal.prototype.add = add;</span><br><span class="line"> BigDecimal.prototype.compareTo = compareTo;</span><br><span class="line"> BigDecimal.prototype.divide = divide;</span><br><span class="line"> BigDecimal.prototype.divideInteger = divideInteger;</span><br><span class="line"> BigDecimal.prototype.max = max;</span><br><span class="line"> BigDecimal.prototype.min = min;</span><br><span class="line"> BigDecimal.prototype.multiply = multiply;</span><br><span class="line"> BigDecimal.prototype.negate = negate;</span><br><span class="line"> BigDecimal.prototype.plus = plus;</span><br><span class="line"> BigDecimal.prototype.pow = pow;</span><br><span class="line"> BigDecimal.prototype.remainder = remainder;</span><br><span class="line"> BigDecimal.prototype.subtract = subtract;</span><br><span class="line"> BigDecimal.prototype.equals = equals;</span><br><span class="line"> BigDecimal.prototype.format = format;</span><br><span class="line"> BigDecimal.prototype.intValueExact = intValueExact;</span><br><span class="line"> BigDecimal.prototype.movePointLeft = movePointLeft;</span><br><span class="line"> BigDecimal.prototype.movePointRight = movePointRight;</span><br><span class="line"> BigDecimal.prototype.scale = scale;</span><br><span class="line"> BigDecimal.prototype.setScale = setScale;</span><br><span class="line"> BigDecimal.prototype.signum = signum;</span><br><span class="line"> BigDecimal.prototype.toString = toString;</span><br><span class="line"> BigDecimal.prototype.layout = layout;</span><br><span class="line"> BigDecimal.prototype.intcheck = intcheck;</span><br><span class="line"> BigDecimal.prototype.dodivide = dodivide;</span><br><span class="line"> BigDecimal.prototype.bad = bad;</span><br><span class="line"> BigDecimal.prototype.badarg = badarg;</span><br><span class="line"> BigDecimal.prototype.extend = extend;</span><br><span class="line"> BigDecimal.prototype.byteaddsub = byteaddsub;</span><br><span class="line"> BigDecimal.prototype.diginit = diginit;</span><br><span class="line"> BigDecimal.prototype.clone = clone;</span><br><span class="line"> BigDecimal.prototype.checkdigits = checkdigits;</span><br><span class="line"> BigDecimal.prototype.round = round;</span><br><span class="line"> BigDecimal.prototype.allzero = allzero;</span><br><span class="line"> BigDecimal.prototype.finish = finish;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Convenience methods</span></span><br><span class="line"> BigDecimal.prototype.isGreaterThan = isGreaterThan;</span><br><span class="line"> BigDecimal.prototype.isLessThan = isLessThan;</span><br><span class="line"> BigDecimal.prototype.isGreaterThanOrEqualTo = isGreaterThanOrEqualTo;</span><br><span class="line"> BigDecimal.prototype.isLessThanOrEqualTo = isLessThanOrEqualTo;</span><br><span class="line"> BigDecimal.prototype.isPositive = isPositive;</span><br><span class="line"> BigDecimal.prototype.isNegative = isNegative;</span><br><span class="line"> BigDecimal.prototype.isZero = isZero;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ----- Constants ----- */</span></span><br><span class="line"> <span class="comment">/* properties constant public */</span> <span class="comment">// useful to others</span></span><br><span class="line"> <span class="comment">// the rounding modes (copied here for upwards compatibility)</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to a more positive number.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_CEILING</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_CEILING=com.ibm.icu.math.MathContext.ROUND_CEILING;</span></span><br><span class="line"> BigDecimal.ROUND_CEILING = BigDecimal.prototype.ROUND_CEILING = MathContext.prototype.ROUND_CEILING;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round towards zero.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_DOWN</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_DOWN=com.ibm.icu.math.MathContext.ROUND_DOWN;</span></span><br><span class="line"> BigDecimal.ROUND_DOWN = BigDecimal.prototype.ROUND_DOWN = MathContext.prototype.ROUND_DOWN;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to a more negative number.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_FLOOR</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_FLOOR=com.ibm.icu.math.MathContext.ROUND_FLOOR;</span></span><br><span class="line"> BigDecimal.ROUND_FLOOR = BigDecimal.prototype.ROUND_FLOOR = MathContext.prototype.ROUND_FLOOR;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded down.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_HALF_DOWN</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_DOWN=com.ibm.icu.math.MathContext.ROUND_HALF_DOWN;</span></span><br><span class="line"> BigDecimal.ROUND_HALF_DOWN = BigDecimal.prototype.ROUND_HALF_DOWN = MathContext.prototype.ROUND_HALF_DOWN;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded to the nearest even neighbor.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_HALF_EVEN</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_EVEN=com.ibm.icu.math.MathContext.ROUND_HALF_EVEN;</span></span><br><span class="line"> BigDecimal.ROUND_HALF_EVEN = BigDecimal.prototype.ROUND_HALF_EVEN = MathContext.prototype.ROUND_HALF_EVEN;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round to nearest neighbor, where an equidistant</span></span><br><span class="line"><span class="comment">  * value is rounded up.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_HALF_UP</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_HALF_UP=com.ibm.icu.math.MathContext.ROUND_HALF_UP;</span></span><br><span class="line"> BigDecimal.ROUND_HALF_UP = BigDecimal.prototype.ROUND_HALF_UP = MathContext.prototype.ROUND_HALF_UP;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to assert that no rounding is necessary.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_UNNECESSARY</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_UNNECESSARY=com.ibm.icu.math.MathContext.ROUND_UNNECESSARY;</span></span><br><span class="line"> BigDecimal.ROUND_UNNECESSARY = BigDecimal.prototype.ROUND_UNNECESSARY = MathContext.prototype.ROUND_UNNECESSARY;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Rounding mode to round away from zero.</span></span><br><span class="line"><span class="comment">  * @see MathContext#ROUND_UP</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final int ROUND_UP=com.ibm.icu.math.MathContext.ROUND_UP;</span></span><br><span class="line"> BigDecimal.ROUND_UP = BigDecimal.prototype.ROUND_UP = MathContext.prototype.ROUND_UP;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties constant private */</span> <span class="comment">// locals</span></span><br><span class="line"> <span class="comment">//--private static final byte ispos=1; // ind: indicates positive (must be 1)</span></span><br><span class="line"> <span class="comment">//--private static final byte iszero=0; // ind: indicates zero     (must be 0)</span></span><br><span class="line"> <span class="comment">//--private static final byte isneg=-1; // ind: indicates negative (must be -1)</span></span><br><span class="line"> BigDecimal.prototype.ispos = <span class="number">1</span>;</span><br><span class="line"> BigDecimal.prototype.iszero = <span class="number">0</span>;</span><br><span class="line"> BigDecimal.prototype.isneg = <span class="number">-1</span>;</span><br><span class="line"> <span class="comment">// [later could add NaN, +/- infinity, here]</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final int MinExp=-999999999; // minimum exponent allowed</span></span><br><span class="line"> <span class="comment">//--private static final int MaxExp=999999999; // maximum exponent allowed</span></span><br><span class="line"> <span class="comment">//--private static final int MinArg=-999999999; // minimum argument integer</span></span><br><span class="line"> <span class="comment">//--private static final int MaxArg=999999999; // maximum argument integer</span></span><br><span class="line"> BigDecimal.prototype.MinExp=<span class="number">-999999999</span>; <span class="comment">// minimum exponent allowed</span></span><br><span class="line"> BigDecimal.prototype.MaxExp=<span class="number">999999999</span>; <span class="comment">// maximum exponent allowed</span></span><br><span class="line"> BigDecimal.prototype.MinArg=<span class="number">-999999999</span>; <span class="comment">// minimum argument integer</span></span><br><span class="line"> BigDecimal.prototype.MaxArg=<span class="number">999999999</span>; <span class="comment">// maximum argument integer</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final com.ibm.icu.math.MathContext plainMC=new com.ibm.icu.math.MathContext(0,com.ibm.icu.math.MathContext.PLAIN); // context for plain unlimited math</span></span><br><span class="line"> BigDecimal.prototype.plainMC=<span class="keyword">new</span> MathContext(<span class="number">0</span>, MathContext.prototype.PLAIN);</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties constant private unused */</span> <span class="comment">// present but not referenced</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// Serialization version</span></span><br><span class="line"> <span class="comment">//--private static final long serialVersionUID=8245355804974198832L;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final java.lang.String copyright=" Copyright (c) IBM Corporation 1996, 2000.  All rights reserved. ";</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* properties static private */</span></span><br><span class="line"> <span class="comment">// Precalculated constant arrays (used by byteaddsub)</span></span><br><span class="line"> <span class="comment">//--private static byte bytecar[]=new byte[(90+99)+1]; // carry/borrow array</span></span><br><span class="line"> <span class="comment">//--private static byte bytedig[]=diginit(); // next digit array</span></span><br><span class="line"> BigDecimal.prototype.bytecar = <span class="keyword">new</span> <span class="built_in">Array</span>((<span class="number">90</span>+<span class="number">99</span>)+<span class="number">1</span>);</span><br><span class="line"> BigDecimal.prototype.bytedig = diginit();</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; constant "0".</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ONE</span></span><br><span class="line"><span class="comment">  * @see #TEN</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final com.ibm.icu.math.BigDecimal ZERO=new com.ibm.icu.math.BigDecimal((long)0); // use long as we want the int constructor</span></span><br><span class="line"> <span class="comment">// .. to be able to use this, for speed</span></span><br><span class="line">BigDecimal.ZERO = BigDecimal.prototype.ZERO = <span class="keyword">new</span> BigDecimal(<span class="string">"0"</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; constant "1".</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #TEN</span></span><br><span class="line"><span class="comment">  * @see #ZERO</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final com.ibm.icu.math.BigDecimal ONE=new com.ibm.icu.math.BigDecimal((long)1); // use long as we want the int constructor</span></span><br><span class="line"> <span class="comment">// .. to be able to use this, for speed</span></span><br><span class="line">BigDecimal.ONE = BigDecimal.prototype.ONE = <span class="keyword">new</span> BigDecimal(<span class="string">"1"</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; constant "10".</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @see #ONE</span></span><br><span class="line"><span class="comment">  * @see #ZERO</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--public static final com.ibm.icu.math.BigDecimal TEN=new com.ibm.icu.math.BigDecimal(10);</span></span><br><span class="line"> BigDecimal.TEN = BigDecimal.prototype.TEN = <span class="keyword">new</span> BigDecimal(<span class="string">"10"</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ----- Instance properties [all private and immutable] ----- */</span></span><br><span class="line"> <span class="comment">/* properties private */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The indicator. This may take the values:</span></span><br><span class="line"><span class="comment">  * &lt;ul&gt;</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;ispos  -- the number is positive</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;iszero -- the number is zero</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;isneg  -- the number is negative</span></span><br><span class="line"><span class="comment">  * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--private byte ind; // assumed undefined</span></span><br><span class="line"> <span class="comment">// Note: some code below assumes IND = Sign [-1, 0, 1], at present.</span></span><br><span class="line"> <span class="comment">// We only need two bits for this, but use a byte [also permits</span></span><br><span class="line"> <span class="comment">// smooth future extension].</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The formatting style. This may take the values:</span></span><br><span class="line"><span class="comment">  * &lt;ul&gt;</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;MathContext.PLAIN        -- no exponent needed</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;MathContext.SCIENTIFIC   -- scientific notation required</span></span><br><span class="line"><span class="comment">  * &lt;li&gt;MathContext.ENGINEERING  -- engineering notation required</span></span><br><span class="line"><span class="comment">  * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * This property is an optimization; it allows us to defer number</span></span><br><span class="line"><span class="comment">  * layout until it is actually needed as a string, hence avoiding</span></span><br><span class="line"><span class="comment">  * unnecessary formatting.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--private byte form=(byte)com.ibm.icu.math.MathContext.PLAIN; // assumed PLAIN</span></span><br><span class="line"> <span class="comment">// We only need two bits for this, at present, but use a byte</span></span><br><span class="line"> <span class="comment">// [again, to allow for smooth future extension]</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The value of the mantissa.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Once constructed, this may become shared between several BigDecimal</span></span><br><span class="line"><span class="comment">  * objects, so must not be altered.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * For efficiency (speed), this is a byte array, with each byte</span></span><br><span class="line"><span class="comment">  * taking a value of 0 -&gt; 9.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the first byte is 0 then the value of the number is zero (and</span></span><br><span class="line"><span class="comment">  * mant.length=1, except when constructed from a plain number, for</span></span><br><span class="line"><span class="comment">  * example, 0.000).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--private byte mant[]; // assumed null</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * The exponent.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * For fixed point arithmetic, scale is &lt;code&gt;-exp&lt;/code&gt;, and can</span></span><br><span class="line"><span class="comment">  * apply to zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * Note that this property can have a value less than MinExp when</span></span><br><span class="line"><span class="comment">  * the mantissa has more than one digit.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @serial</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">//--private int exp;</span></span><br><span class="line"> <span class="comment">// assumed 0</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"> <span class="comment">/* Constructors                                                     */</span></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.math.BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; as though the parameter had</span></span><br><span class="line"><span class="comment">  * been represented as a &lt;code&gt;String&lt;/code&gt; (using its</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;toString&lt;/code&gt; method) and the</span></span><br><span class="line"><span class="comment">  * &#123;@link #BigDecimal(java.lang.String)&#125; constructor had then been</span></span><br><span class="line"><span class="comment">  * used.</span></span><br><span class="line"><span class="comment">  * The parameter must not be &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;(Note: this constructor is provided only in the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;com.ibm.icu.math&lt;/code&gt; version of the BigDecimal class.</span></span><br><span class="line"><span class="comment">  * It would not be present in a &lt;code&gt;java.math&lt;/code&gt; version.)&lt;/i&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param bd The &lt;code&gt;BigDecimal&lt;/code&gt; to be translated.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(java.math.BigDecimal bd)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(bd.toString());</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigInteger&lt;/code&gt;, with scale 0.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; which is the exact decimal</span></span><br><span class="line"><span class="comment">  * representation of the &lt;code&gt;BigInteger&lt;/code&gt;, with a scale of</span></span><br><span class="line"><span class="comment">  * zero.</span></span><br><span class="line"><span class="comment">  * The value of the &lt;code&gt;BigDecimal&lt;/code&gt; is identical to the value</span></span><br><span class="line"><span class="comment">  * of the &lt;code&gt;BigInteger&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * The parameter must not be &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; will contain only decimal digits,</span></span><br><span class="line"><span class="comment">  * prefixed with a leading minus sign (hyphen) if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigInteger&lt;/code&gt; is negative.  A leading zero will be</span></span><br><span class="line"><span class="comment">  * present only if the &lt;code&gt;BigInteger&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param bi The &lt;code&gt;BigInteger&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(java.math.BigInteger bi)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(bi.toString(10));</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"> <span class="comment">// exp remains 0</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigInteger&lt;/code&gt; and a scale.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; which is the exact decimal</span></span><br><span class="line"><span class="comment">  * representation of the &lt;code&gt;BigInteger&lt;/code&gt;, scaled by the</span></span><br><span class="line"><span class="comment">  * second parameter, which may not be negative.</span></span><br><span class="line"><span class="comment">  * The value of the &lt;code&gt;BigDecimal&lt;/code&gt; is the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigInteger&lt;/code&gt; divided by ten to the power of the scale.</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigInteger&lt;/code&gt; parameter must not be</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; will contain only decimal digits, (with</span></span><br><span class="line"><span class="comment">  * an embedded decimal point followed by &lt;code&gt;scale&lt;/code&gt; decimal</span></span><br><span class="line"><span class="comment">  * digits if the scale is positive), prefixed with a leading minus</span></span><br><span class="line"><span class="comment">  * sign (hyphen) if the &lt;code&gt;BigInteger&lt;/code&gt; is negative.  A</span></span><br><span class="line"><span class="comment">  * leading zero will be present only if the &lt;code&gt;BigInteger&lt;/code&gt; is</span></span><br><span class="line"><span class="comment">  * zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  bi    The &lt;code&gt;BigInteger&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @param  scale The &lt;code&gt;int&lt;/code&gt; specifying the scale.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the scale is negative.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(java.math.BigInteger bi,int scale)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(bi.toString(10));</span></span><br><span class="line"> <span class="comment">//-- if (scale&lt;0)</span></span><br><span class="line"> <span class="comment">//--  throw new java.lang.NumberFormatException("Negative scale:"+" "+scale);</span></span><br><span class="line"> <span class="comment">//-- exp=(int)-scale; // exponent is -scale</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from an array of characters.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; as though a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;String&lt;/code&gt; had been constructed from the character array</span></span><br><span class="line"><span class="comment">  * and the &#123;@link #BigDecimal(java.lang.String)&#125; constructor had then</span></span><br><span class="line"><span class="comment">  * been used. The parameter must not be &lt;code&gt;null&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Using this constructor is faster than using the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal(String)&lt;/code&gt; constructor if the string is</span></span><br><span class="line"><span class="comment">  * already available in character array form.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param inchars The &lt;code&gt;char[]&lt;/code&gt; array containing the number</span></span><br><span class="line"><span class="comment">  *                to be converted.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the parameter is not a valid</span></span><br><span class="line"><span class="comment">  *                number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(char inchars[])&#123;</span></span><br><span class="line"> <span class="comment">//-- this(inchars,0,inchars.length);</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from an array of characters.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; as though a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;String&lt;/code&gt; had been constructed from the character array</span></span><br><span class="line"><span class="comment">  * (or a subarray of that array) and the</span></span><br><span class="line"><span class="comment">  * &#123;@link #BigDecimal(java.lang.String)&#125; constructor had then been</span></span><br><span class="line"><span class="comment">  * used. The first parameter must not be &lt;code&gt;null&lt;/code&gt;, and the</span></span><br><span class="line"><span class="comment">  * subarray must be wholly contained within it.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Using this constructor is faster than using the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal(String)&lt;/code&gt; constructor if the string is</span></span><br><span class="line"><span class="comment">  * already available within a character array.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param inchars The &lt;code&gt;char[]&lt;/code&gt; array containing the number</span></span><br><span class="line"><span class="comment">  *                to be converted.</span></span><br><span class="line"><span class="comment">  * @param offset  The &lt;code&gt;int&lt;/code&gt; offset into the array of the</span></span><br><span class="line"><span class="comment">  *                start of the number to be converted.</span></span><br><span class="line"><span class="comment">  * @param length  The &lt;code&gt;int&lt;/code&gt; length of the number.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the parameter is not a valid</span></span><br><span class="line"><span class="comment">  *                number for any reason.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(char inchars[],int offset,int length)&#123;super();</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">BigDecimal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//-- members</span></span><br><span class="line">  <span class="keyword">this</span>.ind = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.form = MathContext.prototype.PLAIN;</span><br><span class="line">  <span class="keyword">this</span>.mant = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">this</span>.exp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//-- overloaded ctor</span></span><br><span class="line">  <span class="keyword">if</span> (BigDecimal.arguments.length == <span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">var</span> inchars;</span><br><span class="line">  <span class="keyword">var</span> offset;</span><br><span class="line">  <span class="keyword">var</span> length;</span><br><span class="line">  <span class="keyword">if</span> (BigDecimal.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    inchars = BigDecimal.arguments[<span class="number">0</span>];</span><br><span class="line">    offset = <span class="number">0</span>;</span><br><span class="line">    length = inchars.length;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    inchars = BigDecimal.arguments[<span class="number">0</span>];</span><br><span class="line">    offset = BigDecimal.arguments[<span class="number">1</span>];</span><br><span class="line">    length = BigDecimal.arguments[<span class="number">2</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> inchars == <span class="string">"string"</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    inchars = inchars.split(<span class="string">""</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//--boolean exotic;</span></span><br><span class="line">  <span class="keyword">var</span> exotic;</span><br><span class="line">  <span class="comment">//--boolean hadexp;</span></span><br><span class="line">  <span class="keyword">var</span> hadexp;</span><br><span class="line">  <span class="comment">//--int d;</span></span><br><span class="line">  <span class="keyword">var</span> d;</span><br><span class="line">  <span class="comment">//--int dotoff;</span></span><br><span class="line">  <span class="keyword">var</span> dotoff;</span><br><span class="line">  <span class="comment">//--int last;</span></span><br><span class="line">  <span class="keyword">var</span> last;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char si=0;</span></span><br><span class="line">  <span class="keyword">var</span> si=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--boolean eneg=false;</span></span><br><span class="line">  <span class="keyword">var</span> eneg=<span class="literal">false</span>;</span><br><span class="line">  <span class="comment">//--int k=0;</span></span><br><span class="line">  <span class="keyword">var</span> k=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int elen=0;</span></span><br><span class="line">  <span class="keyword">var</span> elen=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int j=0;</span></span><br><span class="line">  <span class="keyword">var</span> j=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char sj=0;</span></span><br><span class="line">  <span class="keyword">var</span> sj=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int dvalue=0;</span></span><br><span class="line">  <span class="keyword">var</span> dvalue=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int mag=0;</span></span><br><span class="line">  <span class="keyword">var</span> mag=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">// This is the primary constructor; all incoming strings end up</span></span><br><span class="line">  <span class="comment">// here; it uses explicit (inline) parsing for speed and to avoid</span></span><br><span class="line">  <span class="comment">// generating intermediate (temporary) objects of any kind.</span></span><br><span class="line">  <span class="comment">// 1998.06.25: exponent form built only if E/e in string</span></span><br><span class="line">  <span class="comment">// 1998.06.25: trailing zeros not removed for zero</span></span><br><span class="line">  <span class="comment">// 1999.03.06: no embedded blanks; allow offset and length</span></span><br><span class="line">  <span class="keyword">if</span> (length&lt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// bad conversion (empty string)</span></span><br><span class="line">  <span class="comment">// [bad offset will raise array bounds exception]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Handle and step past sign */</span></span><br><span class="line">  <span class="keyword">this</span>.ind=<span class="keyword">this</span>.ispos; <span class="comment">// assume positive</span></span><br><span class="line">  <span class="keyword">if</span> (inchars[<span class="number">0</span>]==(<span class="string">'-'</span>))</span><br><span class="line">   &#123;</span><br><span class="line">    length--;</span><br><span class="line">    <span class="keyword">if</span> (length==<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// nothing after sign</span></span><br><span class="line">    <span class="keyword">this</span>.ind=<span class="keyword">this</span>.isneg;</span><br><span class="line">    offset++;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   <span class="keyword">if</span> (inchars[<span class="number">0</span>]==(<span class="string">'+'</span>))</span><br><span class="line">    &#123;</span><br><span class="line">     length--;</span><br><span class="line">     <span class="keyword">if</span> (length==<span class="number">0</span>)</span><br><span class="line">      <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// nothing after sign</span></span><br><span class="line">     offset++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* We're at the start of the number */</span></span><br><span class="line">  exotic=<span class="literal">false</span>; <span class="comment">// have extra digits</span></span><br><span class="line">  hadexp=<span class="literal">false</span>; <span class="comment">// had explicit exponent</span></span><br><span class="line">  d=<span class="number">0</span>; <span class="comment">// count of digits found</span></span><br><span class="line">  dotoff=<span class="number">-1</span>; <span class="comment">// offset where dot was found</span></span><br><span class="line">  last=<span class="number">-1</span>; <span class="comment">// last character of mantissa</span></span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">1</span>=length;i=offset;i:<span class="keyword">for</span>(;$<span class="number">1</span>&gt;<span class="number">0</span>;$<span class="number">1</span>--,i++)&#123;</span><br><span class="line">   si=inchars[i];</span><br><span class="line">   <span class="keyword">if</span> (si&gt;=<span class="string">'0'</span>)  <span class="comment">// test for Arabic digit</span></span><br><span class="line">    <span class="keyword">if</span> (si&lt;=<span class="string">'9'</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      last=i;</span><br><span class="line">      d++; <span class="comment">// still in mantissa</span></span><br><span class="line">      <span class="keyword">continue</span> i;</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="keyword">if</span> (si==<span class="string">'.'</span>)</span><br><span class="line">    &#123; <span class="comment">// record and ignore</span></span><br><span class="line">     <span class="keyword">if</span> (dotoff&gt;=<span class="number">0</span>)</span><br><span class="line">      <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// two dots</span></span><br><span class="line">     dotoff=i-offset; <span class="comment">// offset into mantissa</span></span><br><span class="line">     <span class="keyword">continue</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">if</span> (si!=<span class="string">'e'</span>)</span><br><span class="line">    <span class="keyword">if</span> (si!=<span class="string">'E'</span>)</span><br><span class="line">     &#123; <span class="comment">// expect an extra digit</span></span><br><span class="line">      <span class="keyword">if</span> (si&lt;<span class="string">'0'</span> || si&gt;<span class="string">'9'</span>)</span><br><span class="line">       <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// not a number</span></span><br><span class="line">      <span class="comment">// defer the base 10 check until later to avoid extra method call</span></span><br><span class="line">      exotic=<span class="literal">true</span>; <span class="comment">// will need conversion later</span></span><br><span class="line">      last=i;</span><br><span class="line">      d++; <span class="comment">// still in mantissa</span></span><br><span class="line">      <span class="keyword">continue</span> i;</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="comment">/* Found 'e' or 'E' -- now process explicit exponent */</span></span><br><span class="line">   <span class="comment">// 1998.07.11: sign no longer required</span></span><br><span class="line">   <span class="keyword">if</span> ((i-offset)&gt;(length<span class="number">-2</span>))</span><br><span class="line">    <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// no room for even one digit</span></span><br><span class="line">   eneg=<span class="literal">false</span>;</span><br><span class="line">   <span class="keyword">if</span> ((inchars[i+<span class="number">1</span>])==(<span class="string">'-'</span>))</span><br><span class="line">    &#123;</span><br><span class="line">     eneg=<span class="literal">true</span>;</span><br><span class="line">     k=i+<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> ((inchars[i+<span class="number">1</span>])==(<span class="string">'+'</span>))</span><br><span class="line">     k=i+<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     k=i+<span class="number">1</span>;</span><br><span class="line">   <span class="comment">// k is offset of first expected digit</span></span><br><span class="line">   elen=length-((k-offset)); <span class="comment">// possible number of digits</span></span><br><span class="line">   <span class="keyword">if</span> ((elen==<span class="number">0</span>)||(elen&gt;<span class="number">9</span>))</span><br><span class="line">    <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// 0 or more than 9 digits</span></span><br><span class="line">   &#123;<span class="keyword">var</span> $<span class="number">2</span>=elen;j=k;j:<span class="keyword">for</span>(;$<span class="number">2</span>&gt;<span class="number">0</span>;$<span class="number">2</span>--,j++)&#123;</span><br><span class="line">    sj=inchars[j];</span><br><span class="line">    <span class="keyword">if</span> (sj&lt;<span class="string">'0'</span>)</span><br><span class="line">     <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// always bad</span></span><br><span class="line">    <span class="keyword">if</span> (sj&gt;<span class="string">'9'</span>)</span><br><span class="line">     &#123; <span class="comment">// maybe an exotic digit</span></span><br><span class="line">      <span class="comment">/*if (si&lt;'0' || si&gt;'9')</span></span><br><span class="line"><span class="comment">       this.bad(inchars); // not a number</span></span><br><span class="line"><span class="comment">      dvalue=java.lang.Character.digit(sj,10); // check base</span></span><br><span class="line"><span class="comment">      if (dvalue&lt;0)</span></span><br><span class="line"><span class="comment">       bad(inchars); // not base 10*/</span></span><br><span class="line">      <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     dvalue=sj-<span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">this</span>.exp=(<span class="keyword">this</span>.exp*<span class="number">10</span>)+dvalue;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="comment">/*j*/</span></span><br><span class="line">   <span class="keyword">if</span> (eneg)</span><br><span class="line">    <span class="keyword">this</span>.exp=-<span class="keyword">this</span>.exp; <span class="comment">// was negative</span></span><br><span class="line">   hadexp=<span class="literal">true</span>; <span class="comment">// remember we had one</span></span><br><span class="line">   <span class="keyword">break</span> i; <span class="comment">// we are done</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Here when all inspected */</span></span><br><span class="line">  <span class="keyword">if</span> (d==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// no mantissa digits</span></span><br><span class="line">  <span class="keyword">if</span> (dotoff&gt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">this</span>.exp=(<span class="keyword">this</span>.exp+dotoff)-d; <span class="comment">// adjust exponent if had dot</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* strip leading zeros/dot (leave final if all 0's) */</span></span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">3</span>=last<span class="number">-1</span>;i=offset;i:<span class="keyword">for</span>(;i&lt;=$<span class="number">3</span>;i++)&#123;</span><br><span class="line">   si=inchars[i];</span><br><span class="line">   <span class="keyword">if</span> (si==<span class="string">'0'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     offset++;</span><br><span class="line">     dotoff--;</span><br><span class="line">     d--;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> (si==<span class="string">'.'</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      offset++; <span class="comment">// step past dot</span></span><br><span class="line">      dotoff--;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     <span class="keyword">if</span> (si&lt;=<span class="string">'9'</span>)</span><br><span class="line">      <span class="keyword">break</span> i;<span class="comment">/* non-0 */</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      &#123;<span class="comment">/* exotic */</span></span><br><span class="line">       <span class="comment">//if ((java.lang.Character.digit(si,10))!=0)</span></span><br><span class="line">        <span class="keyword">break</span> i; <span class="comment">// non-0 or bad</span></span><br><span class="line">       <span class="comment">// is 0 .. strip like '0'</span></span><br><span class="line">       <span class="comment">//offset++;</span></span><br><span class="line">       <span class="comment">//dotoff--;</span></span><br><span class="line">       <span class="comment">//d--;</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Create the mantissa array */</span></span><br><span class="line">  <span class="keyword">this</span>.mant=<span class="keyword">new</span> <span class="built_in">Array</span>(d); <span class="comment">// we know the length</span></span><br><span class="line">  j=offset; <span class="comment">// input offset</span></span><br><span class="line">  <span class="keyword">if</span> (exotic)</span><br><span class="line">   &#123;<span class="attr">exotica</span>:<span class="keyword">do</span>&#123; <span class="comment">// slow: check for exotica</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">4</span>=d;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">4</span>&gt;<span class="number">0</span>;$<span class="number">4</span>--,i++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (i==dotoff)</span><br><span class="line">      j++; <span class="comment">// at dot</span></span><br><span class="line">     sj=inchars[j];</span><br><span class="line">     <span class="keyword">if</span> (sj&lt;=<span class="string">'9'</span>)</span><br><span class="line">      <span class="keyword">this</span>.mant[i]=sj-<span class="string">'0'</span>;<span class="comment">/* easy */</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">       <span class="comment">//dvalue=java.lang.Character.digit(sj,10);</span></span><br><span class="line">       <span class="comment">//if (dvalue&lt;0)</span></span><br><span class="line">        <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars); <span class="comment">// not a number after all</span></span><br><span class="line">       <span class="comment">//mant[i]=(byte)dvalue;</span></span><br><span class="line">      &#125;</span><br><span class="line">     j++;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">   &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*exotica*/</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="attr">simple</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">5</span>=d;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">5</span>&gt;<span class="number">0</span>;$<span class="number">5</span>--,i++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (i==dotoff)</span><br><span class="line">      j++;</span><br><span class="line">     <span class="keyword">this</span>.mant[i]=inchars[j]-<span class="string">'0'</span>;</span><br><span class="line">     j++;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">   &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*simple*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Looks good.  Set the sign indicator and form, as needed. */</span></span><br><span class="line">  <span class="comment">// Trailing zeros are preserved</span></span><br><span class="line">  <span class="comment">// The rule here for form is:</span></span><br><span class="line">  <span class="comment">//   If no E-notation, then request plain notation</span></span><br><span class="line">  <span class="comment">//   Otherwise act as though add(0,DEFAULT) and request scientific notation</span></span><br><span class="line">  <span class="comment">// [form is already PLAIN]</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.mant[<span class="number">0</span>]==<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">this</span>.ind=<span class="keyword">this</span>.iszero; <span class="comment">// force to show zero</span></span><br><span class="line">    <span class="comment">// negative exponent is significant (e.g., -3 for 0.000) if plain</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.exp&gt;<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">this</span>.exp=<span class="number">0</span>; <span class="comment">// positive exponent can be ignored</span></span><br><span class="line">    <span class="keyword">if</span> (hadexp)</span><br><span class="line">     &#123; <span class="comment">// zero becomes single digit from add</span></span><br><span class="line">      <span class="keyword">this</span>.mant=<span class="keyword">this</span>.ZERO.mant;</span><br><span class="line">      <span class="keyword">this</span>.exp=<span class="number">0</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123; <span class="comment">// non-zero</span></span><br><span class="line">    <span class="comment">// [ind was set earlier]</span></span><br><span class="line">    <span class="comment">// now determine form</span></span><br><span class="line">    <span class="keyword">if</span> (hadexp)</span><br><span class="line">     &#123;</span><br><span class="line">      <span class="keyword">this</span>.form=MathContext.prototype.SCIENTIFIC;</span><br><span class="line">      <span class="comment">// 1999.06.29 check for overflow</span></span><br><span class="line">      mag=(<span class="keyword">this</span>.exp+<span class="keyword">this</span>.mant.length)<span class="number">-1</span>; <span class="comment">// true exponent in scientific notation</span></span><br><span class="line">      <span class="keyword">if</span> ((mag&lt;<span class="keyword">this</span>.MinExp)||(mag&gt;<span class="keyword">this</span>.MaxExp))</span><br><span class="line">       <span class="keyword">this</span>.bad(<span class="string">"BigDecimal(): "</span>, inchars);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">// say 'BD(c[]): mant[0] mantlen exp ind form:' mant[0] mant.length exp ind form</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object directly from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;double&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; which is the exact decimal</span></span><br><span class="line"><span class="comment">  * representation of the 64-bit signed binary floating point</span></span><br><span class="line"><span class="comment">  * parameter.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Note that this constructor it an exact conversion; it does not give</span></span><br><span class="line"><span class="comment">  * the same result as converting &lt;code&gt;num&lt;/code&gt; to a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;String&lt;/code&gt; using the &lt;code&gt;Double.toString()&lt;/code&gt; method</span></span><br><span class="line"><span class="comment">  * and then using the &#123;@link #BigDecimal(java.lang.String)&#125;</span></span><br><span class="line"><span class="comment">  * constructor.</span></span><br><span class="line"><span class="comment">  * To get that result, use the static &#123;@link #valueOf(double)&#125;</span></span><br><span class="line"><span class="comment">  * method to construct a &lt;code&gt;BigDecimal&lt;/code&gt; from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;double&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param num The &lt;code&gt;double&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the parameter is infinite or</span></span><br><span class="line"><span class="comment">  *            not a number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(double num)&#123;</span></span><br><span class="line"> <span class="comment">//-- // 1999.03.06: use exactly the old algorithm</span></span><br><span class="line"> <span class="comment">//-- // 2000.01.01: note that this constructor does give an exact result,</span></span><br><span class="line"> <span class="comment">//-- //             so perhaps it should not be deprecated</span></span><br><span class="line"> <span class="comment">//-- // 2000.06.18: no longer deprecated</span></span><br><span class="line"> <span class="comment">//-- this((new java.math.BigDecimal(num)).toString());</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object directly from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; which is the exact decimal</span></span><br><span class="line"><span class="comment">  * representation of the 32-bit signed binary integer parameter.</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; will contain only decimal digits,</span></span><br><span class="line"><span class="comment">  * prefixed with a leading minus sign (hyphen) if the parameter is</span></span><br><span class="line"><span class="comment">  * negative.</span></span><br><span class="line"><span class="comment">  * A leading zero will be present only if the parameter is zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param num The &lt;code&gt;int&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(int num)&#123;super();</span></span><br><span class="line"> <span class="comment">//-- int mun;</span></span><br><span class="line"> <span class="comment">//-- int i=0;</span></span><br><span class="line"> <span class="comment">//-- // We fastpath commoners</span></span><br><span class="line"> <span class="comment">//-- if (num&lt;=9)</span></span><br><span class="line"> <span class="comment">//--  if (num&gt;=(-9))</span></span><br><span class="line"> <span class="comment">//--   &#123;singledigit:do&#123;</span></span><br><span class="line"> <span class="comment">//--    // very common single digit case</span></span><br><span class="line"> <span class="comment">//--    &#123;/*select*/</span></span><br><span class="line"> <span class="comment">//--    if (num==0)</span></span><br><span class="line"> <span class="comment">//--     &#123;</span></span><br><span class="line"> <span class="comment">//--      mant=ZERO.mant;</span></span><br><span class="line"> <span class="comment">//--      ind=iszero;</span></span><br><span class="line"> <span class="comment">//--     &#125;</span></span><br><span class="line"> <span class="comment">//--    else if (num==1)</span></span><br><span class="line"> <span class="comment">//--     &#123;</span></span><br><span class="line"> <span class="comment">//--      mant=ONE.mant;</span></span><br><span class="line"> <span class="comment">//--      ind=ispos;</span></span><br><span class="line"> <span class="comment">//--     &#125;</span></span><br><span class="line"> <span class="comment">//--    else if (num==(-1))</span></span><br><span class="line"> <span class="comment">//--     &#123;</span></span><br><span class="line"> <span class="comment">//--      mant=ONE.mant;</span></span><br><span class="line"> <span class="comment">//--      ind=isneg;</span></span><br><span class="line"> <span class="comment">//--     &#125;</span></span><br><span class="line"> <span class="comment">//--    else&#123;</span></span><br><span class="line"> <span class="comment">//--     &#123;</span></span><br><span class="line"> <span class="comment">//--      mant=new byte[1];</span></span><br><span class="line"> <span class="comment">//--      if (num&gt;0)</span></span><br><span class="line"> <span class="comment">//--       &#123;</span></span><br><span class="line"> <span class="comment">//--        mant[0]=(byte)num;</span></span><br><span class="line"> <span class="comment">//--        ind=ispos;</span></span><br><span class="line"> <span class="comment">//--       &#125;</span></span><br><span class="line"> <span class="comment">//--      else</span></span><br><span class="line"> <span class="comment">//--       &#123; // num&lt;-1</span></span><br><span class="line"> <span class="comment">//--        mant[0]=(byte)((int)-num);</span></span><br><span class="line"> <span class="comment">//--        ind=isneg;</span></span><br><span class="line"> <span class="comment">//--       &#125;</span></span><br><span class="line"> <span class="comment">//--     &#125;</span></span><br><span class="line"> <span class="comment">//--    &#125;</span></span><br><span class="line"> <span class="comment">//--    &#125;</span></span><br><span class="line"> <span class="comment">//--    return;</span></span><br><span class="line"> <span class="comment">//--   &#125;while(false);&#125;/*singledigit*/</span></span><br><span class="line"> <span class="comment">//--</span></span><br><span class="line"> <span class="comment">//-- /* We work on negative numbers so we handle the most negative number */</span></span><br><span class="line"> <span class="comment">//-- if (num&gt;0)</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   ind=ispos;</span></span><br><span class="line"> <span class="comment">//--   num=(int)-num;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- else</span></span><br><span class="line"> <span class="comment">//--  ind=isneg;/* negative */ // [0 case already handled]</span></span><br><span class="line"> <span class="comment">//-- // [it is quicker, here, to pre-calculate the length with</span></span><br><span class="line"> <span class="comment">//-- // one loop, then allocate exactly the right length of byte array,</span></span><br><span class="line"> <span class="comment">//-- // then re-fill it with another loop]</span></span><br><span class="line"> <span class="comment">//-- mun=num; // working copy</span></span><br><span class="line"> <span class="comment">//-- &#123;i=9;i:for(;;i--)&#123;</span></span><br><span class="line"> <span class="comment">//--  mun=mun/10;</span></span><br><span class="line"> <span class="comment">//--  if (mun==0)</span></span><br><span class="line"> <span class="comment">//--   break i;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;/*i*/</span></span><br><span class="line"> <span class="comment">//-- // i is the position of the leftmost digit placed</span></span><br><span class="line"> <span class="comment">//-- mant=new byte[10-i];</span></span><br><span class="line"> <span class="comment">//-- &#123;i=(10-i)-1;i:for(;;i--)&#123;</span></span><br><span class="line"> <span class="comment">//--  mant[i]=(byte)-(((byte)(num%10)));</span></span><br><span class="line"> <span class="comment">//--  num=num/10;</span></span><br><span class="line"> <span class="comment">//--  if (num==0)</span></span><br><span class="line"> <span class="comment">//--   break i;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;/*i*/</span></span><br><span class="line"> <span class="comment">//-- return;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object directly from a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;long&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; which is the exact decimal</span></span><br><span class="line"><span class="comment">  * representation of the 64-bit signed binary integer parameter.</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; will contain only decimal digits,</span></span><br><span class="line"><span class="comment">  * prefixed with a leading minus sign (hyphen) if the parameter is</span></span><br><span class="line"><span class="comment">  * negative.</span></span><br><span class="line"><span class="comment">  * A leading zero will be present only if the parameter is zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param num The &lt;code&gt;long&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(long num)&#123;super();</span></span><br><span class="line"> <span class="comment">//-- long mun;</span></span><br><span class="line"> <span class="comment">//-- int i=0;</span></span><br><span class="line"> <span class="comment">//-- // Not really worth fastpathing commoners in this constructor [also,</span></span><br><span class="line"> <span class="comment">//-- // we use this to construct the static constants].</span></span><br><span class="line"> <span class="comment">//-- // This is much faster than: this(String.valueOf(num).toCharArray())</span></span><br><span class="line"> <span class="comment">//-- /* We work on negative num so we handle the most negative number */</span></span><br><span class="line"> <span class="comment">//-- if (num&gt;0)</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   ind=ispos;</span></span><br><span class="line"> <span class="comment">//--   num=(long)-num;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- else</span></span><br><span class="line"> <span class="comment">//--  if (num==0)</span></span><br><span class="line"> <span class="comment">//--   ind=iszero;</span></span><br><span class="line"> <span class="comment">//--  else</span></span><br><span class="line"> <span class="comment">//--   ind=isneg;/* negative */</span></span><br><span class="line"> <span class="comment">//-- mun=num;</span></span><br><span class="line"> <span class="comment">//-- &#123;i=18;i:for(;;i--)&#123;</span></span><br><span class="line"> <span class="comment">//--  mun=mun/10;</span></span><br><span class="line"> <span class="comment">//--  if (mun==0)</span></span><br><span class="line"> <span class="comment">//--   break i;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;/*i*/</span></span><br><span class="line"> <span class="comment">//-- // i is the position of the leftmost digit placed</span></span><br><span class="line"> <span class="comment">//-- mant=new byte[19-i];</span></span><br><span class="line"> <span class="comment">//-- &#123;i=(19-i)-1;i:for(;;i--)&#123;</span></span><br><span class="line"> <span class="comment">//--  mant[i]=(byte)-(((byte)(num%10)));</span></span><br><span class="line"> <span class="comment">//--  num=num/10;</span></span><br><span class="line"> <span class="comment">//--  if (num==0)</span></span><br><span class="line"> <span class="comment">//--   break i;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;/*i*/</span></span><br><span class="line"> <span class="comment">//-- return;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; object from a &lt;code&gt;String&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Constructs a &lt;code&gt;BigDecimal&lt;/code&gt; from the parameter, which must</span></span><br><span class="line"><span class="comment">  * not be &lt;code&gt;null&lt;/code&gt; and must represent a valid &lt;i&gt;number&lt;/i&gt;,</span></span><br><span class="line"><span class="comment">  * as described formally in the documentation referred to</span></span><br><span class="line"><span class="comment">  * &#123;@link BigDecimal above&#125;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * In summary, numbers in &lt;code&gt;String&lt;/code&gt; form must have at least</span></span><br><span class="line"><span class="comment">  * one digit, may have a leading sign, may have a decimal point, and</span></span><br><span class="line"><span class="comment">  * exponential notation may be used.  They follow conventional syntax,</span></span><br><span class="line"><span class="comment">  * and may not contain blanks.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Some valid strings from which a &lt;code&gt;BigDecimal&lt;/code&gt; might</span></span><br><span class="line"><span class="comment">  * be constructed are:</span></span><br><span class="line"><span class="comment">  * &lt;pre&gt;</span></span><br><span class="line"><span class="comment">  *       "0"         -- Zero</span></span><br><span class="line"><span class="comment">  *      "12"         -- A whole number</span></span><br><span class="line"><span class="comment">  *     "-76"         -- A signed whole number</span></span><br><span class="line"><span class="comment">  *      "12.70"      -- Some decimal places</span></span><br><span class="line"><span class="comment">  *     "+0.003"      -- Plus sign is allowed</span></span><br><span class="line"><span class="comment">  *      "17."        -- The same as 17</span></span><br><span class="line"><span class="comment">  *        ".5"       -- The same as 0.5</span></span><br><span class="line"><span class="comment">  *      "4E+9"       -- Exponential notation</span></span><br><span class="line"><span class="comment">  *       "0.73e-7"   -- Exponential notation</span></span><br><span class="line"><span class="comment">  * &lt;/pre&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * (Exponential notation means that the number includes an optional</span></span><br><span class="line"><span class="comment">  * sign and a power of ten following an '&lt;/code&gt;E&lt;/code&gt;' that</span></span><br><span class="line"><span class="comment">  * indicates how the decimal point will be shifted.  Thus the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;"4E+9"&lt;/code&gt; above is just a short way of writing</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;4000000000&lt;/code&gt;, and the &lt;code&gt;"0.73e-7"&lt;/code&gt; is short</span></span><br><span class="line"><span class="comment">  * for &lt;code&gt;0.000000073&lt;/code&gt;.)</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &lt;code&gt;BigDecimal&lt;/code&gt; constructed from the String is in a</span></span><br><span class="line"><span class="comment">  * standard form, with no blanks, as though the</span></span><br><span class="line"><span class="comment">  * &#123;@link #add(BigDecimal)&#125; method had been used to add zero to the</span></span><br><span class="line"><span class="comment">  * number with unlimited precision.</span></span><br><span class="line"><span class="comment">  * If the string uses exponential notation (that is, includes an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;e&lt;/code&gt; or an &lt;code&gt;E&lt;/code&gt;), then the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; number will be expressed in scientific</span></span><br><span class="line"><span class="comment">  * notation (where the power of ten is adjusted so there is a single</span></span><br><span class="line"><span class="comment">  * non-zero digit to the left of the decimal point); in this case if</span></span><br><span class="line"><span class="comment">  * the number is zero then it will be expressed as the single digit 0,</span></span><br><span class="line"><span class="comment">  * and if non-zero it will have an exponent unless that exponent would</span></span><br><span class="line"><span class="comment">  * be 0.  The exponent must fit in nine digits both before and after it</span></span><br><span class="line"><span class="comment">  * is expressed in scientific notation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Any digits in the parameter must be decimal; that is,</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;Character.digit(c, 10)&lt;/code&gt; (where &lt;/code&gt;c&lt;/code&gt; is the</span></span><br><span class="line"><span class="comment">  * character in question) would not return -1.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param string The &lt;code&gt;String&lt;/code&gt; to be converted.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the parameter is not a valid</span></span><br><span class="line"><span class="comment">  * number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public BigDecimal(java.lang.String string)&#123;</span></span><br><span class="line"> <span class="comment">//-- this(string.toCharArray(),0,string.length());</span></span><br><span class="line"> <span class="comment">//-- return;&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Make a default BigDecimal object for local use. &lt;/sgml&gt; */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private BigDecimal()&#123;super();</span></span><br><span class="line"> <span class="comment">//-- return;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"> <span class="comment">/* Operator methods [methods which take a context parameter]        */</span></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the absolute</span></span><br><span class="line"><span class="comment">  * value of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #abs(MathContext)&#125;, where the context is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will</span></span><br><span class="line"><span class="comment">  * be &lt;code&gt;this.scale()&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the absolute</span></span><br><span class="line"><span class="comment">  *         value of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal abs()&#123;</span></span><br><span class="line"> <span class="comment">//- return this.abs(plainMC);</span></span><br><span class="line"> <span class="comment">//- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the absolute value</span></span><br><span class="line"><span class="comment">  * of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the current object is zero or positive, then the same result as</span></span><br><span class="line"><span class="comment">  * invoking the &#123;@link #plus(MathContext)&#125; method with the same</span></span><br><span class="line"><span class="comment">  * parameter is returned.</span></span><br><span class="line"><span class="comment">  * Otherwise, the same result as invoking the</span></span><br><span class="line"><span class="comment">  * &#123;@link #negate(MathContext)&#125; method with the same parameter is</span></span><br><span class="line"><span class="comment">  * returned.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the absolute</span></span><br><span class="line"><span class="comment">  *             value of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal abs(com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">abs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (abs.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = abs.arguments[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (abs.arguments.length == <span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"abs(): "</span> + abs.arguments.length + <span class="string">" arguments given; expected 0 or 1"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.isneg)</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.negate(set);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.plus(set);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this+rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #add(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * the maximum of the scales of the two operands.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the addition.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this+rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal add(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.add(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;this+rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the addition (&lt;b&gt;&lt;code&gt;+&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the addition.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this+rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal add(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (add.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = add.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (add.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"add(): "</span> + add.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = add.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal lhs;</span></span><br><span class="line">  <span class="keyword">var</span> lhs;</span><br><span class="line">  <span class="comment">//--int reqdig;</span></span><br><span class="line">  <span class="keyword">var</span> reqdig;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">//--byte usel[];</span></span><br><span class="line">  <span class="keyword">var</span> usel;</span><br><span class="line">  <span class="comment">//--int usellen;</span></span><br><span class="line">  <span class="keyword">var</span> usellen;</span><br><span class="line">  <span class="comment">//--byte user[];</span></span><br><span class="line">  <span class="keyword">var</span> user;</span><br><span class="line">  <span class="comment">//--int userlen;</span></span><br><span class="line">  <span class="keyword">var</span> userlen;</span><br><span class="line">  <span class="comment">//--int newlen=0;</span></span><br><span class="line">  <span class="keyword">var</span> newlen=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int tlen=0;</span></span><br><span class="line">  <span class="keyword">var</span> tlen=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int mult=0;</span></span><br><span class="line">  <span class="keyword">var</span> mult=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte t[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> t=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int ia=0;</span></span><br><span class="line">  <span class="keyword">var</span> ia=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int ib=0;</span></span><br><span class="line">  <span class="keyword">var</span> ib=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int ea=0;</span></span><br><span class="line">  <span class="keyword">var</span> ea=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//int eb=0;</span></span><br><span class="line">  <span class="keyword">var</span> eb=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//byte ca=0;</span></span><br><span class="line">  <span class="keyword">var</span> ca=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte cb=0;</span></span><br><span class="line">  <span class="keyword">var</span> cb=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* determine requested digits and form */</span></span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  lhs=<span class="keyword">this</span>; <span class="comment">// name for clarity and proxy</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Quick exit for add floating 0 */</span></span><br><span class="line">  <span class="comment">// plus() will optimize to return same object if possible</span></span><br><span class="line">  <span class="keyword">if</span> (lhs.ind==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">    <span class="keyword">return</span> rhs.plus(set);</span><br><span class="line">  <span class="keyword">if</span> (rhs.ind==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">    <span class="keyword">return</span> lhs.plus(set);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Prepare numbers (round, unless unlimited precision) */</span></span><br><span class="line">  reqdig=set.digits; <span class="comment">// local copy (heavily used)</span></span><br><span class="line">  <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (lhs.mant.length&gt;reqdig)</span><br><span class="line">     lhs=<span class="keyword">this</span>.clone(lhs).round(set);</span><br><span class="line">    <span class="keyword">if</span> (rhs.mant.length&gt;reqdig)</span><br><span class="line">     rhs=<span class="keyword">this</span>.clone(rhs).round(set);</span><br><span class="line">   <span class="comment">// [we could reuse the new LHS for result in this case]</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  res=<span class="keyword">new</span> BigDecimal(); <span class="comment">// build result here</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Now see how much we have to pad or truncate lhs or rhs in order</span></span><br><span class="line"><span class="comment">     to align the numbers.  If one number is much larger than the</span></span><br><span class="line"><span class="comment">     other, then the smaller cannot affect the answer [but we may</span></span><br><span class="line"><span class="comment">     still need to pad with up to DIGITS trailing zeros]. */</span></span><br><span class="line">  <span class="comment">// Note sign may be 0 if digits (reqdig) is 0</span></span><br><span class="line">  <span class="comment">// usel and user will be the byte arrays passed to the adder; we'll</span></span><br><span class="line">  <span class="comment">// use them on all paths except quick exits</span></span><br><span class="line">  usel=lhs.mant;</span><br><span class="line">  usellen=lhs.mant.length;</span><br><span class="line">  user=rhs.mant;</span><br><span class="line">  userlen=rhs.mant.length;</span><br><span class="line">  &#123;<span class="attr">padder</span>:<span class="keyword">do</span>&#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (lhs.exp==rhs.exp)</span><br><span class="line">   &#123;<span class="comment">/* no padding needed */</span></span><br><span class="line">    <span class="comment">// This is the most common, and fastest, path</span></span><br><span class="line">    res.exp=lhs.exp;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (lhs.exp&gt;rhs.exp)</span><br><span class="line">   &#123; <span class="comment">// need to pad lhs and/or truncate rhs</span></span><br><span class="line">    newlen=(usellen+lhs.exp)-rhs.exp;</span><br><span class="line">    <span class="comment">/* If, after pad, lhs would be longer than rhs by digits+1 or</span></span><br><span class="line"><span class="comment">       more (and digits&gt;0) then rhs cannot affect answer, so we only</span></span><br><span class="line"><span class="comment">       need to pad up to a length of DIGITS+1. */</span></span><br><span class="line">    <span class="keyword">if</span> (newlen&gt;=((userlen+reqdig)+<span class="number">1</span>))</span><br><span class="line">     <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">       <span class="comment">// LHS is sufficient</span></span><br><span class="line">       res.mant=usel;</span><br><span class="line">       res.exp=lhs.exp;</span><br><span class="line">       res.ind=lhs.ind;</span><br><span class="line">       <span class="keyword">if</span> (usellen&lt;reqdig)</span><br><span class="line">        &#123; <span class="comment">// need 0 padding</span></span><br><span class="line">         res.mant=<span class="keyword">this</span>.extend(lhs.mant,reqdig);</span><br><span class="line">         res.exp=res.exp-((reqdig-usellen));</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="comment">// RHS may affect result</span></span><br><span class="line">    res.exp=rhs.exp; <span class="comment">// expected final exponent</span></span><br><span class="line">    <span class="keyword">if</span> (newlen&gt;(reqdig+<span class="number">1</span>))</span><br><span class="line">     <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">       <span class="comment">// LHS will be max; RHS truncated</span></span><br><span class="line">       tlen=(newlen-reqdig)<span class="number">-1</span>; <span class="comment">// truncation length</span></span><br><span class="line">       userlen=userlen-tlen;</span><br><span class="line">       res.exp=res.exp+tlen;</span><br><span class="line">       newlen=reqdig+<span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">if</span> (newlen&gt;usellen)</span><br><span class="line">     usellen=newlen; <span class="comment">// need to pad LHS</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123; <span class="comment">// need to pad rhs and/or truncate lhs</span></span><br><span class="line">   newlen=(userlen+rhs.exp)-lhs.exp;</span><br><span class="line">   <span class="keyword">if</span> (newlen&gt;=((usellen+reqdig)+<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      <span class="comment">// RHS is sufficient</span></span><br><span class="line">      res.mant=user;</span><br><span class="line">      res.exp=rhs.exp;</span><br><span class="line">      res.ind=rhs.ind;</span><br><span class="line">      <span class="keyword">if</span> (userlen&lt;reqdig)</span><br><span class="line">       &#123; <span class="comment">// need 0 padding</span></span><br><span class="line">        res.mant=<span class="keyword">this</span>.extend(rhs.mant,reqdig);</span><br><span class="line">        res.exp=res.exp-((reqdig-userlen));</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="comment">// LHS may affect result</span></span><br><span class="line">   res.exp=lhs.exp; <span class="comment">// expected final exponent</span></span><br><span class="line">   <span class="keyword">if</span> (newlen&gt;(reqdig+<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      <span class="comment">// RHS will be max; LHS truncated</span></span><br><span class="line">      tlen=(newlen-reqdig)<span class="number">-1</span>; <span class="comment">// truncation length</span></span><br><span class="line">      usellen=usellen-tlen;</span><br><span class="line">      res.exp=res.exp+tlen;</span><br><span class="line">      newlen=reqdig+<span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="keyword">if</span> (newlen&gt;userlen)</span><br><span class="line">    userlen=newlen; <span class="comment">// need to pad RHS</span></span><br><span class="line">  &#125;</span><br><span class="line">  &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*padder*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* OK, we have aligned mantissas.  Now add or subtract. */</span></span><br><span class="line">  <span class="comment">// 1998.06.27 Sign may now be 0 [e.g., 0.000] .. treat as positive</span></span><br><span class="line">  <span class="comment">// 1999.05.27 Allow for 00 on lhs [is not larger than 2 on rhs]</span></span><br><span class="line">  <span class="comment">// 1999.07.10 Allow for 00 on rhs [is not larger than 2 on rhs]</span></span><br><span class="line">  <span class="keyword">if</span> (lhs.ind==<span class="keyword">this</span>.iszero)</span><br><span class="line">   res.ind=<span class="keyword">this</span>.ispos;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   res.ind=lhs.ind; <span class="comment">// likely sign, all paths</span></span><br><span class="line">  <span class="keyword">if</span> (((lhs.ind==<span class="keyword">this</span>.isneg)?<span class="number">1</span>:<span class="number">0</span>)==((rhs.ind==<span class="keyword">this</span>.isneg)?<span class="number">1</span>:<span class="number">0</span>))  <span class="comment">// same sign, 0 non-negative</span></span><br><span class="line">   mult=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="attr">signdiff</span>:<span class="keyword">do</span>&#123; <span class="comment">// different signs, so subtraction is needed</span></span><br><span class="line">    mult=<span class="number">-1</span>; <span class="comment">// will cause subtract</span></span><br><span class="line">    <span class="comment">/* Before we can subtract we must determine which is the larger,</span></span><br><span class="line"><span class="comment">       as our add/subtract routine only handles non-negative results</span></span><br><span class="line"><span class="comment">       so we may need to swap the operands. */</span></span><br><span class="line">    &#123;<span class="attr">swaptest</span>:<span class="keyword">do</span>&#123;<span class="comment">/*select*/</span></span><br><span class="line">    <span class="keyword">if</span> (rhs.ind==<span class="keyword">this</span>.iszero)</span><br><span class="line">     &#123;&#125; <span class="comment">// original A bigger</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((usellen&lt;userlen)||(lhs.ind==<span class="keyword">this</span>.iszero))</span><br><span class="line">     &#123; <span class="comment">// original B bigger</span></span><br><span class="line">      t=usel;</span><br><span class="line">      usel=user;</span><br><span class="line">      user=t; <span class="comment">// swap</span></span><br><span class="line">      tlen=usellen;</span><br><span class="line">      usellen=userlen;</span><br><span class="line">      userlen=tlen; <span class="comment">// ..</span></span><br><span class="line">      res.ind=-res.ind; <span class="comment">// and set sign</span></span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (usellen&gt;userlen)</span><br><span class="line">     &#123;&#125; <span class="comment">// original A bigger</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">     &#123;<span class="comment">/* logical lengths the same */</span> <span class="comment">// need compare</span></span><br><span class="line">      <span class="comment">/* may still need to swap: compare the strings */</span></span><br><span class="line">      ia=<span class="number">0</span>;</span><br><span class="line">      ib=<span class="number">0</span>;</span><br><span class="line">      ea=usel.length<span class="number">-1</span>;</span><br><span class="line">      eb=user.length<span class="number">-1</span>;</span><br><span class="line">      &#123;<span class="attr">compare</span>:<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">       <span class="keyword">if</span> (ia&lt;=ea)</span><br><span class="line">        ca=usel[ia];</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">         <span class="keyword">if</span> (ib&gt;eb)</span><br><span class="line">          &#123;<span class="comment">/* identical */</span></span><br><span class="line">           <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.ZERO;</span><br><span class="line">           <span class="comment">// [if PLAIN we must do the subtract, in case of 0.000 results]</span></span><br><span class="line">           <span class="keyword">break</span> compare;</span><br><span class="line">          &#125;</span><br><span class="line">         ca=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">if</span> (ib&lt;=eb)</span><br><span class="line">        cb=user[ib];</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        cb=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">if</span> (ca!=cb)</span><br><span class="line">        &#123;</span><br><span class="line">         <span class="keyword">if</span> (ca&lt;cb)</span><br><span class="line">          &#123;<span class="comment">/* swap needed */</span></span><br><span class="line">           t=usel;</span><br><span class="line">           usel=user;</span><br><span class="line">           user=t; <span class="comment">// swap</span></span><br><span class="line">           tlen=usellen;</span><br><span class="line">           usellen=userlen;</span><br><span class="line">           userlen=tlen; <span class="comment">// ..</span></span><br><span class="line">           res.ind=-res.ind;</span><br><span class="line">          &#125;</span><br><span class="line">         <span class="keyword">break</span> compare;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">/* mantissas the same, so far */</span></span><br><span class="line">       ia++;</span><br><span class="line">       ib++;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;<span class="comment">/*compare*/</span></span><br><span class="line">     &#125; <span class="comment">// lengths the same</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*swaptest*/</span></span><br><span class="line">   &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*signdiff*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* here, A is &gt; B if subtracting */</span></span><br><span class="line">  <span class="comment">// add [A+B*1] or subtract [A+(B*-1)]</span></span><br><span class="line">  res.mant=<span class="keyword">this</span>.byteaddsub(usel,usellen,user,userlen,mult,<span class="literal">false</span>);</span><br><span class="line">  <span class="comment">// [reuse possible only after chop; accounting makes not worthwhile]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Finish() rounds before stripping leading 0's, then sets form, etc.</span></span><br><span class="line">  <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Compares this &lt;code&gt;BigDecimal&lt;/code&gt; to another, using unlimited</span></span><br><span class="line"><span class="comment">  * precision.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #compareTo(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @return     An &lt;code&gt;int&lt;/code&gt; whose value is -1, 0, or 1 as</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this&lt;/code&gt; is numerically less than, equal to,</span></span><br><span class="line"><span class="comment">  *             or greater than &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(Object)</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int compareTo(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.compareTo(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Compares this &lt;code&gt;BigDecimal&lt;/code&gt; to another.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements numeric comparison,</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns a result of type &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The result will be:</span></span><br><span class="line"><span class="comment">  * &lt;table cellpadding=2&gt;&lt;tr&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td align=right&gt;&lt;b&gt;-1&lt;/b&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td&gt;if the current object is less than the first parameter&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;/tr&gt;&lt;tr&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td align=right&gt;&lt;b&gt;0&lt;/b&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td&gt;if the current object is equal to the first parameter&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;/tr&gt;&lt;tr&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td align=right&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;td&gt;if the current object is greater than the first parameter.&lt;/td&gt;</span></span><br><span class="line"><span class="comment">  * &lt;/tr&gt;&lt;/table&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * A &#123;@link #compareTo(Object)&#125; method is also provided.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     An &lt;code&gt;int&lt;/code&gt; whose value is -1, 0, or 1 as</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this&lt;/code&gt; is numerically less than, equal to,</span></span><br><span class="line"><span class="comment">  *             or greater than &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(Object)</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//public int compareTo(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">compareTo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (compareTo.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = compareTo.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (compareTo.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"compareTo(): "</span> + compareTo.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = compareTo.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--int thislength=0;</span></span><br><span class="line">  <span class="keyword">var</span> thislength=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal newrhs;</span></span><br><span class="line">  <span class="keyword">var</span> newrhs;</span><br><span class="line">  <span class="comment">// rhs=null will raise NullPointerException, as per Comparable interface</span></span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  <span class="comment">// [add will recheck in slowpath cases .. but would report -rhs]</span></span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">this</span>.ind==rhs.ind)&amp;&amp;(<span class="keyword">this</span>.exp==rhs.exp))</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">/* sign &amp; exponent the same [very common] */</span></span><br><span class="line">    thislength=<span class="keyword">this</span>.mant.length;</span><br><span class="line">    <span class="keyword">if</span> (thislength&lt;rhs.mant.length)</span><br><span class="line">     <span class="keyword">return</span> -<span class="keyword">this</span>.ind;</span><br><span class="line">    <span class="keyword">if</span> (thislength&gt;rhs.mant.length)</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.ind;</span><br><span class="line">    <span class="comment">/* lengths are the same; we can do a straight mantissa compare</span></span><br><span class="line"><span class="comment">       unless maybe rounding [rounding is very unusual] */</span></span><br><span class="line">    <span class="keyword">if</span> ((thislength&lt;=set.digits)||(set.digits==<span class="number">0</span>))</span><br><span class="line">     &#123;</span><br><span class="line">      &#123;<span class="keyword">var</span> $<span class="number">6</span>=thislength;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">6</span>&gt;<span class="number">0</span>;$<span class="number">6</span>--,i++)&#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.mant[i]&lt;rhs.mant[i])</span><br><span class="line">        <span class="keyword">return</span> -<span class="keyword">this</span>.ind;</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.mant[i]&gt;rhs.mant[i])</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ind;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;<span class="comment">/*i*/</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// identical</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="comment">/* drop through for full comparison */</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">/* More fastpaths possible */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ind&lt;rhs.ind)</span><br><span class="line">     <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ind&gt;rhs.ind)</span><br><span class="line">     <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">/* carry out a subtract to make the comparison */</span></span><br><span class="line">  newrhs=<span class="keyword">this</span>.clone(rhs); <span class="comment">// safe copy</span></span><br><span class="line">  newrhs.ind=-newrhs.ind; <span class="comment">// prepare to subtract</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.add(newrhs,set).ind; <span class="comment">// add, and return sign of result</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #divide(BigDecimal, int)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the rounding mode is &#123;@link MathContext#ROUND_HALF_UP&#125;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * the same as the scale of the current object, if the latter were</span></span><br><span class="line"><span class="comment">  * formatted without exponential notation.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the division.</span></span><br><span class="line"><span class="comment">  * @return     A plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divide(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.dodivide('D',rhs,plainMC,-1);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic and a</span></span><br><span class="line"><span class="comment">  * rounding mode.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #divide(BigDecimal, int, int)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the second parameter is &lt;code&gt;this.scale()&lt;/code&gt;, and</span></span><br><span class="line"><span class="comment">  * the third is &lt;code&gt;round&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will</span></span><br><span class="line"><span class="comment">  * therefore be the same as the scale of the current object, if the</span></span><br><span class="line"><span class="comment">  * latter were formatted without exponential notation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * @param  rhs   The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *               the division.</span></span><br><span class="line"><span class="comment">  * @param  round The &lt;code&gt;int&lt;/code&gt; rounding mode to be used for</span></span><br><span class="line"><span class="comment">  *               the division (see the &#123;@link MathContext&#125; class).</span></span><br><span class="line"><span class="comment">  * @return       A plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *               &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic</span></span><br><span class="line"><span class="comment">  *               and the specified rounding mode.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException if &lt;code&gt;round&lt;/code&gt; is not a</span></span><br><span class="line"><span class="comment">  *               valid rounding mode.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;round&lt;/code&gt; is &#123;@link</span></span><br><span class="line"><span class="comment">  *               MathContext#ROUND_UNNECESSARY&#125; and</span></span><br><span class="line"><span class="comment">  *               &lt;code&gt;this.scale()&lt;/code&gt; is insufficient to</span></span><br><span class="line"><span class="comment">  *               represent the result exactly.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divide(com.ibm.icu.math.BigDecimal rhs,int round)&#123;</span></span><br><span class="line"> <span class="comment">//-- com.ibm.icu.math.MathContext set;</span></span><br><span class="line"> <span class="comment">//-- set=new com.ibm.icu.math.MathContext(0,com.ibm.icu.math.MathContext.PLAIN,false,round); // [checks round, too]</span></span><br><span class="line"> <span class="comment">//-- return this.dodivide('D',rhs,set,-1); // take scale from LHS</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic and a</span></span><br><span class="line"><span class="comment">  * given scale and rounding mode.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #divide(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;new MathContext(0, MathContext.PLAIN, false, round)&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * except that the length of the decimal part (the scale) to be used</span></span><br><span class="line"><span class="comment">  * for the result is explicit rather than being taken from</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * the same as the scale of the current object, if the latter were</span></span><br><span class="line"><span class="comment">  * formatted without exponential notation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * @param  rhs   The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *               the division.</span></span><br><span class="line"><span class="comment">  * @param  scale The &lt;code&gt;int&lt;/code&gt; scale to be used for the result.</span></span><br><span class="line"><span class="comment">  * @param  round The &lt;code&gt;int&lt;/code&gt; rounding mode to be used for</span></span><br><span class="line"><span class="comment">  *               the division (see the &#123;@link MathContext&#125; class).</span></span><br><span class="line"><span class="comment">  * @return       A plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *               &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic</span></span><br><span class="line"><span class="comment">  *               and the specified rounding mode.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException if &lt;code&gt;round&lt;/code&gt; is not a</span></span><br><span class="line"><span class="comment">  *               valid rounding mode.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;scale&lt;/code&gt; is negative.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;round&lt;/code&gt; is &#123;@link</span></span><br><span class="line"><span class="comment">  *               MathContext#ROUND_UNNECESSARY&#125; and &lt;code&gt;scale&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  *               is insufficient to represent the result exactly.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divide(com.ibm.icu.math.BigDecimal rhs,int scale,int round)&#123;</span></span><br><span class="line"> <span class="comment">//-- com.ibm.icu.math.MathContext set;</span></span><br><span class="line"> <span class="comment">//-- if (scale&lt;0)</span></span><br><span class="line"> <span class="comment">//--  throw new java.lang.ArithmeticException("Negative scale:"+" "+scale);</span></span><br><span class="line"> <span class="comment">//-- set=new com.ibm.icu.math.MathContext(0,com.ibm.icu.math.MathContext.PLAIN,false,round); // [checks round]</span></span><br><span class="line"> <span class="comment">//-- return this.dodivide('D',rhs,set,scale);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the division (&lt;b&gt;&lt;code&gt;/&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the division.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divide(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">divide</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">var</span> scale = <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">if</span> (divide.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> divide.arguments[<span class="number">1</span>] == <span class="string">'number'</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      set=<span class="keyword">new</span> MathContext(<span class="number">0</span>,MathContext.prototype.PLAIN,<span class="literal">false</span>,divide.arguments[<span class="number">1</span>]); <span class="comment">// [checks round, too]</span></span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">      set = divide.arguments[<span class="number">1</span>];</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (divide.arguments.length == <span class="number">3</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    scale = divide.arguments[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (scale&lt;<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"divide(): Negative scale: "</span>+scale;</span><br><span class="line">    set=<span class="keyword">new</span> MathContext(<span class="number">0</span>,MathContext.prototype.PLAIN,<span class="literal">false</span>,divide.arguments[<span class="number">2</span>]); <span class="comment">// [checks round]</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (divide.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"divide(): "</span> + divide.arguments.length + <span class="string">" arguments given; expected between 1 and 3"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = divide.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.dodivide(<span class="string">'D'</span>,rhs,set,scale);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the integer</span></span><br><span class="line"><span class="comment">  * part of &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #divideInteger(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the integer division.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the integer</span></span><br><span class="line"><span class="comment">  *             part of &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divideInteger(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- // scale 0 to drop .000 when plain</span></span><br><span class="line"> <span class="comment">//-- return this.dodivide('I',rhs,plainMC,0);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the integer</span></span><br><span class="line"><span class="comment">  * part of &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the integer division operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the integer division.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the integer</span></span><br><span class="line"><span class="comment">  *             part of &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if the result will not fit in the</span></span><br><span class="line"><span class="comment">  *             number of digits specified for the context.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal divideInteger(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">divideInteger</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (divideInteger.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = divideInteger.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (divideInteger.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"divideInteger(): "</span> + divideInteger.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = divideInteger.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">// scale 0 to drop .000 when plain</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.dodivide(<span class="string">'I'</span>,rhs,set,<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * the maximum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #max(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             the maximum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal max(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.max(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * the maximum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Returns the larger of the current object and the first parameter.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If calling the &#123;@link #compareTo(BigDecimal, MathContext)&#125; method</span></span><br><span class="line"><span class="comment">  * with the same parameters would return &lt;code&gt;1&lt;/code&gt; or</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;0&lt;/code&gt;, then the result of calling the</span></span><br><span class="line"><span class="comment">  * &#123;@link #plus(MathContext)&#125; method on the current object (using the</span></span><br><span class="line"><span class="comment">  * same &lt;code&gt;MathContext&lt;/code&gt; parameter) is returned.</span></span><br><span class="line"><span class="comment">  * Otherwise, the result of calling the &#123;@link #plus(MathContext)&#125;</span></span><br><span class="line"><span class="comment">  * method on the first parameter object (using the same</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext&lt;/code&gt; parameter) is returned.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             the maximum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal max(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (max.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = max.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (max.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"max(): "</span> + max.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = max.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">this</span>.compareTo(rhs,set))&gt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.plus(set);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   <span class="keyword">return</span> rhs.plus(set);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * the minimum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #min(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             the minimum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal min(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.min(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * the minimum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Returns the smaller of the current object and the first parameter.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If calling the &#123;@link #compareTo(BigDecimal, MathContext)&#125; method</span></span><br><span class="line"><span class="comment">  * with the same parameters would return &lt;code&gt;-1&lt;/code&gt; or</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;0&lt;/code&gt;, then the result of calling the</span></span><br><span class="line"><span class="comment">  * &#123;@link #plus(MathContext)&#125; method on the current object (using the</span></span><br><span class="line"><span class="comment">  * same &lt;code&gt;MathContext&lt;/code&gt; parameter) is returned.</span></span><br><span class="line"><span class="comment">  * Otherwise, the result of calling the &#123;@link #plus(MathContext)&#125;</span></span><br><span class="line"><span class="comment">  * method on the first parameter object (using the same</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext&lt;/code&gt; parameter) is returned.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             the minimum of &lt;code&gt;this&lt;/code&gt; and &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal min(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (min.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = min.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (min.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"min(): "</span> + min.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = min.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> ((<span class="keyword">this</span>.compareTo(rhs,set))&lt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.plus(set);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   <span class="keyword">return</span> rhs.plus(set);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this*rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #add(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * the sum of the scales of the operands, if they were formatted</span></span><br><span class="line"><span class="comment">  * without exponential notation.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the multiplication.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this*rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal multiply(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.multiply(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;this*rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the multiplication (&lt;b&gt;&lt;code&gt;*&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the multiplication.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this*rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal multiply(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (multiply.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = multiply.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (multiply.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"multiply(): "</span> + multiply.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = multiply.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal lhs;</span></span><br><span class="line">  <span class="keyword">var</span> lhs;</span><br><span class="line">  <span class="comment">//--int padding;</span></span><br><span class="line">  <span class="keyword">var</span> padding;</span><br><span class="line">  <span class="comment">//--int reqdig;</span></span><br><span class="line">  <span class="keyword">var</span> reqdig;</span><br><span class="line">  <span class="comment">//--byte multer[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> multer=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--byte multand[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> multand=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int multandlen;</span></span><br><span class="line">  <span class="keyword">var</span> multandlen;</span><br><span class="line">  <span class="comment">//--int acclen=0;</span></span><br><span class="line">  <span class="keyword">var</span> acclen=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">//--byte acc[];</span></span><br><span class="line">  <span class="keyword">var</span> acc;</span><br><span class="line">  <span class="comment">//--int n=0;</span></span><br><span class="line">  <span class="keyword">var</span> n=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte mult=0;</span></span><br><span class="line">  <span class="keyword">var</span> mult=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  lhs=<span class="keyword">this</span>; <span class="comment">// name for clarity and proxy</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Prepare numbers (truncate, unless unlimited precision) */</span></span><br><span class="line">  padding=<span class="number">0</span>; <span class="comment">// trailing 0's to add</span></span><br><span class="line">  reqdig=set.digits; <span class="comment">// local copy</span></span><br><span class="line">  <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (lhs.mant.length&gt;reqdig)</span><br><span class="line">     lhs=<span class="keyword">this</span>.clone(lhs).round(set);</span><br><span class="line">    <span class="keyword">if</span> (rhs.mant.length&gt;reqdig)</span><br><span class="line">     rhs=<span class="keyword">this</span>.clone(rhs).round(set);</span><br><span class="line">   <span class="comment">// [we could reuse the new LHS for result in this case]</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* unlimited */</span></span><br><span class="line">    <span class="comment">// fixed point arithmetic will want every trailing 0; we add these</span></span><br><span class="line">    <span class="comment">// after the calculation rather than before, for speed.</span></span><br><span class="line">    <span class="keyword">if</span> (lhs.exp&gt;<span class="number">0</span>)</span><br><span class="line">     padding=padding+lhs.exp;</span><br><span class="line">    <span class="keyword">if</span> (rhs.exp&gt;<span class="number">0</span>)</span><br><span class="line">     padding=padding+rhs.exp;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// For best speed, as in DMSRCN, we use the shorter number as the</span></span><br><span class="line">  <span class="comment">// multiplier and the longer as the multiplicand.</span></span><br><span class="line">  <span class="comment">// 1999.12.22: We used to special case when the result would fit in</span></span><br><span class="line">  <span class="comment">//             a long, but with Java 1.3 this gave no advantage.</span></span><br><span class="line">  <span class="keyword">if</span> (lhs.mant.length&lt;rhs.mant.length)</span><br><span class="line">   &#123;</span><br><span class="line">    multer=lhs.mant;</span><br><span class="line">    multand=rhs.mant;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    multer=rhs.mant;</span><br><span class="line">    multand=lhs.mant;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Calculate how long result byte array will be */</span></span><br><span class="line">  multandlen=(multer.length+multand.length)<span class="number">-1</span>; <span class="comment">// effective length</span></span><br><span class="line">  <span class="comment">// optimize for 75% of the cases where a carry is expected...</span></span><br><span class="line">  <span class="keyword">if</span> ((multer[<span class="number">0</span>]*multand[<span class="number">0</span>])&gt;<span class="number">9</span>)</span><br><span class="line">   acclen=multandlen+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   acclen=multandlen;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Now the main long multiplication loop */</span></span><br><span class="line">  res=<span class="keyword">new</span> BigDecimal(); <span class="comment">// where we'll build result</span></span><br><span class="line">  acc=<span class="keyword">this</span>.createArrayWithZeros(acclen); <span class="comment">// accumulator, all zeros</span></span><br><span class="line">  <span class="comment">// 1998.07.01: calculate from left to right so that accumulator goes</span></span><br><span class="line">  <span class="comment">// to likely final length on first addition; this avoids a one-digit</span></span><br><span class="line">  <span class="comment">// extension (and object allocation) each time around the loop.</span></span><br><span class="line">  <span class="comment">// Initial number therefore has virtual zeros added to right.</span></span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">7</span>=multer.length;n=<span class="number">0</span>;n:<span class="keyword">for</span>(;$<span class="number">7</span>&gt;<span class="number">0</span>;$<span class="number">7</span>--,n++)&#123;</span><br><span class="line">   mult=multer[n];</span><br><span class="line">   <span class="keyword">if</span> (mult!=<span class="number">0</span>)</span><br><span class="line">    &#123; <span class="comment">// [optimization]</span></span><br><span class="line">     <span class="comment">// accumulate [accumulator is reusable array]</span></span><br><span class="line">     acc=<span class="keyword">this</span>.byteaddsub(acc,acc.length,multand,multandlen,mult,<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">// divide multiplicand by 10 for next digit to right</span></span><br><span class="line">   multandlen--; <span class="comment">// 'virtual length'</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*n*/</span></span><br><span class="line"></span><br><span class="line">  res.ind=lhs.ind*rhs.ind; <span class="comment">// final sign</span></span><br><span class="line">  res.exp=(lhs.exp+rhs.exp)-padding; <span class="comment">// final exponent</span></span><br><span class="line">  <span class="comment">// [overflow is checked by finish]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* add trailing zeros to the result, if necessary */</span></span><br><span class="line">  <span class="keyword">if</span> (padding==<span class="number">0</span>)</span><br><span class="line">   res.mant=acc;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   res.mant=<span class="keyword">this</span>.extend(acc,acc.length+padding); <span class="comment">// add trailing 0s</span></span><br><span class="line">  <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;-this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #negate(MathContext)&#125;, where the context is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * be &lt;code&gt;this.scale()&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;-this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal negate()&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.negate(plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;-this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the negation (Prefix &lt;b&gt;&lt;code&gt;-&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;-this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//public com.ibm.icu.math.BigDecimal negate(com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">negate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (negate.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = negate.arguments[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (negate.arguments.length == <span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"negate(): "</span> + negate.arguments.length + <span class="string">" arguments given; expected 0 or 1"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">// Originally called minus(), changed to matched Java precedents</span></span><br><span class="line">  <span class="comment">// This simply clones, flips the sign, and possibly rounds</span></span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(<span class="literal">null</span>,set.digits);</span><br><span class="line">  res=<span class="keyword">this</span>.clone(<span class="keyword">this</span>); <span class="comment">// safe copy</span></span><br><span class="line">  res.ind=-res.ind;</span><br><span class="line">  <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;+this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * Note that &lt;code&gt;this&lt;/code&gt; is not necessarily a</span></span><br><span class="line"><span class="comment">  * plain &lt;code&gt;BigDecimal&lt;/code&gt;, but the result will always be.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #plus(MathContext)&#125;, where the context is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * be &lt;code&gt;this.scale()&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;+this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal plus()&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.plus(plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;+this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the plus (Prefix &lt;b&gt;&lt;code&gt;+&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * This method is useful for rounding or otherwise applying a context</span></span><br><span class="line"><span class="comment">  * to a decimal value.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;+this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//public com.ibm.icu.math.BigDecimal plus(com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">plus</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (plus.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = plus.arguments[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (plus.arguments.length == <span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"plus(): "</span> + plus.arguments.length + <span class="string">" arguments given; expected 0 or 1"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">// This clones and forces the result to the new settings</span></span><br><span class="line">  <span class="comment">// May return same object</span></span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(<span class="literal">null</span>,set.digits);</span><br><span class="line">  <span class="comment">// Optimization: returns same object for some common cases</span></span><br><span class="line">  <span class="keyword">if</span> (set.form==MathContext.prototype.PLAIN)</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.form==MathContext.prototype.PLAIN)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">this</span>.mant.length&lt;=set.digits)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">     <span class="keyword">if</span> (set.digits==<span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.clone(<span class="keyword">this</span>).finish(set,<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this**rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #pow(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The parameter is the power to which the &lt;code&gt;this&lt;/code&gt; will be</span></span><br><span class="line"><span class="comment">  * raised; it must be in the range 0 through 999999999, and must</span></span><br><span class="line"><span class="comment">  * have a decimal part of zero.  Note that these restrictions may be</span></span><br><span class="line"><span class="comment">  * removed in the future, so they should not be used as a test for a</span></span><br><span class="line"><span class="comment">  * whole number.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * In addition, the power must not be negative, as no</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext&lt;/code&gt; is used and so the result would then</span></span><br><span class="line"><span class="comment">  * always be 0.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the operation (the power).</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this**rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is out of range or</span></span><br><span class="line"><span class="comment">  *             is not a whole number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal pow(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.pow(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"> <span class="comment">// The name for this method is inherited from the precedent set by the</span></span><br><span class="line"> <span class="comment">// BigInteger and Math classes.</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;this**rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the power (&lt;b&gt;&lt;code&gt;**&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The first parameter is the power to which the &lt;code&gt;this&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * will be raised; it must be in the range -999999999 through</span></span><br><span class="line"><span class="comment">  * 999999999, and must have a decimal part of zero.  Note that these</span></span><br><span class="line"><span class="comment">  * restrictions may be removed in the future, so they should not be</span></span><br><span class="line"><span class="comment">  * used as a test for a whole number.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;digits&lt;/code&gt; setting of the &lt;code&gt;MathContext&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * parameter is 0, the power must be zero or positive.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the operation (the power).</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this**rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is out of range or</span></span><br><span class="line"><span class="comment">  *             is not a whole number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal pow(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (pow.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = pow.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (pow.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"pow(): "</span> + pow.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = pow.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--int n;</span></span><br><span class="line">  <span class="keyword">var</span> n;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal lhs;</span></span><br><span class="line">  <span class="keyword">var</span> lhs;</span><br><span class="line">  <span class="comment">//--int reqdig;</span></span><br><span class="line">  <span class="keyword">var</span> reqdig;</span><br><span class="line">  <span class="comment">//-- int workdigits=0;</span></span><br><span class="line">  <span class="keyword">var</span> workdigits=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int L=0;</span></span><br><span class="line">  <span class="keyword">var</span> L=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.MathContext workset;</span></span><br><span class="line">  <span class="keyword">var</span> workset;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">//--boolean seenbit;</span></span><br><span class="line">  <span class="keyword">var</span> seenbit;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  n=rhs.intcheck(<span class="keyword">this</span>.MinArg,<span class="keyword">this</span>.MaxArg); <span class="comment">// check RHS by the rules</span></span><br><span class="line">  lhs=<span class="keyword">this</span>; <span class="comment">// clarified name</span></span><br><span class="line"></span><br><span class="line">  reqdig=set.digits; <span class="comment">// local copy (heavily used)</span></span><br><span class="line">  <span class="keyword">if</span> (reqdig==<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (rhs.ind==<span class="keyword">this</span>.isneg)</span><br><span class="line">     <span class="comment">//--throw new java.lang.ArithmeticException("Negative power:"+" "+rhs.toString());</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"pow(): Negative power: "</span> + rhs.toString();</span><br><span class="line">    workdigits=<span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* non-0 digits */</span></span><br><span class="line">    <span class="keyword">if</span> ((rhs.mant.length+rhs.exp)&gt;reqdig)</span><br><span class="line">     <span class="comment">//--throw new java.lang.ArithmeticException("Too many digits:"+" "+rhs.toString());</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"pow(): Too many digits: "</span> + rhs.toString();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Round the lhs to DIGITS if need be */</span></span><br><span class="line">    <span class="keyword">if</span> (lhs.mant.length&gt;reqdig)</span><br><span class="line">     lhs=<span class="keyword">this</span>.clone(lhs).round(set);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* L for precision calculation [see ANSI X3.274-1996] */</span></span><br><span class="line">    L=rhs.mant.length+rhs.exp; <span class="comment">// length without decimal zeros/exp</span></span><br><span class="line">    workdigits=(reqdig+L)+<span class="number">1</span>; <span class="comment">// calculate the working DIGITS</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Create a copy of set for working settings */</span></span><br><span class="line">  <span class="comment">// Note: no need to check for lostDigits again.</span></span><br><span class="line">  <span class="comment">// 1999.07.17 Note: this construction must follow RHS check</span></span><br><span class="line">  workset=<span class="keyword">new</span> MathContext(workdigits,set.form,<span class="literal">false</span>,set.roundingMode);</span><br><span class="line"></span><br><span class="line">  res=<span class="keyword">this</span>.ONE; <span class="comment">// accumulator</span></span><br><span class="line">  <span class="keyword">if</span> (n==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> res; <span class="comment">// x**0 == 1</span></span><br><span class="line">  <span class="keyword">if</span> (n&lt;<span class="number">0</span>)</span><br><span class="line">   n=-n; <span class="comment">// [rhs.ind records the sign]</span></span><br><span class="line">  seenbit=<span class="literal">false</span>; <span class="comment">// set once we've seen a 1-bit</span></span><br><span class="line">  &#123;i=<span class="number">1</span>;i:<span class="keyword">for</span>(;;i++)&#123; <span class="comment">// for each bit [top bit ignored]</span></span><br><span class="line">   <span class="comment">//n=n+n; // shift left 1 bit</span></span><br><span class="line">   n&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">if</span> (n&lt;<span class="number">0</span>)</span><br><span class="line">    &#123; <span class="comment">// top bit is set</span></span><br><span class="line">     seenbit=<span class="literal">true</span>; <span class="comment">// OK, we're off</span></span><br><span class="line">     res=res.multiply(lhs,workset); <span class="comment">// acc=acc*x</span></span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">if</span> (i==<span class="number">31</span>)</span><br><span class="line">    <span class="keyword">break</span> i; <span class="comment">// that was the last bit</span></span><br><span class="line">   <span class="keyword">if</span> ((!seenbit))</span><br><span class="line">    <span class="keyword">continue</span> i; <span class="comment">// we don't have to square 1</span></span><br><span class="line">   res=res.multiply(res,workset); <span class="comment">// acc=acc*acc [square]</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span> <span class="comment">// 32 bits</span></span><br><span class="line">  <span class="keyword">if</span> (rhs.ind&lt;<span class="number">0</span>)  <span class="comment">// was a **-n [hence digits&gt;0]</span></span><br><span class="line">   res=<span class="keyword">this</span>.ONE.divide(res,workset); <span class="comment">// .. so acc=1/acc</span></span><br><span class="line">  <span class="keyword">return</span> res.finish(set,<span class="literal">true</span>); <span class="comment">// round and strip [original digits]</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * the remainder of &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #remainder(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * This is not the modulo operator -- the result may be negative.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the remainder operation.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the remainder</span></span><br><span class="line"><span class="comment">  *             of &lt;code&gt;this/rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal remainder(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.dodivide('R',rhs,plainMC,-1);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the remainder of</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this/rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the remainder operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * This is not the modulo operator -- the result may be negative.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the remainder operation.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is the remainder</span></span><br><span class="line"><span class="comment">  *             of &lt;code&gt;this+rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;rhs&lt;/code&gt; is zero.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if the integer part of the result will</span></span><br><span class="line"><span class="comment">  *             not fit in the number of digits specified for the</span></span><br><span class="line"><span class="comment">  *             context.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal remainder(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">remainder</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (remainder.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = remainder.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (remainder.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"remainder(): "</span> + remainder.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = remainder.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.dodivide(<span class="string">'R'</span>,rhs,set,<span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;this-rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #subtract(BigDecimal, MathContext)&#125;,</span></span><br><span class="line"><span class="comment">  * where the &lt;code&gt;BigDecimal&lt;/code&gt; is &lt;code&gt;rhs&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and the context is &lt;code&gt;new MathContext(0, MathContext.PLAIN)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The length of the decimal part (the scale) of the result will be</span></span><br><span class="line"><span class="comment">  * the maximum of the scales of the two operands.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the subtraction.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this-rhs&lt;/code&gt;, using fixed point arithmetic.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal subtract(com.ibm.icu.math.BigDecimal rhs)&#123;</span></span><br><span class="line"> <span class="comment">//-- return this.subtract(rhs,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; whose value is &lt;code&gt;this-rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Implements the subtraction (&lt;b&gt;&lt;code&gt;-&lt;/code&gt;&lt;/b&gt;) operator</span></span><br><span class="line"><span class="comment">  * (as defined in the decimal documentation, see &#123;@link BigDecimal</span></span><br><span class="line"><span class="comment">  * class header&#125;),</span></span><br><span class="line"><span class="comment">  * and returns the result as a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;BigDecimal&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the subtraction.</span></span><br><span class="line"><span class="comment">  * @param  set The &lt;code&gt;MathContext&lt;/code&gt; arithmetic settings.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this-rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal subtract(com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">subtract</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> set;</span><br><span class="line">  <span class="keyword">if</span> (subtract.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = subtract.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (subtract.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    set = <span class="keyword">this</span>.plainMC;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"subtract(): "</span> + subtract.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> rhs = subtract.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal newrhs;</span></span><br><span class="line">  <span class="keyword">var</span> newrhs;</span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  <span class="comment">// [add will recheck .. but would report -rhs]</span></span><br><span class="line">  <span class="comment">/* carry out the subtraction */</span></span><br><span class="line">  <span class="comment">// we could fastpath -0, but it is too rare.</span></span><br><span class="line">  newrhs=<span class="keyword">this</span>.clone(rhs); <span class="comment">// safe copy</span></span><br><span class="line">  newrhs.ind=-newrhs.ind; <span class="comment">// prepare to subtract</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.add(newrhs,set); <span class="comment">// arithmetic</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"> <span class="comment">/* Other methods                                                    */</span></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;byte&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part or is</span></span><br><span class="line"><span class="comment">  * out of the possible range for a &lt;code&gt;byte&lt;/code&gt; (8-bit signed</span></span><br><span class="line"><span class="comment">  * integer) result then an &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;byte&lt;/code&gt; equal in value to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;this&lt;/code&gt; has a non-zero</span></span><br><span class="line"><span class="comment">  *                 decimal part, or will not fit in a &lt;code&gt;byte&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public byte byteValueExact()&#123;</span></span><br><span class="line"> <span class="comment">//-- int num;</span></span><br><span class="line"> <span class="comment">//-- num=this.intValueExact(); // will check decimal part too</span></span><br><span class="line"> <span class="comment">//-- if ((num&gt;127)|(num&lt;(-128)))</span></span><br><span class="line"> <span class="comment">//--  throw new java.lang.ArithmeticException("Conversion overflow:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//-- return (byte)num;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Compares this &lt;code&gt;BigDecimal&lt;/code&gt; with the value of the parameter.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the parameter is &lt;code&gt;null&lt;/code&gt;, or is not an instance of the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; type, an exception is thrown.</span></span><br><span class="line"><span class="comment">  * Otherwise, the parameter is cast to type &lt;code&gt;BigDecimal&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * and the result of the &#123;@link #compareTo(BigDecimal)&#125; method,</span></span><br><span class="line"><span class="comment">  * using the cast parameter, is returned.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &#123;@link #compareTo(BigDecimal, MathContext)&#125; method should be</span></span><br><span class="line"><span class="comment">  * used when a &lt;code&gt;MathContext&lt;/code&gt; is needed for the comparison.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;Object&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @return     An &lt;code&gt;int&lt;/code&gt; whose value is -1, 0, or 1 as</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;this&lt;/code&gt; is numerically less than, equal to,</span></span><br><span class="line"><span class="comment">  *             or greater than &lt;code&gt;rhs&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ClassCastException if &lt;code&gt;rhs&lt;/code&gt; cannot be cast to</span></span><br><span class="line"><span class="comment">  *                 a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(BigDecimal)</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int compareTo(java.lang.Object rhsobj)&#123;</span></span><br><span class="line"> <span class="comment">//-- // the cast in the next line will raise ClassCastException if necessary</span></span><br><span class="line"> <span class="comment">//-- return compareTo((com.ibm.icu.math.BigDecimal)rhsobj,plainMC);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;double&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; is out of the possible range for a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;double&lt;/code&gt; (64-bit signed floating point) result then an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The double produced is identical to result of expressing the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; as a &lt;code&gt;String&lt;/code&gt; and then</span></span><br><span class="line"><span class="comment">  * converting it using the &lt;code&gt;Double(String)&lt;/code&gt; constructor;</span></span><br><span class="line"><span class="comment">  * this can result in values of &lt;code&gt;Double.NEGATIVE_INFINITY&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * or &lt;code&gt;Double.POSITIVE_INFINITY&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;double&lt;/code&gt; corresponding to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public double doubleValue()&#123;</span></span><br><span class="line"> <span class="comment">//-- // We go via a String [as does BigDecimal in JDK 1.2]</span></span><br><span class="line"> <span class="comment">//-- // Next line could possibly raise NumberFormatException</span></span><br><span class="line"> <span class="comment">//-- return java.lang.Double.valueOf(this.toString()).doubleValue();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Compares this &lt;code&gt;BigDecimal&lt;/code&gt; with &lt;code&gt;rhs&lt;/code&gt; for</span></span><br><span class="line"><span class="comment">  * equality.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the parameter is &lt;code&gt;null&lt;/code&gt;, or is not an instance of the</span></span><br><span class="line"><span class="comment">  * BigDecimal type, or is not exactly equal to the current</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; object, then &lt;i&gt;false&lt;/i&gt; is returned.</span></span><br><span class="line"><span class="comment">  * Otherwise, &lt;i&gt;true&lt;/i&gt; is returned.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * "Exactly equal", here, means that the &lt;code&gt;String&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * representations of the &lt;code&gt;BigDecimal&lt;/code&gt; numbers are</span></span><br><span class="line"><span class="comment">  * identical (they have the same characters in the same sequence).</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The &#123;@link #compareTo(BigDecimal, MathContext)&#125; method should be</span></span><br><span class="line"><span class="comment">  * used for more general comparisons.</span></span><br><span class="line"><span class="comment">  * @param  rhs The &lt;code&gt;Object&lt;/code&gt; for the right hand side of</span></span><br><span class="line"><span class="comment">  *             the comparison.</span></span><br><span class="line"><span class="comment">  * @return     A &lt;code&gt;boolean&lt;/code&gt; whose value &lt;i&gt;true&lt;/i&gt; if and</span></span><br><span class="line"><span class="comment">  *             only if the operands have identical string representations.</span></span><br><span class="line"><span class="comment">  * @throws ClassCastException if &lt;code&gt;rhs&lt;/code&gt; cannot be cast to</span></span><br><span class="line"><span class="comment">  *                 a &lt;code&gt;BigDecimal&lt;/code&gt; object.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(Object)</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(BigDecimal)</span></span><br><span class="line"><span class="comment">  * @see    #compareTo(BigDecimal, MathContext)</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public boolean equals(java.lang.Object obj)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">equals</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal rhs;</span></span><br><span class="line">  <span class="keyword">var</span> rhs;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char lca[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> lca=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--char rca[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> rca=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">// We are equal iff toString of both are exactly the same</span></span><br><span class="line">  <span class="keyword">if</span> (obj==<span class="literal">null</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// not equal</span></span><br><span class="line">  <span class="keyword">if</span> ((!(((obj <span class="keyword">instanceof</span> BigDecimal)))))</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// not a decimal</span></span><br><span class="line">  rhs=obj; <span class="comment">// cast; we know it will work</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.ind!=rhs.ind)</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// different signs never match</span></span><br><span class="line">  <span class="keyword">if</span> (((<span class="keyword">this</span>.mant.length==rhs.mant.length)&amp;&amp;(<span class="keyword">this</span>.exp==rhs.exp))&amp;&amp;(<span class="keyword">this</span>.form==rhs.form))</span><br><span class="line"></span><br><span class="line">   &#123; <span class="comment">// mantissas say all</span></span><br><span class="line">    <span class="comment">// here with equal-length byte arrays to compare</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">8</span>=<span class="keyword">this</span>.mant.length;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">8</span>&gt;<span class="number">0</span>;$<span class="number">8</span>--,i++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">this</span>.mant[i]!=rhs.mant[i])</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123; <span class="comment">// need proper layout</span></span><br><span class="line">    lca=<span class="keyword">this</span>.layout(); <span class="comment">// layout to character array</span></span><br><span class="line">    rca=rhs.layout();</span><br><span class="line">    <span class="keyword">if</span> (lca.length!=rca.length)</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// mismatch</span></span><br><span class="line">    <span class="comment">// here with equal-length character arrays to compare</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">9</span>=lca.length;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">9</span>&gt;<span class="number">0</span>;$<span class="number">9</span>--,i++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (lca[i]!=rca[i])</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// arrays have identical content</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;float&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; is out of the possible range for a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;float&lt;/code&gt; (32-bit signed floating point) result then an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The float produced is identical to result of expressing the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; as a &lt;code&gt;String&lt;/code&gt; and then</span></span><br><span class="line"><span class="comment">  * converting it using the &lt;code&gt;Float(String)&lt;/code&gt; constructor;</span></span><br><span class="line"><span class="comment">  * this can result in values of &lt;code&gt;Float.NEGATIVE_INFINITY&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * or &lt;code&gt;Float.POSITIVE_INFINITY&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;float&lt;/code&gt; corresponding to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public float floatValue()&#123;</span></span><br><span class="line"> <span class="comment">//-- return java.lang.Float.valueOf(this.toString()).floatValue();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the &lt;code&gt;String&lt;/code&gt; representation of this</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt;, modified by layout parameters.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;This method is provided as a primitive for use by more</span></span><br><span class="line"><span class="comment">  * sophisticated classes, such as &lt;code&gt;DecimalFormat&lt;/code&gt;, that</span></span><br><span class="line"><span class="comment">  * can apply locale-sensitive editing of the result.  The level of</span></span><br><span class="line"><span class="comment">  * formatting that it provides is a necessary part of the BigDecimal</span></span><br><span class="line"><span class="comment">  * class as it is sensitive to and must follow the calculation and</span></span><br><span class="line"><span class="comment">  * rounding rules for BigDecimal arithmetic.</span></span><br><span class="line"><span class="comment">  * However, if the function is provided elsewhere, it may be removed</span></span><br><span class="line"><span class="comment">  * from this class. &lt;/i&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The parameters, for both forms of the &lt;code&gt;format&lt;/code&gt; method</span></span><br><span class="line"><span class="comment">  * are all of type &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * A value of -1 for any parameter indicates that the default action</span></span><br><span class="line"><span class="comment">  * or value for that parameter should be used.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The parameters, &lt;code&gt;before&lt;/code&gt; and &lt;code&gt;after&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * specify the number of characters to be used for the integer part</span></span><br><span class="line"><span class="comment">  * and decimal part of the result respectively.  Exponential notation</span></span><br><span class="line"><span class="comment">  * is not used. If either parameter is -1 (which indicates the default</span></span><br><span class="line"><span class="comment">  * action), the number of characters used will be exactly as many as</span></span><br><span class="line"><span class="comment">  * are needed for that part.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;before&lt;/code&gt; must be a positive number; if it is larger than</span></span><br><span class="line"><span class="comment">  * is needed to contain the integer part, that part is padded on the</span></span><br><span class="line"><span class="comment">  * left with blanks to the requested length. If &lt;code&gt;before&lt;/code&gt; is</span></span><br><span class="line"><span class="comment">  * not large enough to contain the integer part of the number</span></span><br><span class="line"><span class="comment">  * (including the sign, for negative numbers) an exception is thrown.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;after&lt;/code&gt; must be a non-negative number; if it is not the</span></span><br><span class="line"><span class="comment">  * same size as the decimal part of the number, the number will be</span></span><br><span class="line"><span class="comment">  * rounded (or extended with zeros) to fit.  Specifying 0 for</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;after&lt;/code&gt; will cause the number to be rounded to an</span></span><br><span class="line"><span class="comment">  * integer (that is, it will have no decimal part or decimal point).</span></span><br><span class="line"><span class="comment">  * The rounding method will be the default,</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext.ROUND_HALF_UP&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Other rounding methods, and the use of exponential notation, can</span></span><br><span class="line"><span class="comment">  * be selected by using &#123;@link #format(int,int,int,int,int,int)&#125;.</span></span><br><span class="line"><span class="comment">  * Using the two-parameter form of the method has exactly the same</span></span><br><span class="line"><span class="comment">  * effect as using the six-parameter form with the final four</span></span><br><span class="line"><span class="comment">  * parameters all being -1.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  before The &lt;code&gt;int&lt;/code&gt; specifying the number of places</span></span><br><span class="line"><span class="comment">  *                before the decimal point.  Use -1 for 'as many as</span></span><br><span class="line"><span class="comment">  *                are needed'.</span></span><br><span class="line"><span class="comment">  * @param  after  The &lt;code&gt;int&lt;/code&gt; specifying the number of places</span></span><br><span class="line"><span class="comment">  *                after the decimal point.  Use -1 for 'as many as are</span></span><br><span class="line"><span class="comment">  *                needed'.</span></span><br><span class="line"><span class="comment">  * @return        A &lt;code&gt;String&lt;/code&gt; representing this</span></span><br><span class="line"><span class="comment">  *                &lt;code&gt;BigDecimal&lt;/code&gt;, laid out according to the</span></span><br><span class="line"><span class="comment">  *                specified parameters</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if the number cannot be laid out as</span></span><br><span class="line"><span class="comment">  *                requested.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException if a parameter is out of range.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  * @see    #toString</span></span><br><span class="line"><span class="comment">  * @see    #toCharArray</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.lang.String format(int before,int after)&#123;</span></span><br><span class="line"> <span class="comment">//-- return format(before,after,-1,-1,com.ibm.icu.math.MathContext.SCIENTIFIC,ROUND_HALF_UP);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the &lt;code&gt;String&lt;/code&gt; representation of this</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt;, modified by layout parameters and allowing</span></span><br><span class="line"><span class="comment">  * exponential notation.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;This method is provided as a primitive for use by more</span></span><br><span class="line"><span class="comment">  * sophisticated classes, such as &lt;code&gt;DecimalFormat&lt;/code&gt;, that</span></span><br><span class="line"><span class="comment">  * can apply locale-sensitive editing of the result.  The level of</span></span><br><span class="line"><span class="comment">  * formatting that it provides is a necessary part of the BigDecimal</span></span><br><span class="line"><span class="comment">  * class as it is sensitive to and must follow the calculation and</span></span><br><span class="line"><span class="comment">  * rounding rules for BigDecimal arithmetic.</span></span><br><span class="line"><span class="comment">  * However, if the function is provided elsewhere, it may be removed</span></span><br><span class="line"><span class="comment">  * from this class. &lt;/i&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The parameters are all of type &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * A value of -1 for any parameter indicates that the default action</span></span><br><span class="line"><span class="comment">  * or value for that parameter should be used.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The first two parameters (&lt;code&gt;before&lt;/code&gt; and</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;after&lt;/code&gt;) specify the number of characters to be used for</span></span><br><span class="line"><span class="comment">  * the integer part and decimal part of the result respectively, as</span></span><br><span class="line"><span class="comment">  * defined for &#123;@link #format(int,int)&#125;.</span></span><br><span class="line"><span class="comment">  * If either of these is -1 (which indicates the default action), the</span></span><br><span class="line"><span class="comment">  * number of characters used will be exactly as many as are needed for</span></span><br><span class="line"><span class="comment">  * that part.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The remaining parameters control the use of exponential notation</span></span><br><span class="line"><span class="comment">  * and rounding.  Three (&lt;code&gt;explaces&lt;/code&gt;, &lt;code&gt;exdigits&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * and &lt;code&gt;exform&lt;/code&gt;) control the exponent part of the result.</span></span><br><span class="line"><span class="comment">  * As before, the default action for any of these parameters may be</span></span><br><span class="line"><span class="comment">  * selected by using the value -1.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;explaces&lt;/code&gt; must be a positive number; it sets the number</span></span><br><span class="line"><span class="comment">  * of places (digits after the sign of the exponent) to be used for</span></span><br><span class="line"><span class="comment">  * any exponent part, the default (when &lt;code&gt;explaces&lt;/code&gt; is -1)</span></span><br><span class="line"><span class="comment">  * being to use as many as are needed.</span></span><br><span class="line"><span class="comment">  * If &lt;code&gt;explaces&lt;/code&gt; is not -1, space is always reserved for</span></span><br><span class="line"><span class="comment">  * an exponent; if one is not needed (for example, if the exponent</span></span><br><span class="line"><span class="comment">  * will be 0) then &lt;code&gt;explaces&lt;/code&gt;+2 blanks are appended to the</span></span><br><span class="line"><span class="comment">  * result.</span></span><br><span class="line"><span class="comment">  * &lt;!-- (This preserves vertical alignment of similarly formatted</span></span><br><span class="line"><span class="comment">  *       numbers in a monospace font.) --&gt;</span></span><br><span class="line"><span class="comment">  * If &lt;code&gt;explaces&lt;/code&gt; is not -1 and is not large enough to</span></span><br><span class="line"><span class="comment">  * contain the exponent, an exception is thrown.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;exdigits&lt;/code&gt; sets the trigger point for use of exponential</span></span><br><span class="line"><span class="comment">  * notation. If, before any rounding, the number of places needed</span></span><br><span class="line"><span class="comment">  * before the decimal point exceeds &lt;code&gt;exdigits&lt;/code&gt;, or if the</span></span><br><span class="line"><span class="comment">  * absolute value of the result is less than &lt;code&gt;0.000001&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * then exponential form will be used, provided that</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;exdigits&lt;/code&gt; was specified.</span></span><br><span class="line"><span class="comment">  * When &lt;code&gt;exdigits&lt;/code&gt; is -1, exponential notation will never</span></span><br><span class="line"><span class="comment">  * be used. If 0 is specified for &lt;code&gt;exdigits&lt;/code&gt;, exponential</span></span><br><span class="line"><span class="comment">  * notation is always used unless the exponent would be 0.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;exform&lt;/code&gt; sets the form for exponential notation (if</span></span><br><span class="line"><span class="comment">  * needed).</span></span><br><span class="line"><span class="comment">  * It  may be either &#123;@link MathContext#SCIENTIFIC&#125; or</span></span><br><span class="line"><span class="comment">  * &#123;@link MathContext#ENGINEERING&#125;.</span></span><br><span class="line"><span class="comment">  * If the latter, engineering, form is requested, up to three digits</span></span><br><span class="line"><span class="comment">  * (plus sign, if negative) may be needed for the integer part of the</span></span><br><span class="line"><span class="comment">  * result (&lt;code&gt;before&lt;/code&gt;).  Otherwise, only one digit (plus</span></span><br><span class="line"><span class="comment">  * sign, if negative) is needed.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Finally, the sixth argument, &lt;code&gt;exround&lt;/code&gt;, selects the</span></span><br><span class="line"><span class="comment">  * rounding algorithm to be used, and must be one of the values</span></span><br><span class="line"><span class="comment">  * indicated by a public constant in the &#123;@link MathContext&#125; class</span></span><br><span class="line"><span class="comment">  * whose name starts with &lt;code&gt;ROUND_&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * The default (&lt;code&gt;ROUND_HALF_UP&lt;/code&gt;) may also be selected by</span></span><br><span class="line"><span class="comment">  * using the value -1, as before.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The special value &lt;code&gt;MathContext.ROUND_UNNECESSARY&lt;/code&gt; may be</span></span><br><span class="line"><span class="comment">  * used to detect whether non-zero digits are discarded -- if</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;exround&lt;/code&gt; has this value than if non-zero digits would</span></span><br><span class="line"><span class="comment">  * be discarded (rounded) during formatting then an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  before   The &lt;code&gt;int&lt;/code&gt; specifying the number of places</span></span><br><span class="line"><span class="comment">  *                  before the decimal point.</span></span><br><span class="line"><span class="comment">  *                  Use -1 for 'as many as are needed'.</span></span><br><span class="line"><span class="comment">  * @param  after    The &lt;code&gt;int&lt;/code&gt; specifying the number of places</span></span><br><span class="line"><span class="comment">  *                  after the decimal point.</span></span><br><span class="line"><span class="comment">  *                  Use -1 for 'as many as are needed'.</span></span><br><span class="line"><span class="comment">  * @param  explaces The &lt;code&gt;int&lt;/code&gt; specifying the number of places</span></span><br><span class="line"><span class="comment">  *                  to be used for any exponent.</span></span><br><span class="line"><span class="comment">  *                  Use -1 for 'as many as are needed'.</span></span><br><span class="line"><span class="comment">  * @param  exdigits The &lt;code&gt;int&lt;/code&gt; specifying the trigger</span></span><br><span class="line"><span class="comment">  *                  (digits before the decimal point) which if</span></span><br><span class="line"><span class="comment">  *                  exceeded causes exponential notation to be used.</span></span><br><span class="line"><span class="comment">  *                  Use 0 to force exponential notation.</span></span><br><span class="line"><span class="comment">  *                  Use -1 to force plain notation (no exponential</span></span><br><span class="line"><span class="comment">  *                  notation).</span></span><br><span class="line"><span class="comment">  * @param  exform   The &lt;code&gt;int&lt;/code&gt; specifying the form of</span></span><br><span class="line"><span class="comment">  *                  exponential notation to be used</span></span><br><span class="line"><span class="comment">  *                  (&#123;@link MathContext#SCIENTIFIC&#125; or</span></span><br><span class="line"><span class="comment">  *                  &#123;@link MathContext#ENGINEERING&#125;).</span></span><br><span class="line"><span class="comment">  * @param  exround  The &lt;code&gt;int&lt;/code&gt; specifying the rounding mode</span></span><br><span class="line"><span class="comment">  *                  to use.</span></span><br><span class="line"><span class="comment">  *                  Use -1 for the default, &#123;@link MathContext#ROUND_HALF_UP&#125;.</span></span><br><span class="line"><span class="comment">  * @return          A &lt;code&gt;String&lt;/code&gt; representing this</span></span><br><span class="line"><span class="comment">  *                  &lt;code&gt;BigDecimal&lt;/code&gt;, laid out according to the</span></span><br><span class="line"><span class="comment">  *                  specified parameters</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if the number cannot be laid out as</span></span><br><span class="line"><span class="comment">  *                  requested.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException if a parameter is out of range.</span></span><br><span class="line"><span class="comment">  * @see    #toString</span></span><br><span class="line"><span class="comment">  * @see    #toCharArray</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.lang.String format(int before,int after,int explaces,int exdigits,int exformint,int exround)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">format</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> explaces;</span><br><span class="line">  <span class="keyword">var</span> exdigits;</span><br><span class="line">  <span class="keyword">var</span> exformint;</span><br><span class="line">  <span class="keyword">var</span> exround;</span><br><span class="line">  <span class="keyword">if</span> (format.arguments.length == <span class="number">6</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    explaces = format.arguments[<span class="number">2</span>];</span><br><span class="line">    exdigits = format.arguments[<span class="number">3</span>];</span><br><span class="line">    exformint = format.arguments[<span class="number">4</span>];</span><br><span class="line">    exround = format.arguments[<span class="number">5</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (format.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    explaces = <span class="number">-1</span>;</span><br><span class="line">    exdigits = <span class="number">-1</span>;</span><br><span class="line">    exformint = MathContext.prototype.SCIENTIFIC;</span><br><span class="line">    exround = <span class="keyword">this</span>.ROUND_HALF_UP;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"format(): "</span> + format.arguments.length + <span class="string">" arguments given; expected 2 or 6"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> before = format.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">var</span> after = format.arguments[<span class="number">1</span>];</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal num;</span></span><br><span class="line">  <span class="keyword">var</span> num;</span><br><span class="line">  <span class="comment">//--int mag=0;</span></span><br><span class="line">  <span class="keyword">var</span> mag=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int thisafter=0;</span></span><br><span class="line">  <span class="keyword">var</span> thisafter=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int lead=0;</span></span><br><span class="line">  <span class="keyword">var</span> lead=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte newmant[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newmant=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int chop=0;</span></span><br><span class="line">  <span class="keyword">var</span> chop=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int need=0;</span></span><br><span class="line">  <span class="keyword">var</span> need=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int oldexp=0;</span></span><br><span class="line">  <span class="keyword">var</span> oldexp=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char a[];</span></span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  <span class="comment">//--int p=0;</span></span><br><span class="line">  <span class="keyword">var</span> p=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char newa[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newa=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int places=0;</span></span><br><span class="line">  <span class="keyword">var</span> places=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Check arguments */</span></span><br><span class="line">  <span class="keyword">if</span> ((before&lt;(<span class="number">-1</span>))||(before==<span class="number">0</span>))</span><br><span class="line">   <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">1</span>,before);</span><br><span class="line">  <span class="keyword">if</span> (after&lt;(<span class="number">-1</span>))</span><br><span class="line">   <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">2</span>,after);</span><br><span class="line">  <span class="keyword">if</span> ((explaces&lt;(<span class="number">-1</span>))||(explaces==<span class="number">0</span>))</span><br><span class="line">   <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">3</span>,explaces);</span><br><span class="line">  <span class="keyword">if</span> (exdigits&lt;(<span class="number">-1</span>))</span><br><span class="line">   <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">4</span>,exdigits);</span><br><span class="line">  &#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (exformint==MathContext.prototype.SCIENTIFIC)</span><br><span class="line">   &#123;&#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (exformint==MathContext.prototype.ENGINEERING)</span><br><span class="line">   &#123;&#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (exformint==(<span class="number">-1</span>))</span><br><span class="line">   exformint=MathContext.prototype.SCIENTIFIC;</span><br><span class="line">   <span class="comment">// note PLAIN isn't allowed</span></span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">5</span>,exformint);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// checking the rounding mode is done by trying to construct a</span></span><br><span class="line">  <span class="comment">// MathContext object with that mode; it will fail if bad</span></span><br><span class="line">  <span class="keyword">if</span> (exround!=<span class="keyword">this</span>.ROUND_HALF_UP)</span><br><span class="line">   &#123;<span class="keyword">try</span>&#123; <span class="comment">// if non-default...</span></span><br><span class="line">    <span class="keyword">if</span> (exround==(<span class="number">-1</span>))</span><br><span class="line">     exround=<span class="keyword">this</span>.ROUND_HALF_UP;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     <span class="keyword">new</span> MathContext(<span class="number">9</span>,MathContext.prototype.SCIENTIFIC,<span class="literal">false</span>,exround);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">catch</span> ($<span class="number">10</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">6</span>,exround);</span><br><span class="line">   &#125;&#125;</span><br><span class="line"></span><br><span class="line">  num=<span class="keyword">this</span>.clone(<span class="keyword">this</span>); <span class="comment">// make private copy</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Here:</span></span><br><span class="line"><span class="comment">     num       is BigDecimal to format</span></span><br><span class="line"><span class="comment">     before    is places before point [&gt;0]</span></span><br><span class="line"><span class="comment">     after     is places after point  [&gt;=0]</span></span><br><span class="line"><span class="comment">     explaces  is exponent places     [&gt;0]</span></span><br><span class="line"><span class="comment">     exdigits  is exponent digits     [&gt;=0]</span></span><br><span class="line"><span class="comment">     exformint is exponent form       [one of two]</span></span><br><span class="line"><span class="comment">     exround   is rounding mode       [one of eight]</span></span><br><span class="line"><span class="comment">     'before' through 'exdigits' are -1 if not specified</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* determine form */</span></span><br><span class="line">  &#123;<span class="attr">setform</span>:<span class="keyword">do</span>&#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (exdigits==(<span class="number">-1</span>))</span><br><span class="line">   num.form=MathContext.prototype.PLAIN;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (num.ind==<span class="keyword">this</span>.iszero)</span><br><span class="line">   num.form=MathContext.prototype.PLAIN;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="comment">// determine whether triggers</span></span><br><span class="line">   mag=num.exp+num.mant.length;</span><br><span class="line">   <span class="keyword">if</span> (mag&gt;exdigits)</span><br><span class="line">    num.form=exformint;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> (mag&lt;(<span class="number">-5</span>))</span><br><span class="line">     num.form=exformint;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     num.form=MathContext.prototype.PLAIN;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*setform*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* If 'after' was specified then we may need to adjust the</span></span><br><span class="line"><span class="comment">     mantissa.  This is a little tricky, as we must conform to the</span></span><br><span class="line"><span class="comment">     rules of exponential layout if necessary (e.g., we cannot end up</span></span><br><span class="line"><span class="comment">     with 10.0 if scientific). */</span></span><br><span class="line">  <span class="keyword">if</span> (after&gt;=<span class="number">0</span>)</span><br><span class="line">   &#123;<span class="attr">setafter</span>:<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">    <span class="comment">// calculate the current after-length</span></span><br><span class="line">    &#123;<span class="comment">/*select*/</span></span><br><span class="line">    <span class="keyword">if</span> (num.form==MathContext.prototype.PLAIN)</span><br><span class="line">     thisafter=-num.exp; <span class="comment">// has decimal part</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (num.form==MathContext.prototype.SCIENTIFIC)</span><br><span class="line">     thisafter=num.mant.length<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span>&#123; <span class="comment">// engineering</span></span><br><span class="line">     lead=(((num.exp+num.mant.length)<span class="number">-1</span>))%<span class="number">3</span>; <span class="comment">// exponent to use</span></span><br><span class="line">     <span class="keyword">if</span> (lead&lt;<span class="number">0</span>)</span><br><span class="line">      lead=<span class="number">3</span>+lead; <span class="comment">// negative exponent case</span></span><br><span class="line">     lead++; <span class="comment">// number of leading digits</span></span><br><span class="line">     <span class="keyword">if</span> (lead&gt;=num.mant.length)</span><br><span class="line">      thisafter=<span class="number">0</span>;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      thisafter=num.mant.length-lead;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (thisafter==after)</span><br><span class="line">     <span class="keyword">break</span> setafter; <span class="comment">// we're in luck</span></span><br><span class="line">    <span class="keyword">if</span> (thisafter&lt;after)</span><br><span class="line">     &#123; <span class="comment">// need added trailing zeros</span></span><br><span class="line">      <span class="comment">// [thisafter can be negative]</span></span><br><span class="line">      newmant=<span class="keyword">this</span>.extend(num.mant,(num.mant.length+after)-thisafter);</span><br><span class="line">      num.mant=newmant;</span><br><span class="line">      num.exp=num.exp-((after-thisafter)); <span class="comment">// adjust exponent</span></span><br><span class="line">      <span class="keyword">if</span> (num.exp&lt;<span class="keyword">this</span>.MinExp)</span><br><span class="line">       <span class="keyword">throw</span> <span class="string">"format(): Exponent Overflow: "</span> + num.exp;</span><br><span class="line">      <span class="keyword">break</span> setafter;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="comment">// We have too many digits after the decimal point; this could</span></span><br><span class="line">    <span class="comment">// cause a carry, which could change the mantissa...</span></span><br><span class="line">    <span class="comment">// Watch out for implied leading zeros in PLAIN case</span></span><br><span class="line">    chop=thisafter-after; <span class="comment">// digits to lop [is &gt;0]</span></span><br><span class="line">    <span class="keyword">if</span> (chop&gt;num.mant.length)</span><br><span class="line">     &#123; <span class="comment">// all digits go, no chance of carry</span></span><br><span class="line">      <span class="comment">// carry on with zero</span></span><br><span class="line">      num.mant=<span class="keyword">this</span>.ZERO.mant;</span><br><span class="line">      num.ind=<span class="keyword">this</span>.iszero;</span><br><span class="line">      num.exp=<span class="number">0</span>;</span><br><span class="line">      <span class="keyword">continue</span> setafter; <span class="comment">// recheck: we may need trailing zeros</span></span><br><span class="line">     &#125;</span><br><span class="line">    <span class="comment">// we have a digit to inspect from existing mantissa</span></span><br><span class="line">    <span class="comment">// round the number as required</span></span><br><span class="line">    need=num.mant.length-chop; <span class="comment">// digits to end up with [may be 0]</span></span><br><span class="line">    oldexp=num.exp; <span class="comment">// save old exponent</span></span><br><span class="line">    num.round(need,exround);</span><br><span class="line">    <span class="comment">// if the exponent grew by more than the digits we chopped, then</span></span><br><span class="line">    <span class="comment">// we must have had a carry, so will need to recheck the layout</span></span><br><span class="line">    <span class="keyword">if</span> ((num.exp-oldexp)==chop)</span><br><span class="line">     <span class="keyword">break</span> setafter; <span class="comment">// number did not have carry</span></span><br><span class="line">    <span class="comment">// mantissa got extended .. so go around and check again</span></span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="comment">/*setafter*/</span></span><br><span class="line"></span><br><span class="line">  a=num.layout(); <span class="comment">// lay out, with exponent if required, etc.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Here we have laid-out number in 'a' */</span></span><br><span class="line">  <span class="comment">// now apply 'before' and 'explaces' as needed</span></span><br><span class="line">  <span class="keyword">if</span> (before&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">// look for '.' or 'E'</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">11</span>=a.length;p=<span class="number">0</span>;p:<span class="keyword">for</span>(;$<span class="number">11</span>&gt;<span class="number">0</span>;$<span class="number">11</span>--,p++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (a[p]==<span class="string">'.'</span>)</span><br><span class="line">      <span class="keyword">break</span> p;</span><br><span class="line">     <span class="keyword">if</span> (a[p]==<span class="string">'E'</span>)</span><br><span class="line">      <span class="keyword">break</span> p;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*p*/</span></span><br><span class="line">    <span class="comment">// p is now offset of '.', 'E', or character after end of array</span></span><br><span class="line">    <span class="comment">// that is, the current length of before part</span></span><br><span class="line">    <span class="keyword">if</span> (p&gt;before)</span><br><span class="line">     <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">1</span>,before); <span class="comment">// won't fit</span></span><br><span class="line">    <span class="keyword">if</span> (p&lt;before)</span><br><span class="line">     &#123; <span class="comment">// need leading blanks</span></span><br><span class="line">      newa=<span class="keyword">new</span> <span class="built_in">Array</span>((a.length+before)-p);</span><br><span class="line">      &#123;<span class="keyword">var</span> $<span class="number">12</span>=before-p;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">12</span>&gt;<span class="number">0</span>;$<span class="number">12</span>--,i++)&#123;</span><br><span class="line">       newa[i]=<span class="string">' '</span>;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;<span class="comment">/*i*/</span></span><br><span class="line">      <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)a,0,(java.lang.Object)newa,i,a.length);</span></span><br><span class="line">      <span class="keyword">this</span>.arraycopy(a,<span class="number">0</span>,newa,i,a.length);</span><br><span class="line">      a=newa;</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="comment">// [if p=before then it's just the right length]</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (explaces&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">// look for 'E' [cannot be at offset 0]</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">13</span>=a.length<span class="number">-1</span>;p=a.length<span class="number">-1</span>;p:<span class="keyword">for</span>(;$<span class="number">13</span>&gt;<span class="number">0</span>;$<span class="number">13</span>--,p--)&#123;</span><br><span class="line">     <span class="keyword">if</span> (a[p]==<span class="string">'E'</span>)</span><br><span class="line">      <span class="keyword">break</span> p;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*p*/</span></span><br><span class="line">    <span class="comment">// p is now offset of 'E', or 0</span></span><br><span class="line">    <span class="keyword">if</span> (p==<span class="number">0</span>)</span><br><span class="line">     &#123; <span class="comment">// no E part; add trailing blanks</span></span><br><span class="line">      newa=<span class="keyword">new</span> <span class="built_in">Array</span>((a.length+explaces)+<span class="number">2</span>);</span><br><span class="line">      <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)a,0,(java.lang.Object)newa,0,a.length);</span></span><br><span class="line">      <span class="keyword">this</span>.arraycopy(a,<span class="number">0</span>,newa,<span class="number">0</span>,a.length);</span><br><span class="line">      &#123;<span class="keyword">var</span> $<span class="number">14</span>=explaces+<span class="number">2</span>;i=a.length;i:<span class="keyword">for</span>(;$<span class="number">14</span>&gt;<span class="number">0</span>;$<span class="number">14</span>--,i++)&#123;</span><br><span class="line">       newa[i]=<span class="string">' '</span>;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;<span class="comment">/*i*/</span></span><br><span class="line">      a=newa;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     &#123;<span class="comment">/* found E */</span> <span class="comment">// may need to insert zeros</span></span><br><span class="line">      places=(a.length-p)<span class="number">-2</span>; <span class="comment">// number so far</span></span><br><span class="line">      <span class="keyword">if</span> (places&gt;explaces)</span><br><span class="line">       <span class="keyword">this</span>.badarg(<span class="string">"format"</span>,<span class="number">3</span>,explaces);</span><br><span class="line">      <span class="keyword">if</span> (places&lt;explaces)</span><br><span class="line">       &#123; <span class="comment">// need to insert zeros</span></span><br><span class="line">        newa=<span class="keyword">new</span> <span class="built_in">Array</span>((a.length+explaces)-places);</span><br><span class="line">        <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)a,0,(java.lang.Object)newa,0,p+2); // through E and sign</span></span><br><span class="line">        <span class="keyword">this</span>.arraycopy(a,<span class="number">0</span>,newa,<span class="number">0</span>,p+<span class="number">2</span>);</span><br><span class="line">        &#123;<span class="keyword">var</span> $<span class="number">15</span>=explaces-places;i=p+<span class="number">2</span>;i:<span class="keyword">for</span>(;$<span class="number">15</span>&gt;<span class="number">0</span>;$<span class="number">15</span>--,i++)&#123;</span><br><span class="line">         newa[i]=<span class="string">'0'</span>;</span><br><span class="line">         &#125;</span><br><span class="line">        &#125;<span class="comment">/*i*/</span></span><br><span class="line">        <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)a,p+2,(java.lang.Object)newa,i,places); // remainder of exponent</span></span><br><span class="line">        <span class="keyword">this</span>.arraycopy(a,p+<span class="number">2</span>,newa,i,places);</span><br><span class="line">        a=newa;</span><br><span class="line">       &#125;</span><br><span class="line">     <span class="comment">// [if places=explaces then it's just the right length]</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">return</span> a.join(<span class="string">""</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the hashcode for this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * This hashcode is suitable for use by the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.util.Hashtable&lt;/code&gt; class.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Note that two &lt;code&gt;BigDecimal&lt;/code&gt; objects are only guaranteed</span></span><br><span class="line"><span class="comment">  * to produce the same hashcode if they are exactly equal (that is,</span></span><br><span class="line"><span class="comment">  * the &lt;code&gt;String&lt;/code&gt; representations of the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; numbers are identical -- they have the same</span></span><br><span class="line"><span class="comment">  * characters in the same sequence).</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return An &lt;code&gt;int&lt;/code&gt; that is the hashcode for &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int hashCode()&#123;</span></span><br><span class="line"> <span class="comment">//-- // Maybe calculate ourselves, later.  If so, note that there can be</span></span><br><span class="line"> <span class="comment">//-- // more than one internal representation for a given toString() result.</span></span><br><span class="line"> <span class="comment">//-- return this.toString().hashCode();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to an &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part it is</span></span><br><span class="line"><span class="comment">  * discarded. If the &lt;code&gt;BigDecimal&lt;/code&gt; is out of the possible</span></span><br><span class="line"><span class="comment">  * range for an &lt;code&gt;int&lt;/code&gt; (32-bit signed integer) result then</span></span><br><span class="line"><span class="comment">  * only the low-order 32 bits are used. (That is, the number may be</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;decapitated&lt;/i&gt;.)  To avoid unexpected errors when these</span></span><br><span class="line"><span class="comment">  * conditions occur, use the &#123;@link #intValueExact&#125; method.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return An &lt;code&gt;int&lt;/code&gt; converted from &lt;code&gt;this&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  *         truncated and decapitated if necessary.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int intValue()&#123;</span></span><br><span class="line"> <span class="comment">//-- return toBigInteger().intValue();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to an &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part or is</span></span><br><span class="line"><span class="comment">  * out of the possible range for an &lt;code&gt;int&lt;/code&gt; (32-bit signed</span></span><br><span class="line"><span class="comment">  * integer) result then an &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return An &lt;code&gt;int&lt;/code&gt; equal in value to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;this&lt;/code&gt; has a non-zero</span></span><br><span class="line"><span class="comment">  *                 decimal part, or will not fit in an</span></span><br><span class="line"><span class="comment">  *                 &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int intValueExact()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">intValueExact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int lodigit;</span></span><br><span class="line">  <span class="keyword">var</span> lodigit;</span><br><span class="line">  <span class="comment">//--int useexp=0;</span></span><br><span class="line">  <span class="keyword">var</span> useexp=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int result;</span></span><br><span class="line">  <span class="keyword">var</span> result;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int topdig=0;</span></span><br><span class="line">  <span class="keyword">var</span> topdig=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">// This does not use longValueExact() as the latter can be much</span></span><br><span class="line">  <span class="comment">// slower.</span></span><br><span class="line">  <span class="comment">// intcheck (from pow) relies on this to check decimal part</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.iszero)</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// easy, and quite common</span></span><br><span class="line">  <span class="comment">/* test and drop any trailing decimal part */</span></span><br><span class="line">  lodigit=<span class="keyword">this</span>.mant.length<span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.exp&lt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    lodigit=lodigit+<span class="keyword">this</span>.exp; <span class="comment">// reduces by -(-exp)</span></span><br><span class="line">    <span class="comment">/* all decimal places must be 0 */</span></span><br><span class="line">    <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(<span class="keyword">this</span>.mant,lodigit+<span class="number">1</span>))))</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"intValueExact(): Decimal part non-zero: "</span> + <span class="keyword">this</span>.toString();</span><br><span class="line">    <span class="keyword">if</span> (lodigit&lt;<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// -1&lt;this&lt;1</span></span><br><span class="line">    useexp=<span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* &gt;=0 */</span></span><br><span class="line">    <span class="keyword">if</span> ((<span class="keyword">this</span>.exp+lodigit)&gt;<span class="number">9</span>)  <span class="comment">// early exit</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"intValueExact(): Conversion overflow: "</span>+<span class="keyword">this</span>.toString();</span><br><span class="line">    useexp=<span class="keyword">this</span>.exp;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">/* convert the mantissa to binary, inline for speed */</span></span><br><span class="line">  result=<span class="number">0</span>;</span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">16</span>=lodigit+useexp;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;i&lt;=$<span class="number">16</span>;i++)&#123;</span><br><span class="line">   result=result*<span class="number">10</span>;</span><br><span class="line">   <span class="keyword">if</span> (i&lt;=lodigit)</span><br><span class="line">    result=result+<span class="keyword">this</span>.mant[i];</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Now, if the risky length, check for overflow */</span></span><br><span class="line">  <span class="keyword">if</span> ((lodigit+useexp)==<span class="number">9</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">// note we cannot just test for -ve result, as overflow can move a</span></span><br><span class="line">    <span class="comment">// zero into the top bit [consider 5555555555]</span></span><br><span class="line">    topdig=div(result,<span class="number">1000000000</span>); <span class="comment">// get top digit, preserving sign</span></span><br><span class="line">    <span class="keyword">if</span> (topdig!=<span class="keyword">this</span>.mant[<span class="number">0</span>])</span><br><span class="line">     &#123; <span class="comment">// digit must match and be positive</span></span><br><span class="line">      <span class="comment">// except in the special case ...</span></span><br><span class="line">      <span class="keyword">if</span> (result==<span class="number">-2147483648</span>)  <span class="comment">// looks like the special</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.isneg)  <span class="comment">// really was negative</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.mant[<span class="number">0</span>]==<span class="number">2</span>)</span><br><span class="line">         <span class="keyword">return</span> result; <span class="comment">// really had top digit 2</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="string">"intValueExact(): Conversion overflow: "</span>+<span class="keyword">this</span>.toString();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Looks good */</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.ispos)</span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line">  <span class="keyword">return</span> -result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;long&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part it is</span></span><br><span class="line"><span class="comment">  * discarded. If the &lt;code&gt;BigDecimal&lt;/code&gt; is out of the possible</span></span><br><span class="line"><span class="comment">  * range for a &lt;code&gt;long&lt;/code&gt; (64-bit signed integer) result then</span></span><br><span class="line"><span class="comment">  * only the low-order 64 bits are used. (That is, the number may be</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;decapitated&lt;/i&gt;.)  To avoid unexpected errors when these</span></span><br><span class="line"><span class="comment">  * conditions occur, use the &#123;@link #longValueExact&#125; method.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;long&lt;/code&gt; converted from &lt;code&gt;this&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  *         truncated and decapitated if necessary.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public long longValue()&#123;</span></span><br><span class="line"> <span class="comment">//-- return toBigInteger().longValue();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;long&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part or is</span></span><br><span class="line"><span class="comment">  * out of the possible range for a &lt;code&gt;long&lt;/code&gt; (64-bit signed</span></span><br><span class="line"><span class="comment">  * integer) result then an &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;long&lt;/code&gt; equal in value to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;this&lt;/code&gt; has a non-zero</span></span><br><span class="line"><span class="comment">  *                 decimal part, or will not fit in a</span></span><br><span class="line"><span class="comment">  *                 &lt;code&gt;long&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public long longValueExact()&#123;</span></span><br><span class="line"> <span class="comment">//-- int lodigit;</span></span><br><span class="line"> <span class="comment">//-- int cstart=0;</span></span><br><span class="line"> <span class="comment">//-- int useexp=0;</span></span><br><span class="line"> <span class="comment">//-- long result;</span></span><br><span class="line"> <span class="comment">//-- int i=0;</span></span><br><span class="line"> <span class="comment">//-- long topdig=0;</span></span><br><span class="line"> <span class="comment">//-- // Identical to intValueExact except for result=long, and exp&gt;=20 test</span></span><br><span class="line"> <span class="comment">//-- if (ind==0)</span></span><br><span class="line"> <span class="comment">//--  return 0; // easy, and quite common</span></span><br><span class="line"> <span class="comment">//-- lodigit=mant.length-1; // last included digit</span></span><br><span class="line"> <span class="comment">//-- if (exp&lt;0)</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   lodigit=lodigit+exp; // -(-exp)</span></span><br><span class="line"> <span class="comment">//--   /* all decimal places must be 0 */</span></span><br><span class="line"> <span class="comment">//--   if (lodigit&lt;0)</span></span><br><span class="line"> <span class="comment">//--    cstart=0;</span></span><br><span class="line"> <span class="comment">//--   else</span></span><br><span class="line"> <span class="comment">//--    cstart=lodigit+1;</span></span><br><span class="line"> <span class="comment">//--   if ((!(allzero(mant,cstart))))</span></span><br><span class="line"> <span class="comment">//--    throw new java.lang.ArithmeticException("Decimal part non-zero:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//--   if (lodigit&lt;0)</span></span><br><span class="line"> <span class="comment">//--    return 0; // -1&lt;this&lt;1</span></span><br><span class="line"> <span class="comment">//--   useexp=0;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- else</span></span><br><span class="line"> <span class="comment">//--  &#123;/* &gt;=0 */</span></span><br><span class="line"> <span class="comment">//--   if ((exp+mant.length)&gt;18)  // early exit</span></span><br><span class="line"> <span class="comment">//--    throw new java.lang.ArithmeticException("Conversion overflow:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//--   useexp=exp;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//--</span></span><br><span class="line"> <span class="comment">//-- /* convert the mantissa to binary, inline for speed */</span></span><br><span class="line"> <span class="comment">//-- // note that we could safely use the 'test for wrap to negative'</span></span><br><span class="line"> <span class="comment">//-- // algorithm here, but instead we parallel the intValueExact</span></span><br><span class="line"> <span class="comment">//-- // algorithm for ease of checking and maintenance.</span></span><br><span class="line"> <span class="comment">//-- result=(long)0;</span></span><br><span class="line"> <span class="comment">//-- &#123;int $17=lodigit+useexp;i=0;i:for(;i&lt;=$17;i++)&#123;</span></span><br><span class="line"> <span class="comment">//--  result=result*10;</span></span><br><span class="line"> <span class="comment">//--  if (i&lt;=lodigit)</span></span><br><span class="line"> <span class="comment">//--   result=result+mant[i];</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;/*i*/</span></span><br><span class="line"> <span class="comment">//--</span></span><br><span class="line"> <span class="comment">//-- /* Now, if the risky length, check for overflow */</span></span><br><span class="line"> <span class="comment">//-- if ((lodigit+useexp)==18)</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   topdig=result/1000000000000000000L; // get top digit, preserving sign</span></span><br><span class="line"> <span class="comment">//--   if (topdig!=mant[0])</span></span><br><span class="line"> <span class="comment">//--    &#123; // digit must match and be positive</span></span><br><span class="line"> <span class="comment">//--     // except in the special case ...</span></span><br><span class="line"> <span class="comment">//--     if (result==java.lang.Long.MIN_VALUE)  // looks like the special</span></span><br><span class="line"> <span class="comment">//--      if (ind==isneg)  // really was negative</span></span><br><span class="line"> <span class="comment">//--       if (mant[0]==9)</span></span><br><span class="line"> <span class="comment">//--        return result; // really had top digit 9</span></span><br><span class="line"> <span class="comment">//--     throw new java.lang.ArithmeticException("Conversion overflow:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//--    &#125;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//--</span></span><br><span class="line"> <span class="comment">//-- /* Looks good */</span></span><br><span class="line"> <span class="comment">//-- if (ind==ispos)</span></span><br><span class="line"> <span class="comment">//--  return result;</span></span><br><span class="line"> <span class="comment">//-- return (long)-result;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose decimal point has</span></span><br><span class="line"><span class="comment">  * been moved to the left by a specified number of positions.</span></span><br><span class="line"><span class="comment">  * The parameter, &lt;code&gt;n&lt;/code&gt;, specifies the number of positions to</span></span><br><span class="line"><span class="comment">  * move the decimal point.</span></span><br><span class="line"><span class="comment">  * That is, if &lt;code&gt;n&lt;/code&gt; is 0 or positive, the number returned is</span></span><br><span class="line"><span class="comment">  * given by:</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment">  * this.multiply(TEN.pow(new BigDecimal(-n)))</span></span><br><span class="line"><span class="comment">  * &lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;n&lt;/code&gt; may be negative, in which case the method returns</span></span><br><span class="line"><span class="comment">  * the same result as &lt;code&gt;movePointRight(-n)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  n The &lt;code&gt;int&lt;/code&gt; specifying the number of places to</span></span><br><span class="line"><span class="comment">  *           move the decimal point leftwards.</span></span><br><span class="line"><span class="comment">  * @return   A &lt;code&gt;BigDecimal&lt;/code&gt; derived from</span></span><br><span class="line"><span class="comment">  *           &lt;code&gt;this&lt;/code&gt;, with the decimal point moved</span></span><br><span class="line"><span class="comment">  *           &lt;code&gt;n&lt;/code&gt; places to the left.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal movePointLeft(int n)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">movePointLeft</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">// very little point in optimizing for shift of 0</span></span><br><span class="line">  res=<span class="keyword">this</span>.clone(<span class="keyword">this</span>);</span><br><span class="line">  res.exp=res.exp-n;</span><br><span class="line">  <span class="keyword">return</span> res.finish(<span class="keyword">this</span>.plainMC,<span class="literal">false</span>); <span class="comment">// finish sets form and checks exponent</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose decimal point has</span></span><br><span class="line"><span class="comment">  * been moved to the right by a specified number of positions.</span></span><br><span class="line"><span class="comment">  * The parameter, &lt;code&gt;n&lt;/code&gt;, specifies the number of positions to</span></span><br><span class="line"><span class="comment">  * move the decimal point.</span></span><br><span class="line"><span class="comment">  * That is, if &lt;code&gt;n&lt;/code&gt; is 0 or positive, the number returned is</span></span><br><span class="line"><span class="comment">  * given by:</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment">  * this.multiply(TEN.pow(new BigDecimal(n)))</span></span><br><span class="line"><span class="comment">  * &lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;n&lt;/code&gt; may be negative, in which case the method returns</span></span><br><span class="line"><span class="comment">  * the same result as &lt;code&gt;movePointLeft(-n)&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  n The &lt;code&gt;int&lt;/code&gt; specifying the number of places to</span></span><br><span class="line"><span class="comment">  *           move the decimal point rightwards.</span></span><br><span class="line"><span class="comment">  * @return   A &lt;code&gt;BigDecimal&lt;/code&gt; derived from</span></span><br><span class="line"><span class="comment">  *           &lt;code&gt;this&lt;/code&gt;, with the decimal point moved</span></span><br><span class="line"><span class="comment">  *           &lt;code&gt;n&lt;/code&gt; places to the right.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal movePointRight(int n)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">movePointRight</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  res=<span class="keyword">this</span>.clone(<span class="keyword">this</span>);</span><br><span class="line">  res.exp=res.exp+n;</span><br><span class="line">  <span class="keyword">return</span> res.finish(<span class="keyword">this</span>.plainMC,<span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the scale of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * Returns a non-negative &lt;code&gt;int&lt;/code&gt; which is the scale of the</span></span><br><span class="line"><span class="comment">  * number. The scale is the number of digits in the decimal part of</span></span><br><span class="line"><span class="comment">  * the number if the number were formatted without exponential</span></span><br><span class="line"><span class="comment">  * notation.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return An &lt;code&gt;int&lt;/code&gt; whose value is the scale of this</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int scale()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">scale</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.exp&gt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// scale can never be negative</span></span><br><span class="line">  <span class="keyword">return</span> -<span class="keyword">this</span>.exp;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; with a given scale.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the given scale (which must be zero or positive) is the same as</span></span><br><span class="line"><span class="comment">  * or greater than the length of the decimal part (the scale) of this</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; then trailing zeros will be added to the</span></span><br><span class="line"><span class="comment">  * decimal part as necessary.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the given scale is less than the length of the decimal part (the</span></span><br><span class="line"><span class="comment">  * scale) of this &lt;code&gt;BigDecimal&lt;/code&gt; then trailing digits</span></span><br><span class="line"><span class="comment">  * will be removed, and in this case an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown if any discarded digits</span></span><br><span class="line"><span class="comment">  * are non-zero.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The same as &#123;@link #setScale(int, int)&#125;, where the first parameter</span></span><br><span class="line"><span class="comment">  * is the scale, and the second is</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;MathContext.ROUND_UNNECESSARY&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  scale The &lt;code&gt;int&lt;/code&gt; specifying the scale of the</span></span><br><span class="line"><span class="comment">  *               resulting &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @return       A plain &lt;code&gt;BigDecimal&lt;/code&gt; with the given scale.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;scale&lt;/code&gt; is negative.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if reducing scale would discard</span></span><br><span class="line"><span class="comment">  *               non-zero digits.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal setScale(int scale)&#123;</span></span><br><span class="line"> <span class="comment">//-- return setScale(scale,ROUND_UNNECESSARY);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; with a given scale.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the given scale (which must be zero or positive) is the same as</span></span><br><span class="line"><span class="comment">  * or greater than the length of the decimal part (the scale) of this</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; then trailing zeros will be added to the</span></span><br><span class="line"><span class="comment">  * decimal part as necessary.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If the given scale is less than the length of the decimal part (the</span></span><br><span class="line"><span class="comment">  * scale) of this &lt;code&gt;BigDecimal&lt;/code&gt; then trailing digits</span></span><br><span class="line"><span class="comment">  * will be removed, and the rounding mode given by the second</span></span><br><span class="line"><span class="comment">  * parameter is used to determine if the remaining digits are</span></span><br><span class="line"><span class="comment">  * affected by a carry.</span></span><br><span class="line"><span class="comment">  * In this case, an &lt;code&gt;IllegalArgumentException&lt;/code&gt; is thrown if</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;round&lt;/code&gt; is not a valid rounding mode.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * If &lt;code&gt;round&lt;/code&gt; is &lt;code&gt;MathContext.ROUND_UNNECESSARY&lt;/code&gt;,</span></span><br><span class="line"><span class="comment">  * an &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown if any discarded</span></span><br><span class="line"><span class="comment">  * digits are non-zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  scale The &lt;code&gt;int&lt;/code&gt; specifying the scale of the</span></span><br><span class="line"><span class="comment">  *               resulting &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @param  round The &lt;code&gt;int&lt;/code&gt; rounding mode to be used for</span></span><br><span class="line"><span class="comment">  *               the division (see the &#123;@link MathContext&#125; class).</span></span><br><span class="line"><span class="comment">  * @return       A plain &lt;code&gt;BigDecimal&lt;/code&gt; with the given scale.</span></span><br><span class="line"><span class="comment">  * @throws IllegalArgumentException if &lt;code&gt;round&lt;/code&gt; is not a</span></span><br><span class="line"><span class="comment">  *               valid rounding mode.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;scale&lt;/code&gt; is negative.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;round&lt;/code&gt; is</span></span><br><span class="line"><span class="comment">  *               &lt;code&gt;MathContext.ROUND_UNNECESSARY&lt;/code&gt;, and</span></span><br><span class="line"><span class="comment">  *               reducing scale would discard non-zero digits.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public com.ibm.icu.math.BigDecimal setScale(int scale,int round)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">setScale</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> round;</span><br><span class="line">  <span class="keyword">if</span> (setScale.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    round = setScale.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (setScale.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    round = <span class="keyword">this</span>.ROUND_UNNECESSARY;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"setScale(): "</span> + setScale.arguments.length + <span class="string">" given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">var</span> scale = setScale.arguments[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//--int ourscale;</span></span><br><span class="line">  <span class="keyword">var</span> ourscale;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">//--int padding=0;</span></span><br><span class="line">  <span class="keyword">var</span> padding=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int newlen=0;</span></span><br><span class="line">  <span class="keyword">var</span> newlen=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">// at present this naughtily only checks the round value if it is</span></span><br><span class="line">  <span class="comment">// needed (used), for speed</span></span><br><span class="line">  ourscale=<span class="keyword">this</span>.scale();</span><br><span class="line">  <span class="keyword">if</span> (ourscale==scale)  <span class="comment">// already correct scale</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.form==MathContext.prototype.PLAIN)  <span class="comment">// .. and form</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  res=<span class="keyword">this</span>.clone(<span class="keyword">this</span>); <span class="comment">// need copy</span></span><br><span class="line">  <span class="keyword">if</span> (ourscale&lt;=scale)</span><br><span class="line">   &#123; <span class="comment">// simply zero-padding/changing form</span></span><br><span class="line">    <span class="comment">// if ourscale is 0 we may have lots of 0s to add</span></span><br><span class="line">    <span class="keyword">if</span> (ourscale==<span class="number">0</span>)</span><br><span class="line">     padding=res.exp+scale;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     padding=scale-ourscale;</span><br><span class="line">    res.mant=<span class="keyword">this</span>.extend(res.mant,res.mant.length+padding);</span><br><span class="line">    res.exp=-scale; <span class="comment">// as requested</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* ourscale&gt;scale: shortening, probably */</span></span><br><span class="line">    <span class="keyword">if</span> (scale&lt;<span class="number">0</span>)</span><br><span class="line">     <span class="comment">//--throw new java.lang.ArithmeticException("Negative scale:"+" "+scale);</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"setScale(): Negative scale: "</span> + scale;</span><br><span class="line">    <span class="comment">// [round() will raise exception if invalid round]</span></span><br><span class="line">    newlen=res.mant.length-((ourscale-scale)); <span class="comment">// [&lt;=0 is OK]</span></span><br><span class="line">    res=res.round(newlen,round); <span class="comment">// round to required length</span></span><br><span class="line">    <span class="comment">// This could have shifted left if round (say) 0.9-&gt;1[.0]</span></span><br><span class="line">    <span class="comment">// Repair if so by adding a zero and reducing exponent</span></span><br><span class="line">    <span class="keyword">if</span> (res.exp!=(-scale))</span><br><span class="line">     &#123;</span><br><span class="line">      res.mant=<span class="keyword">this</span>.extend(res.mant,res.mant.length+<span class="number">1</span>);</span><br><span class="line">      res.exp=res.exp<span class="number">-1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  res.form=MathContext.prototype.PLAIN; <span class="comment">// by definition</span></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a &lt;code&gt;short&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * If the &lt;code&gt;BigDecimal&lt;/code&gt; has a non-zero decimal part or is</span></span><br><span class="line"><span class="comment">  * out of the possible range for a &lt;code&gt;short&lt;/code&gt; (16-bit signed</span></span><br><span class="line"><span class="comment">  * integer) result then an &lt;code&gt;ArithmeticException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return A &lt;code&gt;short&lt;/code&gt; equal in value to &lt;code&gt;this&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;this&lt;/code&gt; has a non-zero</span></span><br><span class="line"><span class="comment">  *                 decimal part, or will not fit in a</span></span><br><span class="line"><span class="comment">  *                 &lt;code&gt;short&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public short shortValueExact()&#123;</span></span><br><span class="line"> <span class="comment">//-- int num;</span></span><br><span class="line"> <span class="comment">//-- num=this.intValueExact(); // will check decimal part too</span></span><br><span class="line"> <span class="comment">//-- if ((num&gt;32767)|(num&lt;(-32768)))</span></span><br><span class="line"> <span class="comment">//--  throw new java.lang.ArithmeticException("Conversion overflow:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//-- return (short)num;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the sign of this &lt;code&gt;BigDecimal&lt;/code&gt;, as an</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;int&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * This returns the &lt;i&gt;signum&lt;/i&gt; function value that represents the</span></span><br><span class="line"><span class="comment">  * sign of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * That is, -1 if the &lt;code&gt;BigDecimal&lt;/code&gt; is negative, 0 if it is</span></span><br><span class="line"><span class="comment">  * numerically equal to zero, or 1 if it is positive.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return An &lt;code&gt;int&lt;/code&gt; which is -1 if the</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;BigDecimal&lt;/code&gt; is negative, 0 if it is</span></span><br><span class="line"><span class="comment">  *         numerically equal to zero, or 1 if it is positive.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public int signum()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">signum</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.ind; <span class="comment">// [note this assumes values for ind.]</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.math.BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * This is an exact conversion; the result is the same as if the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; were formatted as a plain number without</span></span><br><span class="line"><span class="comment">  * any rounding or exponent and then the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.math.BigDecimal(java.lang.String)&lt;/code&gt; constructor</span></span><br><span class="line"><span class="comment">  * were used to construct the result.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * &lt;i&gt;(Note: this method is provided only in the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;com.ibm.icu.math&lt;/code&gt; version of the BigDecimal class.</span></span><br><span class="line"><span class="comment">  * It would not be present in a &lt;code&gt;java.math&lt;/code&gt; version.)&lt;/i&gt;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;java.math.BigDecimal&lt;/code&gt; equal in value</span></span><br><span class="line"><span class="comment">  *         to this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.math.BigDecimal toBigDecimal()&#123;</span></span><br><span class="line"> <span class="comment">//-- return new java.math.BigDecimal(this.unscaledValue(),this.scale());</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.math.BigInteger&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Any decimal part is truncated (discarded).</span></span><br><span class="line"><span class="comment">  * If an exception is desired should the decimal part be non-zero,</span></span><br><span class="line"><span class="comment">  * use &#123;@link #toBigIntegerExact()&#125;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;java.math.BigInteger&lt;/code&gt; equal in value</span></span><br><span class="line"><span class="comment">  *         to the integer part of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.math.BigInteger toBigInteger()&#123;</span></span><br><span class="line"> <span class="comment">//-- com.ibm.icu.math.BigDecimal res=null;</span></span><br><span class="line"> <span class="comment">//-- int newlen=0;</span></span><br><span class="line"> <span class="comment">//-- byte newmant[]=null;</span></span><br><span class="line"> <span class="comment">//-- &#123;/*select*/</span></span><br><span class="line"> <span class="comment">//-- if ((exp&gt;=0)&amp;(form==com.ibm.icu.math.MathContext.PLAIN))</span></span><br><span class="line"> <span class="comment">//--  res=this; // can layout simply</span></span><br><span class="line"> <span class="comment">//-- else if (exp&gt;=0)</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   res=clone(this); // safe copy</span></span><br><span class="line"> <span class="comment">//--   res.form=(byte)com.ibm.icu.math.MathContext.PLAIN; // .. and request PLAIN</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- else&#123;</span></span><br><span class="line"> <span class="comment">//--  &#123; // exp&lt;0; scale to be truncated</span></span><br><span class="line"> <span class="comment">//--   // we could use divideInteger, but we may as well be quicker</span></span><br><span class="line"> <span class="comment">//--   if (((int)-this.exp)&gt;=this.mant.length)</span></span><br><span class="line"> <span class="comment">//--    res=ZERO; // all blows away</span></span><br><span class="line"> <span class="comment">//--   else</span></span><br><span class="line"> <span class="comment">//--    &#123;</span></span><br><span class="line"> <span class="comment">//--     res=clone(this); // safe copy</span></span><br><span class="line"> <span class="comment">//--     newlen=res.mant.length+res.exp;</span></span><br><span class="line"> <span class="comment">//--     newmant=new byte[newlen]; // [shorter]</span></span><br><span class="line"> <span class="comment">//--     java.lang.System.arraycopy((java.lang.Object)res.mant,0,(java.lang.Object)newmant,0,newlen);</span></span><br><span class="line"> <span class="comment">//--     res.mant=newmant;</span></span><br><span class="line"> <span class="comment">//--     res.form=(byte)com.ibm.icu.math.MathContext.PLAIN;</span></span><br><span class="line"> <span class="comment">//--     res.exp=0;</span></span><br><span class="line"> <span class="comment">//--    &#125;</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"> <span class="comment">//-- return new BigInteger(new java.lang.String(res.layout()));</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Converts this &lt;code&gt;BigDecimal&lt;/code&gt; to a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;java.math.BigInteger&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * An exception is thrown if the decimal part (if any) is non-zero.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;java.math.BigInteger&lt;/code&gt; equal in value</span></span><br><span class="line"><span class="comment">  *         to the integer part of this &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws ArithmeticException if &lt;code&gt;this&lt;/code&gt; has a non-zero</span></span><br><span class="line"><span class="comment">  *         decimal part.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.math.BigInteger toBigIntegerExact()&#123;</span></span><br><span class="line"> <span class="comment">//-- /* test any trailing decimal part */</span></span><br><span class="line"> <span class="comment">//-- if (exp&lt;0)</span></span><br><span class="line"> <span class="comment">//--  &#123; // possible decimal part</span></span><br><span class="line"> <span class="comment">//--   /* all decimal places must be 0; note exp&lt;0 */</span></span><br><span class="line"> <span class="comment">//--   if ((!(allzero(mant,mant.length+exp))))</span></span><br><span class="line"> <span class="comment">//--    throw new java.lang.ArithmeticException("Decimal part non-zero:"+" "+this.toString());</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- return toBigInteger();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the &lt;code&gt;BigDecimal&lt;/code&gt; as a character array.</span></span><br><span class="line"><span class="comment">  * The result of this method is the same as using the</span></span><br><span class="line"><span class="comment">  * sequence &lt;code&gt;toString().toCharArray()&lt;/code&gt;, but avoids creating</span></span><br><span class="line"><span class="comment">  * the intermediate &lt;code&gt;String&lt;/code&gt; and &lt;code&gt;char[]&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * objects.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;char[]&lt;/code&gt; array corresponding to this</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public char[] toCharArray()&#123;</span></span><br><span class="line"> <span class="comment">//-- return layout();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the &lt;code&gt;BigDecimal&lt;/code&gt; as a &lt;code&gt;String&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * This returns a &lt;code&gt;String&lt;/code&gt; that exactly represents this</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt;, as defined in the decimal documentation</span></span><br><span class="line"><span class="comment">  * (see &#123;@link BigDecimal class header&#125;).</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * By definition, using the &#123;@link #BigDecimal(String)&#125; constructor</span></span><br><span class="line"><span class="comment">  * on the result &lt;code&gt;String&lt;/code&gt; will create a</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt; that is exactly equal to the original</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;String&lt;/code&gt; exactly corresponding to this</span></span><br><span class="line"><span class="comment">  *         &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @see    #format(int, int)</span></span><br><span class="line"><span class="comment">  * @see    #format(int, int, int, int, int, int)</span></span><br><span class="line"><span class="comment">  * @see    #toCharArray()</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.lang.String toString()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.layout().join(<span class="string">""</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Returns the number as a &lt;code&gt;BigInteger&lt;/code&gt; after removing the</span></span><br><span class="line"><span class="comment">  * scale.</span></span><br><span class="line"><span class="comment">  * That is, the number is expressed as a plain number, any decimal</span></span><br><span class="line"><span class="comment">  * point is then removed (retaining the digits of any decimal part),</span></span><br><span class="line"><span class="comment">  * and the result is then converted to a &lt;code&gt;BigInteger&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @return The &lt;code&gt;java.math.BigInteger&lt;/code&gt; equal in value to</span></span><br><span class="line"><span class="comment">  *         this &lt;code&gt;BigDecimal&lt;/code&gt; multiplied by ten to the</span></span><br><span class="line"><span class="comment">  *         power of &lt;code&gt;this.scale()&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public java.math.BigInteger unscaledValue()&#123;</span></span><br><span class="line"> <span class="comment">//-- com.ibm.icu.math.BigDecimal res=null;</span></span><br><span class="line"> <span class="comment">//-- if (exp&gt;=0)</span></span><br><span class="line"> <span class="comment">//--  res=this;</span></span><br><span class="line"> <span class="comment">//-- else</span></span><br><span class="line"> <span class="comment">//--  &#123;</span></span><br><span class="line"> <span class="comment">//--   res=clone(this); // safe copy</span></span><br><span class="line"> <span class="comment">//--   res.exp=0; // drop scale</span></span><br><span class="line"> <span class="comment">//--  &#125;</span></span><br><span class="line"> <span class="comment">//-- return res.toBigInteger();</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Translates a &lt;code&gt;double&lt;/code&gt; to a &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * Returns a &lt;code&gt;BigDecimal&lt;/code&gt; which is the decimal</span></span><br><span class="line"><span class="comment">  * representation of the 64-bit signed binary floating point</span></span><br><span class="line"><span class="comment">  * parameter. If the parameter is infinite, or is not a number (NaN),</span></span><br><span class="line"><span class="comment">  * a &lt;code&gt;NumberFormatException&lt;/code&gt; is thrown.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The number is constructed as though &lt;code&gt;num&lt;/code&gt; had been</span></span><br><span class="line"><span class="comment">  * converted to a &lt;code&gt;String&lt;/code&gt; using the</span></span><br><span class="line"><span class="comment">  * &lt;code&gt;Double.toString()&lt;/code&gt; method and the</span></span><br><span class="line"><span class="comment">  * &#123;@link #BigDecimal(java.lang.String)&#125; constructor had then been used.</span></span><br><span class="line"><span class="comment">  * This is typically not an exact conversion.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  dub The &lt;code&gt;double&lt;/code&gt; to be translated.</span></span><br><span class="line"><span class="comment">  * @return     The &lt;code&gt;BigDecimal&lt;/code&gt; equal in value to</span></span><br><span class="line"><span class="comment">  *             &lt;code&gt;dub&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the parameter is infinite or</span></span><br><span class="line"><span class="comment">  *             not a number.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public static com.ibm.icu.math.BigDecimal valueOf(double dub)&#123;</span></span><br><span class="line"> <span class="comment">//-- // Reminder: a zero double returns '0.0', so we cannot fastpath to</span></span><br><span class="line"> <span class="comment">//-- // use the constant ZERO.  This might be important enough to justify</span></span><br><span class="line"> <span class="comment">//-- // a factory approach, a cache, or a few private constants, later.</span></span><br><span class="line"> <span class="comment">//-- return new com.ibm.icu.math.BigDecimal((new java.lang.Double(dub)).toString());</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Translates a &lt;code&gt;long&lt;/code&gt; to a &lt;code&gt;BigDecimal&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * That is, returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose value is</span></span><br><span class="line"><span class="comment">  * equal to the given &lt;code&gt;long&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  lint The &lt;code&gt;long&lt;/code&gt; to be translated.</span></span><br><span class="line"><span class="comment">  * @return      The &lt;code&gt;BigDecimal&lt;/code&gt; equal in value to</span></span><br><span class="line"><span class="comment">  *              &lt;code&gt;lint&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public static com.ibm.icu.math.BigDecimal valueOf(long lint)&#123;</span></span><br><span class="line"> <span class="comment">//-- return valueOf(lint,0);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Translates a &lt;code&gt;long&lt;/code&gt; to a &lt;code&gt;BigDecimal&lt;/code&gt; with a</span></span><br><span class="line"><span class="comment">  * given scale.</span></span><br><span class="line"><span class="comment">  * That is, returns a plain &lt;code&gt;BigDecimal&lt;/code&gt; whose unscaled</span></span><br><span class="line"><span class="comment">  * value is equal to the given &lt;code&gt;long&lt;/code&gt;, adjusted by the</span></span><br><span class="line"><span class="comment">  * second parameter, &lt;code&gt;scale&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * The result is given by:</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;&lt;code&gt;</span></span><br><span class="line"><span class="comment">  * (new BigDecimal(lint)).divide(TEN.pow(new BigDecimal(scale)))</span></span><br><span class="line"><span class="comment">  * &lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * &lt;p&gt;</span></span><br><span class="line"><span class="comment">  * A &lt;code&gt;NumberFormatException&lt;/code&gt; is thrown if &lt;code&gt;scale&lt;/code&gt;</span></span><br><span class="line"><span class="comment">  * is negative.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param  lint  The &lt;code&gt;long&lt;/code&gt; to be translated.</span></span><br><span class="line"><span class="comment">  * @param  scale The &lt;code&gt;int&lt;/code&gt; scale to be applied.</span></span><br><span class="line"><span class="comment">  * @return       The &lt;code&gt;BigDecimal&lt;/code&gt; equal in value to</span></span><br><span class="line"><span class="comment">  *               &lt;code&gt;lint&lt;/code&gt;.</span></span><br><span class="line"><span class="comment">  * @throws NumberFormatException if the scale is negative.</span></span><br><span class="line"><span class="comment">  * @stable ICU 2.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--public static com.ibm.icu.math.BigDecimal valueOf(long lint,int scale)&#123;</span></span><br><span class="line"> <span class="comment">//-- com.ibm.icu.math.BigDecimal res=null;</span></span><br><span class="line"> <span class="comment">//-- &#123;/*select*/</span></span><br><span class="line"> <span class="comment">//-- if (lint==0)</span></span><br><span class="line"> <span class="comment">//--  res=ZERO;</span></span><br><span class="line"> <span class="comment">//-- else if (lint==1)</span></span><br><span class="line"> <span class="comment">//--  res=ONE;</span></span><br><span class="line"> <span class="comment">//-- else if (lint==10)</span></span><br><span class="line"> <span class="comment">//--  res=TEN;</span></span><br><span class="line"> <span class="comment">//-- else&#123;</span></span><br><span class="line"> <span class="comment">//--  res=new com.ibm.icu.math.BigDecimal(lint);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"> <span class="comment">//-- if (scale==0)</span></span><br><span class="line"> <span class="comment">//--  return res;</span></span><br><span class="line"> <span class="comment">//-- if (scale&lt;0)</span></span><br><span class="line"> <span class="comment">//--  throw new java.lang.NumberFormatException("Negative scale:"+" "+scale);</span></span><br><span class="line"> <span class="comment">//-- res=clone(res); // safe copy [do not mutate]</span></span><br><span class="line"> <span class="comment">//-- res.exp=(int)-scale; // exponent is -scale</span></span><br><span class="line"> <span class="comment">//-- return res;</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"> <span class="comment">/* Private methods                                                  */</span></span><br><span class="line"> <span class="comment">/* ---------------------------------------------------------------- */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Return char array value of a BigDecimal (conversion from</span></span><br><span class="line"><span class="comment">       BigDecimal to laid-out canonical char array).</span></span><br><span class="line"><span class="comment">    &lt;p&gt;The mantissa will either already have been rounded (following an</span></span><br><span class="line"><span class="comment">       operation) or will be of length appropriate (in the case of</span></span><br><span class="line"><span class="comment">       construction from an int, for example).</span></span><br><span class="line"><span class="comment">    &lt;p&gt;We must not alter the mantissa, here.</span></span><br><span class="line"><span class="comment">    &lt;p&gt;'form' describes whether we are to use exponential notation (and</span></span><br><span class="line"><span class="comment">       if so, which), or if we are to lay out as a plain/pure numeric.</span></span><br><span class="line"><span class="comment">    &lt;/sgml&gt; */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private char[] layout()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">layout</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--char cmant[];</span></span><br><span class="line">  <span class="keyword">var</span> cmant;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--java.lang.StringBuffer sb=null;</span></span><br><span class="line">  <span class="keyword">var</span> sb=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int euse=0;</span></span><br><span class="line">  <span class="keyword">var</span> euse=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int sig=0;</span></span><br><span class="line">  <span class="keyword">var</span> sig=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char csign=0;</span></span><br><span class="line">  <span class="keyword">var</span> csign=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--char rec[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> rec=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int needsign;</span></span><br><span class="line">  <span class="keyword">var</span> needsign;</span><br><span class="line">  <span class="comment">//--int mag;</span></span><br><span class="line">  <span class="keyword">var</span> mag;</span><br><span class="line">  <span class="comment">//--int len=0;</span></span><br><span class="line">  <span class="keyword">var</span> len=<span class="number">0</span>;</span><br><span class="line">  cmant=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="keyword">this</span>.mant.length); <span class="comment">// copy byte[] to a char[]</span></span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">18</span>=<span class="keyword">this</span>.mant.length;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">18</span>&gt;<span class="number">0</span>;$<span class="number">18</span>--,i++)&#123;</span><br><span class="line">   cmant[i]=<span class="keyword">this</span>.mant[i]+<span class="string">''</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.form!=MathContext.prototype.PLAIN)</span><br><span class="line">   &#123;<span class="comment">/* exponential notation needed */</span></span><br><span class="line">    <span class="comment">//--sb=new java.lang.StringBuffer(cmant.length+15); // -x.xxxE+999999999</span></span><br><span class="line">    sb=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.isneg)</span><br><span class="line">     sb += <span class="string">'-'</span>;</span><br><span class="line">    euse=(<span class="keyword">this</span>.exp+cmant.length)<span class="number">-1</span>; <span class="comment">// exponent to use</span></span><br><span class="line">    <span class="comment">/* setup sig=significant digits and copy to result */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.form==MathContext.prototype.SCIENTIFIC)</span><br><span class="line">     &#123; <span class="comment">// [default]</span></span><br><span class="line">      sb += cmant[<span class="number">0</span>]; <span class="comment">// significant character</span></span><br><span class="line">      <span class="keyword">if</span> (cmant.length&gt;<span class="number">1</span>)  <span class="comment">// have decimal part</span></span><br><span class="line">       <span class="comment">//--sb.append('.').append(cmant,1,cmant.length-1);</span></span><br><span class="line">       sb += <span class="string">'.'</span>;</span><br><span class="line">       sb += cmant.slice(<span class="number">1</span>).join(<span class="string">""</span>);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     &#123;<span class="attr">engineering</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">      sig=euse%<span class="number">3</span>; <span class="comment">// common</span></span><br><span class="line">      <span class="keyword">if</span> (sig&lt;<span class="number">0</span>)</span><br><span class="line">       sig=<span class="number">3</span>+sig; <span class="comment">// negative exponent</span></span><br><span class="line">      euse=euse-sig;</span><br><span class="line">      sig++;</span><br><span class="line">      <span class="keyword">if</span> (sig&gt;=cmant.length)</span><br><span class="line">       &#123; <span class="comment">// zero padding may be needed</span></span><br><span class="line">        <span class="comment">//--sb.append(cmant,0,cmant.length);</span></span><br><span class="line">        sb += cmant.join(<span class="string">""</span>);</span><br><span class="line">        &#123;<span class="keyword">var</span> $<span class="number">19</span>=sig-cmant.length;<span class="keyword">for</span>(;$<span class="number">19</span>&gt;<span class="number">0</span>;$<span class="number">19</span>--)&#123;</span><br><span class="line">         sb += <span class="string">'0'</span>;</span><br><span class="line">         &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">       &#123; <span class="comment">// decimal point needed</span></span><br><span class="line">        <span class="comment">//--sb.append(cmant,0,sig).append('.').append(cmant,sig,cmant.length-sig);</span></span><br><span class="line">        sb += cmant.slice(<span class="number">0</span>,sig).join(<span class="string">""</span>);</span><br><span class="line">        sb += <span class="string">'.'</span>;</span><br><span class="line">        sb += cmant.slice(sig).join(<span class="string">""</span>);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*engineering*/</span></span><br><span class="line">    <span class="keyword">if</span> (euse!=<span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">      <span class="keyword">if</span> (euse&lt;<span class="number">0</span>)</span><br><span class="line">       &#123;</span><br><span class="line">        csign=<span class="string">'-'</span>;</span><br><span class="line">        euse=-euse;</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">       csign=<span class="string">'+'</span>;</span><br><span class="line">      <span class="comment">//--sb.append('E').append(csign).append(euse);</span></span><br><span class="line">      sb += <span class="string">'E'</span>;</span><br><span class="line">      sb += csign;</span><br><span class="line">      sb += euse;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="comment">//--rec=new Array(sb.length);</span></span><br><span class="line">    <span class="comment">//--Utility.getChars(sb, 0,sb.length(),rec,0);</span></span><br><span class="line">    <span class="comment">//--return rec;</span></span><br><span class="line">    <span class="keyword">return</span> sb.split(<span class="string">""</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Here for non-exponential (plain) notation */</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.exp==<span class="number">0</span>)</span><br><span class="line">   &#123;<span class="comment">/* easy */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ind&gt;=<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">return</span> cmant; <span class="comment">// non-negative integer</span></span><br><span class="line">    rec=<span class="keyword">new</span> <span class="built_in">Array</span>(cmant.length+<span class="number">1</span>);</span><br><span class="line">    rec[<span class="number">0</span>]=<span class="string">'-'</span>;</span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)cmant,0,(java.lang.Object)rec,1,cmant.length);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(cmant,<span class="number">0</span>,rec,<span class="number">1</span>,cmant.length);</span><br><span class="line">    <span class="keyword">return</span> rec;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Need a '.' and/or some zeros */</span></span><br><span class="line">  needsign=((<span class="keyword">this</span>.ind==<span class="keyword">this</span>.isneg)?<span class="number">1</span>:<span class="number">0</span>); <span class="comment">// space for sign?  0 or 1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* MAG is the position of the point in the mantissa (index of the</span></span><br><span class="line"><span class="comment">     character it follows) */</span></span><br><span class="line">  mag=<span class="keyword">this</span>.exp+cmant.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mag&lt;<span class="number">1</span>)</span><br><span class="line">   &#123;<span class="comment">/* 0.00xxxx form */</span></span><br><span class="line">    len=(needsign+<span class="number">2</span>)-<span class="keyword">this</span>.exp; <span class="comment">// needsign+2+(-mag)+cmant.length</span></span><br><span class="line">    rec=<span class="keyword">new</span> <span class="built_in">Array</span>(len);</span><br><span class="line">    <span class="keyword">if</span> (needsign!=<span class="number">0</span>)</span><br><span class="line">     rec[<span class="number">0</span>]=<span class="string">'-'</span>;</span><br><span class="line">    rec[needsign]=<span class="string">'0'</span>;</span><br><span class="line">    rec[needsign+<span class="number">1</span>]=<span class="string">'.'</span>;</span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">20</span>=-mag;i=needsign+<span class="number">2</span>;i:<span class="keyword">for</span>(;$<span class="number">20</span>&gt;<span class="number">0</span>;$<span class="number">20</span>--,i++)&#123; <span class="comment">// maybe none</span></span><br><span class="line">     rec[i]=<span class="string">'0'</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)cmant,0,(java.lang.Object)rec,(needsign+2)-mag,cmant.length);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(cmant,<span class="number">0</span>,rec,(needsign+<span class="number">2</span>)-mag,cmant.length);</span><br><span class="line">    <span class="keyword">return</span> rec;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mag&gt;cmant.length)</span><br><span class="line">   &#123;<span class="comment">/* xxxx0000 form */</span></span><br><span class="line">    len=needsign+mag;</span><br><span class="line">    rec=<span class="keyword">new</span> <span class="built_in">Array</span>(len);</span><br><span class="line">    <span class="keyword">if</span> (needsign!=<span class="number">0</span>)</span><br><span class="line">     rec[<span class="number">0</span>]=<span class="string">'-'</span>;</span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)cmant,0,(java.lang.Object)rec,needsign,cmant.length);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(cmant,<span class="number">0</span>,rec,needsign,cmant.length);</span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">21</span>=mag-cmant.length;i=needsign+cmant.length;i:<span class="keyword">for</span>(;$<span class="number">21</span>&gt;<span class="number">0</span>;$<span class="number">21</span>--,i++)&#123; <span class="comment">// never 0</span></span><br><span class="line">     rec[i]=<span class="string">'0'</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*i*/</span></span><br><span class="line">    <span class="keyword">return</span> rec;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* decimal point is in the middle of the mantissa */</span></span><br><span class="line">  len=(needsign+<span class="number">1</span>)+cmant.length;</span><br><span class="line">  rec=<span class="keyword">new</span> <span class="built_in">Array</span>(len);</span><br><span class="line">  <span class="keyword">if</span> (needsign!=<span class="number">0</span>)</span><br><span class="line">   rec[<span class="number">0</span>]=<span class="string">'-'</span>;</span><br><span class="line">  <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)cmant,0,(java.lang.Object)rec,needsign,mag);</span></span><br><span class="line">  <span class="keyword">this</span>.arraycopy(cmant,<span class="number">0</span>,rec,needsign,mag);</span><br><span class="line">  rec[needsign+mag]=<span class="string">'.'</span>;</span><br><span class="line">  <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)cmant,mag,(java.lang.Object)rec,(needsign+mag)+1,cmant.length-mag);</span></span><br><span class="line">  <span class="keyword">this</span>.arraycopy(cmant,mag,rec,(needsign+mag)+<span class="number">1</span>,cmant.length-mag);</span><br><span class="line">  <span class="keyword">return</span> rec;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Checks a BigDecimal argument to ensure it's a true integer</span></span><br><span class="line"><span class="comment">       in a given range.</span></span><br><span class="line"><span class="comment">    &lt;p&gt;If OK, returns it as an int. &lt;/sgml&gt; */</span></span><br><span class="line"> <span class="comment">// [currently only used by pow]</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private int intcheck(int min,int max)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">intcheck</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int i;</span></span><br><span class="line">  <span class="keyword">var</span> i;</span><br><span class="line">  i=<span class="keyword">this</span>.intValueExact(); <span class="comment">// [checks for non-0 decimal part]</span></span><br><span class="line">  <span class="comment">// Use same message as though intValueExact failed due to size</span></span><br><span class="line">  <span class="keyword">if</span> ((i&lt;min)||(i&gt;max))</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"intcheck(): Conversion overflow: "</span>+i;</span><br><span class="line">  <span class="keyword">return</span> i;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Carry out division operations. &lt;/sgml&gt; */</span></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Arg1 is operation code: D=divide, I=integer divide, R=remainder</span></span><br><span class="line"><span class="comment">    Arg2 is the rhs.</span></span><br><span class="line"><span class="comment">    Arg3 is the context.</span></span><br><span class="line"><span class="comment">    Arg4 is explicit scale iff code='D' or 'I' (-1 if none).</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Underlying algorithm (complications for Remainder function and</span></span><br><span class="line"><span class="comment">    scaled division are omitted for clarity):</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      Test for x/0 and then 0/x</span></span><br><span class="line"><span class="comment">      Exp =Exp1 - Exp2</span></span><br><span class="line"><span class="comment">      Exp =Exp +len(var1) -len(var2)</span></span><br><span class="line"><span class="comment">      Sign=Sign1 * Sign2</span></span><br><span class="line"><span class="comment">      Pad accumulator (Var1) to double-length with 0's (pad1)</span></span><br><span class="line"><span class="comment">      Pad Var2 to same length as Var1</span></span><br><span class="line"><span class="comment">      B2B=1st two digits of var2, +1 to allow for roundup</span></span><br><span class="line"><span class="comment">      have=0</span></span><br><span class="line"><span class="comment">      Do until (have=digits+1 OR residue=0)</span></span><br><span class="line"><span class="comment">        if exp&lt;0 then if integer divide/residue then leave</span></span><br><span class="line"><span class="comment">        this_digit=0</span></span><br><span class="line"><span class="comment">        Do forever</span></span><br><span class="line"><span class="comment">           compare numbers</span></span><br><span class="line"><span class="comment">           if &lt;0 then leave inner_loop</span></span><br><span class="line"><span class="comment">           if =0 then (- quick exit without subtract -) do</span></span><br><span class="line"><span class="comment">              this_digit=this_digit+1; output this_digit</span></span><br><span class="line"><span class="comment">              leave outer_loop; end</span></span><br><span class="line"><span class="comment">           Compare lengths of numbers (mantissae):</span></span><br><span class="line"><span class="comment">           If same then CA=first_digit_of_Var1</span></span><br><span class="line"><span class="comment">                   else CA=first_two_digits_of_Var1</span></span><br><span class="line"><span class="comment">           mult=ca*10/b2b   -- Good and safe guess at divisor</span></span><br><span class="line"><span class="comment">           if mult=0 then mult=1</span></span><br><span class="line"><span class="comment">           this_digit=this_digit+mult</span></span><br><span class="line"><span class="comment">           subtract</span></span><br><span class="line"><span class="comment">           end inner_loop</span></span><br><span class="line"><span class="comment">         if have\=0 | this_digit\=0 then do</span></span><br><span class="line"><span class="comment">           output this_digit</span></span><br><span class="line"><span class="comment">           have=have+1; end</span></span><br><span class="line"><span class="comment">         var2=var2/10</span></span><br><span class="line"><span class="comment">         exp=exp-1</span></span><br><span class="line"><span class="comment">         end outer_loop</span></span><br><span class="line"><span class="comment">      exp=exp+1   -- set the proper exponent</span></span><br><span class="line"><span class="comment">      if have=0 then generate answer=0</span></span><br><span class="line"><span class="comment">      Return to FINISHED</span></span><br><span class="line"><span class="comment">      Result defined by MATHV1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    For extended commentary, see DMSRCN.</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private com.ibm.icu.math.BigDecimal dodivide(char code,com.ibm.icu.math.BigDecimal rhs,com.ibm.icu.math.MathContext set,int scale)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">dodivide</span>(<span class="params">code, rhs, set, scale</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal lhs;</span></span><br><span class="line">  <span class="keyword">var</span> lhs;</span><br><span class="line">  <span class="comment">//--int reqdig;</span></span><br><span class="line">  <span class="keyword">var</span> reqdig;</span><br><span class="line">  <span class="comment">//--int newexp;</span></span><br><span class="line">  <span class="keyword">var</span> newexp;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal res;</span></span><br><span class="line">  <span class="keyword">var</span> res;</span><br><span class="line">  <span class="comment">//--int newlen;</span></span><br><span class="line">  <span class="keyword">var</span> newlen;</span><br><span class="line">  <span class="comment">//--byte var1[];</span></span><br><span class="line">  <span class="keyword">var</span> var1;</span><br><span class="line">  <span class="comment">//--int var1len;</span></span><br><span class="line">  <span class="keyword">var</span> var1len;</span><br><span class="line">  <span class="comment">//--byte var2[];</span></span><br><span class="line">  <span class="keyword">var</span> var2;</span><br><span class="line">  <span class="comment">//--int var2len;</span></span><br><span class="line">  <span class="keyword">var</span> var2len;</span><br><span class="line">  <span class="comment">//--int b2b;</span></span><br><span class="line">  <span class="keyword">var</span> b2b;</span><br><span class="line">  <span class="comment">//--int have;</span></span><br><span class="line">  <span class="keyword">var</span> have;</span><br><span class="line">  <span class="comment">//--int thisdigit=0;</span></span><br><span class="line">  <span class="keyword">var</span> thisdigit=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte v2=0;</span></span><br><span class="line">  <span class="keyword">var</span> v2=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int ba=0;</span></span><br><span class="line">  <span class="keyword">var</span> ba=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int mult=0;</span></span><br><span class="line">  <span class="keyword">var</span> mult=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int start=0;</span></span><br><span class="line">  <span class="keyword">var</span> start=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int padding=0;</span></span><br><span class="line">  <span class="keyword">var</span> padding=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int d=0;</span></span><br><span class="line">  <span class="keyword">var</span> d=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte newvar1[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newvar1=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--byte lasthave=0;</span></span><br><span class="line">  <span class="keyword">var</span> lasthave=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int actdig=0;</span></span><br><span class="line">  <span class="keyword">var</span> actdig=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte newmant[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newmant=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (set.lostDigits)</span><br><span class="line">   <span class="keyword">this</span>.checkdigits(rhs,set.digits);</span><br><span class="line">  lhs=<span class="keyword">this</span>; <span class="comment">// name for clarity</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// [note we must have checked lostDigits before the following checks]</span></span><br><span class="line">  <span class="keyword">if</span> (rhs.ind==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"dodivide(): Divide by 0"</span>; <span class="comment">// includes 0/0</span></span><br><span class="line">  <span class="keyword">if</span> (lhs.ind==<span class="number">0</span>)</span><br><span class="line">   &#123; <span class="comment">// 0/x =&gt; 0 [possibly with .0s]</span></span><br><span class="line">    <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.ZERO;</span><br><span class="line">    <span class="keyword">if</span> (scale==(<span class="number">-1</span>))</span><br><span class="line">     <span class="keyword">return</span> lhs;</span><br><span class="line">    <span class="keyword">return</span> lhs.setScale(scale);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Prepare numbers according to BigDecimal rules */</span></span><br><span class="line">  reqdig=set.digits; <span class="comment">// local copy (heavily used)</span></span><br><span class="line">  <span class="keyword">if</span> (reqdig&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">if</span> (lhs.mant.length&gt;reqdig)</span><br><span class="line">     lhs=<span class="keyword">this</span>.clone(lhs).round(set);</span><br><span class="line">    <span class="keyword">if</span> (rhs.mant.length&gt;reqdig)</span><br><span class="line">     rhs=<span class="keyword">this</span>.clone(rhs).round(set);</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* scaled divide */</span></span><br><span class="line">    <span class="keyword">if</span> (scale==(<span class="number">-1</span>))</span><br><span class="line">     scale=lhs.scale();</span><br><span class="line">    <span class="comment">// set reqdig to be at least large enough for the computation</span></span><br><span class="line">    reqdig=lhs.mant.length; <span class="comment">// base length</span></span><br><span class="line">    <span class="comment">// next line handles both positive lhs.exp and also scale mismatch</span></span><br><span class="line">    <span class="keyword">if</span> (scale!=(-lhs.exp))</span><br><span class="line">     reqdig=(reqdig+scale)+lhs.exp;</span><br><span class="line">    reqdig=(reqdig-((rhs.mant.length<span class="number">-1</span>)))-rhs.exp; <span class="comment">// reduce by RHS effect</span></span><br><span class="line">    <span class="keyword">if</span> (reqdig&lt;lhs.mant.length)</span><br><span class="line">     reqdig=lhs.mant.length; <span class="comment">// clamp</span></span><br><span class="line">    <span class="keyword">if</span> (reqdig&lt;rhs.mant.length)</span><br><span class="line">     reqdig=rhs.mant.length; <span class="comment">// ..</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* precalculate exponent */</span></span><br><span class="line">  newexp=((lhs.exp-rhs.exp)+lhs.mant.length)-rhs.mant.length;</span><br><span class="line">  <span class="comment">/* If new exponent -ve, then some quick exits are possible */</span></span><br><span class="line">  <span class="keyword">if</span> (newexp&lt;<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">if</span> (code!=<span class="string">'D'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="keyword">if</span> (code==<span class="string">'I'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.ZERO; <span class="comment">// easy - no integer part</span></span><br><span class="line">     <span class="comment">/* Must be 'R'; remainder is [finished clone of] input value */</span></span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.clone(lhs).finish(set,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* We need slow division */</span></span><br><span class="line">  res=<span class="keyword">new</span> BigDecimal(); <span class="comment">// where we'll build result</span></span><br><span class="line">  res.ind=(lhs.ind*rhs.ind); <span class="comment">// final sign (for D/I)</span></span><br><span class="line">  res.exp=newexp; <span class="comment">// initial exponent (for D/I)</span></span><br><span class="line">  res.mant=<span class="keyword">this</span>.createArrayWithZeros(reqdig+<span class="number">1</span>); <span class="comment">// where build the result</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Now [virtually pad the mantissae with trailing zeros */</span></span><br><span class="line">  <span class="comment">// Also copy the LHS, which will be our working array</span></span><br><span class="line">  newlen=(reqdig+reqdig)+<span class="number">1</span>;</span><br><span class="line">  var1=<span class="keyword">this</span>.extend(lhs.mant,newlen); <span class="comment">// always makes longer, so new safe array</span></span><br><span class="line">  var1len=newlen; <span class="comment">// [remaining digits are 0]</span></span><br><span class="line"></span><br><span class="line">  var2=rhs.mant;</span><br><span class="line">  var2len=newlen;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Calculate first two digits of rhs (var2), +1 for later estimations */</span></span><br><span class="line">  b2b=(var2[<span class="number">0</span>]*<span class="number">10</span>)+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (var2.length&gt;<span class="number">1</span>)</span><br><span class="line">   b2b=b2b+var2[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* start the long-division loops */</span></span><br><span class="line">  have=<span class="number">0</span>;</span><br><span class="line">  &#123;<span class="attr">outer</span>:<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">   thisdigit=<span class="number">0</span>;</span><br><span class="line">   <span class="comment">/* find the next digit */</span></span><br><span class="line">   &#123;<span class="attr">inner</span>:<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">    <span class="keyword">if</span> (var1len&lt;var2len)</span><br><span class="line">     <span class="keyword">break</span> inner; <span class="comment">// V1 too low</span></span><br><span class="line">    <span class="keyword">if</span> (var1len==var2len)</span><br><span class="line">     &#123; <span class="comment">// compare needed</span></span><br><span class="line">      &#123;<span class="attr">compare</span>:<span class="keyword">do</span>&#123; <span class="comment">// comparison</span></span><br><span class="line">       &#123;<span class="keyword">var</span> $<span class="number">22</span>=var1len;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">22</span>&gt;<span class="number">0</span>;$<span class="number">22</span>--,i++)&#123;</span><br><span class="line">        <span class="comment">// var1len is always &lt;= var1.length</span></span><br><span class="line">        <span class="keyword">if</span> (i&lt;var2.length)</span><br><span class="line">         v2=var2[i];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">         v2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (var1[i]&lt;v2)</span><br><span class="line">         <span class="keyword">break</span> inner; <span class="comment">// V1 too low</span></span><br><span class="line">        <span class="keyword">if</span> (var1[i]&gt;v2)</span><br><span class="line">         <span class="keyword">break</span> compare; <span class="comment">// OK to subtract</span></span><br><span class="line">        &#125;</span><br><span class="line">       &#125;<span class="comment">/*i*/</span></span><br><span class="line">       <span class="comment">/* reach here if lhs and rhs are identical; subtraction will</span></span><br><span class="line"><span class="comment">          increase digit by one, and the residue will be 0 so we</span></span><br><span class="line"><span class="comment">          are done; leave the loop with residue set to 0 (in case</span></span><br><span class="line"><span class="comment">          code is 'R' or ROUND_UNNECESSARY or a ROUND_HALF_xxxx is</span></span><br><span class="line"><span class="comment">          being checked) */</span></span><br><span class="line">       thisdigit++;</span><br><span class="line">       res.mant[have]=thisdigit;</span><br><span class="line">       have++;</span><br><span class="line">       var1[<span class="number">0</span>]=<span class="number">0</span>; <span class="comment">// residue to 0 [this is all we'll test]</span></span><br><span class="line">       <span class="comment">// var1len=1      -- [optimized out]</span></span><br><span class="line">       <span class="keyword">break</span> outer;</span><br><span class="line">      &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*compare*/</span></span><br><span class="line">      <span class="comment">/* prepare for subtraction.  Estimate BA (lengths the same) */</span></span><br><span class="line">      ba=var1[<span class="number">0</span>]; <span class="comment">// use only first digit</span></span><br><span class="line">     &#125; <span class="comment">// lengths the same</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     &#123;<span class="comment">/* lhs longer than rhs */</span></span><br><span class="line">      <span class="comment">/* use first two digits for estimate */</span></span><br><span class="line">      ba=var1[<span class="number">0</span>]*<span class="number">10</span>;</span><br><span class="line">      <span class="keyword">if</span> (var1len&gt;<span class="number">1</span>)</span><br><span class="line">       ba=ba+var1[<span class="number">1</span>];</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="comment">/* subtraction needed; V1&gt;=V2 */</span></span><br><span class="line">    mult=div((ba*<span class="number">10</span>),b2b);</span><br><span class="line">    <span class="keyword">if</span> (mult==<span class="number">0</span>)</span><br><span class="line">     mult=<span class="number">1</span>;</span><br><span class="line">    thisdigit=thisdigit+mult;</span><br><span class="line">    <span class="comment">// subtract; var1 reusable</span></span><br><span class="line">    var1=<span class="keyword">this</span>.byteaddsub(var1,var1len,var2,var2len,-mult,<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">if</span> (var1[<span class="number">0</span>]!=<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">continue</span> inner; <span class="comment">// maybe another subtract needed</span></span><br><span class="line">    <span class="comment">/* V1 now probably has leading zeros, remove leading 0's and try</span></span><br><span class="line"><span class="comment">       again. (It could be longer than V2) */</span></span><br><span class="line">    &#123;<span class="keyword">var</span> $<span class="number">23</span>=var1len<span class="number">-2</span>;start=<span class="number">0</span>;start:<span class="keyword">for</span>(;start&lt;=$<span class="number">23</span>;start++)&#123;</span><br><span class="line">     <span class="keyword">if</span> (var1[start]!=<span class="number">0</span>)</span><br><span class="line">      <span class="keyword">break</span> start;</span><br><span class="line">     var1len--;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;<span class="comment">/*start*/</span></span><br><span class="line">    <span class="keyword">if</span> (start==<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">continue</span> inner;</span><br><span class="line">    <span class="comment">// shift left</span></span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)var1,start,(java.lang.Object)var1,0,var1len);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(var1,start,var1,<span class="number">0</span>,var1len);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="comment">/*inner*/</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* We have the next digit */</span></span><br><span class="line">   <span class="keyword">if</span> ((have!=<span class="number">0</span>)||(thisdigit!=<span class="number">0</span>))</span><br><span class="line">    &#123; <span class="comment">// put the digit we got</span></span><br><span class="line">     res.mant[have]=thisdigit;</span><br><span class="line">     have++;</span><br><span class="line">     <span class="keyword">if</span> (have==(reqdig+<span class="number">1</span>))</span><br><span class="line">      <span class="keyword">break</span> outer; <span class="comment">// we have all we need</span></span><br><span class="line">     <span class="keyword">if</span> (var1[<span class="number">0</span>]==<span class="number">0</span>)</span><br><span class="line">      <span class="keyword">break</span> outer; <span class="comment">// residue now 0</span></span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">/* can leave now if a scaled divide and exponent is small enough */</span></span><br><span class="line">   <span class="keyword">if</span> (scale&gt;=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> ((-res.exp)&gt;scale)</span><br><span class="line">     <span class="keyword">break</span> outer;</span><br><span class="line">   <span class="comment">/* can leave now if not Divide and no integer part left  */</span></span><br><span class="line">   <span class="keyword">if</span> (code!=<span class="string">'D'</span>)</span><br><span class="line">    <span class="keyword">if</span> (res.exp&lt;=<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">break</span> outer;</span><br><span class="line">   res.exp=res.exp<span class="number">-1</span>; <span class="comment">// reduce the exponent</span></span><br><span class="line">   <span class="comment">/* to get here, V1 is less than V2, so divide V2 by 10 and go for</span></span><br><span class="line"><span class="comment">      the next digit */</span></span><br><span class="line">   var2len--;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*outer*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* here when we have finished dividing, for some reason */</span></span><br><span class="line">  <span class="comment">// have is the number of digits we collected in res.mant</span></span><br><span class="line">  <span class="keyword">if</span> (have==<span class="number">0</span>)</span><br><span class="line">   have=<span class="number">1</span>; <span class="comment">// res.mant[0] is 0; we always want a digit</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ((code==<span class="string">'I'</span>)||(code==<span class="string">'R'</span>))</span><br><span class="line">   &#123;<span class="comment">/* check for integer overflow needed */</span></span><br><span class="line">    <span class="keyword">if</span> ((have+res.exp)&gt;reqdig)</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"dodivide(): Integer overflow"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (code==<span class="string">'R'</span>)</span><br><span class="line">     &#123;<span class="attr">remainder</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">      <span class="comment">/* We were doing Remainder -- return the residue */</span></span><br><span class="line">      <span class="keyword">if</span> (res.mant[<span class="number">0</span>]==<span class="number">0</span>)  <span class="comment">// no integer part was found</span></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.clone(lhs).finish(set,<span class="literal">false</span>); <span class="comment">// .. so return lhs, canonical</span></span><br><span class="line">      <span class="keyword">if</span> (var1[<span class="number">0</span>]==<span class="number">0</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.ZERO; <span class="comment">// simple 0 residue</span></span><br><span class="line">      res.ind=lhs.ind; <span class="comment">// sign is always as LHS</span></span><br><span class="line">      <span class="comment">/* Calculate the exponent by subtracting the number of padding zeros</span></span><br><span class="line"><span class="comment">         we added and adding the original exponent */</span></span><br><span class="line">      padding=((reqdig+reqdig)+<span class="number">1</span>)-lhs.mant.length;</span><br><span class="line">      res.exp=(res.exp-padding)+lhs.exp;</span><br><span class="line"></span><br><span class="line">      <span class="comment">/* strip insignificant padding zeros from residue, and create/copy</span></span><br><span class="line"><span class="comment">         the resulting mantissa if need be */</span></span><br><span class="line">      d=var1len;</span><br><span class="line">      &#123;i=d<span class="number">-1</span>;i:<span class="keyword">for</span>(;i&gt;=<span class="number">1</span>;i--)&#123;<span class="keyword">if</span>(!((res.exp&lt;lhs.exp)&amp;&amp;(res.exp&lt;rhs.exp)))<span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">if</span> (var1[i]!=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">break</span> i;</span><br><span class="line">       d--;</span><br><span class="line">       res.exp=res.exp+<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">      &#125;<span class="comment">/*i*/</span></span><br><span class="line">      <span class="keyword">if</span> (d&lt;var1.length)</span><br><span class="line">       &#123;<span class="comment">/* need to reduce */</span></span><br><span class="line">        newvar1=<span class="keyword">new</span> <span class="built_in">Array</span>(d);</span><br><span class="line">        <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)var1,0,(java.lang.Object)newvar1,0,d); // shorten</span></span><br><span class="line">        <span class="keyword">this</span>.arraycopy(var1,<span class="number">0</span>,newvar1,<span class="number">0</span>,d);</span><br><span class="line">        var1=newvar1;</span><br><span class="line">       &#125;</span><br><span class="line">      res.mant=var1;</span><br><span class="line">      <span class="keyword">return</span> res.finish(set,<span class="literal">false</span>);</span><br><span class="line">     &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*remainder*/</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* 'D' -- no overflow check needed */</span></span><br><span class="line">    <span class="comment">// If there was a residue then bump the final digit (iff 0 or 5)</span></span><br><span class="line">    <span class="comment">// so that the residue is visible for ROUND_UP, ROUND_HALF_xxx and</span></span><br><span class="line">    <span class="comment">// ROUND_UNNECESSARY checks (etc.) later.</span></span><br><span class="line">    <span class="comment">// [if we finished early, the residue will be 0]</span></span><br><span class="line">    <span class="keyword">if</span> (var1[<span class="number">0</span>]!=<span class="number">0</span>)</span><br><span class="line">     &#123; <span class="comment">// residue not 0</span></span><br><span class="line">      lasthave=res.mant[have<span class="number">-1</span>];</span><br><span class="line">      <span class="keyword">if</span> (((lasthave%<span class="number">5</span>))==<span class="number">0</span>)</span><br><span class="line">       res.mant[have<span class="number">-1</span>]=(lasthave+<span class="number">1</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Here for Divide or Integer Divide */</span></span><br><span class="line">  <span class="comment">// handle scaled results first ['I' always scale 0, optional for 'D']</span></span><br><span class="line">  <span class="keyword">if</span> (scale&gt;=<span class="number">0</span>)</span><br><span class="line">   &#123;<span class="attr">scaled</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="comment">// say 'scale have res.exp len' scale have res.exp res.mant.length</span></span><br><span class="line">    <span class="keyword">if</span> (have!=res.mant.length)</span><br><span class="line">     <span class="comment">// already padded with 0's, so just adjust exponent</span></span><br><span class="line">     res.exp=res.exp-((res.mant.length-have));</span><br><span class="line">    <span class="comment">// calculate number of digits we really want [may be 0]</span></span><br><span class="line">    actdig=res.mant.length-(((-res.exp)-scale));</span><br><span class="line">    res.round(actdig,set.roundingMode); <span class="comment">// round to desired length</span></span><br><span class="line">    <span class="comment">// This could have shifted left if round (say) 0.9-&gt;1[.0]</span></span><br><span class="line">    <span class="comment">// Repair if so by adding a zero and reducing exponent</span></span><br><span class="line">    <span class="keyword">if</span> (res.exp!=(-scale))</span><br><span class="line">     &#123;</span><br><span class="line">      res.mant=<span class="keyword">this</span>.extend(res.mant,res.mant.length+<span class="number">1</span>);</span><br><span class="line">      res.exp=res.exp<span class="number">-1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">return</span> res.finish(set,<span class="literal">true</span>); <span class="comment">// [strip if not PLAIN]</span></span><br><span class="line">   &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*scaled*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// reach here only if a non-scaled</span></span><br><span class="line">  <span class="keyword">if</span> (have==res.mant.length)</span><br><span class="line">   &#123; <span class="comment">// got digits+1 digits</span></span><br><span class="line">    res.round(set);</span><br><span class="line">    have=reqdig;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* have&lt;=reqdig */</span></span><br><span class="line">    <span class="keyword">if</span> (res.mant[<span class="number">0</span>]==<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>.ZERO; <span class="comment">// fastpath</span></span><br><span class="line">    <span class="comment">// make the mantissa truly just 'have' long</span></span><br><span class="line">    <span class="comment">// [we could let finish do this, during strip, if we adjusted</span></span><br><span class="line">    <span class="comment">// the exponent; however, truncation avoids the strip loop]</span></span><br><span class="line">    newmant=<span class="keyword">new</span> <span class="built_in">Array</span>(have); <span class="comment">// shorten</span></span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)res.mant,0,(java.lang.Object)newmant,0,have);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(res.mant,<span class="number">0</span>,newmant,<span class="number">0</span>,have);</span><br><span class="line">    res.mant=newmant;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">return</span> res.finish(set,<span class="literal">true</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Report a conversion exception. &lt;/sgml&gt; */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private void bad(char s[])&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">bad</span>(<span class="params">prefix, s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> prefix + <span class="string">"Not a number: "</span>+s;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Report a bad argument to a method. &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Arg1 is method name</span></span><br><span class="line"><span class="comment">    Arg2 is argument position</span></span><br><span class="line"><span class="comment">    Arg3 is what was found */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private void badarg(java.lang.String name,int pos,java.lang.String value)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">badarg</span>(<span class="params">name, pos, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="string">"Bad argument "</span>+pos+<span class="string">" to "</span>+name+<span class="string">": "</span>+value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Extend byte array to given length, padding with 0s.  If no</span></span><br><span class="line"><span class="comment">    extension is required then return the same array. &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Arg1 is the source byte array</span></span><br><span class="line"><span class="comment">    Arg2 is the new length (longer)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final byte[] extend(byte inarr[],int newlen)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">inarr, newlen</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--byte newarr[];</span></span><br><span class="line">  <span class="keyword">var</span> newarr;</span><br><span class="line">  <span class="keyword">if</span> (inarr.length==newlen)</span><br><span class="line">   <span class="keyword">return</span> inarr;</span><br><span class="line">  newarr=createArrayWithZeros(newlen);</span><br><span class="line">  <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)inarr,0,(java.lang.Object)newarr,0,inarr.length);</span></span><br><span class="line">  <span class="keyword">this</span>.arraycopy(inarr,<span class="number">0</span>,newarr,<span class="number">0</span>,inarr.length);</span><br><span class="line">  <span class="comment">// 0 padding is carried out by the JVM on allocation initialization</span></span><br><span class="line">  <span class="keyword">return</span> newarr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Add or subtract two &gt;=0 integers in byte arrays</span></span><br><span class="line"><span class="comment">    &lt;p&gt;This routine performs the calculation:</span></span><br><span class="line"><span class="comment">    &lt;pre&gt;</span></span><br><span class="line"><span class="comment">    C=A+(B*M)</span></span><br><span class="line"><span class="comment">    &lt;/pre&gt;</span></span><br><span class="line"><span class="comment">    Where M is in the range -9 through +9</span></span><br><span class="line"><span class="comment">    &lt;p&gt;</span></span><br><span class="line"><span class="comment">    If M&lt;0 then A&gt;=B must be true, so the result is always</span></span><br><span class="line"><span class="comment">    non-negative.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Leading zeros are not removed after a subtraction.  The result is</span></span><br><span class="line"><span class="comment">    either the same length as the longer of A and B, or 1 longer than</span></span><br><span class="line"><span class="comment">    that (if a carry occurred).</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    A is not altered unless Arg6 is 1.</span></span><br><span class="line"><span class="comment">    B is never altered.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Arg1 is A</span></span><br><span class="line"><span class="comment">    Arg2 is A length to use (if longer than A, pad with 0's)</span></span><br><span class="line"><span class="comment">    Arg3 is B</span></span><br><span class="line"><span class="comment">    Arg4 is B length to use (if longer than B, pad with 0's)</span></span><br><span class="line"><span class="comment">    Arg5 is M, the multiplier</span></span><br><span class="line"><span class="comment">    Arg6 is 1 if A can be used to build the result (if it fits)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    This routine is severely performance-critical; *any* change here</span></span><br><span class="line"><span class="comment">    must be measured (timed) to assure no performance degradation.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"> <span class="comment">// 1996.02.20 -- enhanced version of DMSRCN algorithm (1981)</span></span><br><span class="line"> <span class="comment">// 1997.10.05 -- changed to byte arrays (from char arrays)</span></span><br><span class="line"> <span class="comment">// 1998.07.01 -- changed to allow destructive reuse of LHS</span></span><br><span class="line"> <span class="comment">// 1998.07.01 -- changed to allow virtual lengths for the arrays</span></span><br><span class="line"> <span class="comment">// 1998.12.29 -- use lookaside for digit/carry calculation</span></span><br><span class="line"> <span class="comment">// 1999.08.07 -- avoid multiply when mult=1, and make db an int</span></span><br><span class="line"> <span class="comment">// 1999.12.22 -- special case m=-1, also drop 0 special case</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final byte[] byteaddsub(byte a[],int avlen,byte b[],int bvlen,int m,boolean reuse)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">byteaddsub</span>(<span class="params">a, avlen, b, bvlen, m, reuse</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int alength;</span></span><br><span class="line">  <span class="keyword">var</span> alength;</span><br><span class="line">  <span class="comment">//--int blength;</span></span><br><span class="line">  <span class="keyword">var</span> blength;</span><br><span class="line">  <span class="comment">//--int ap;</span></span><br><span class="line">  <span class="keyword">var</span> ap;</span><br><span class="line">  <span class="comment">//--int bp;</span></span><br><span class="line">  <span class="keyword">var</span> bp;</span><br><span class="line">  <span class="comment">//--int maxarr;</span></span><br><span class="line">  <span class="keyword">var</span> maxarr;</span><br><span class="line">  <span class="comment">//--byte reb[];</span></span><br><span class="line">  <span class="keyword">var</span> reb;</span><br><span class="line">  <span class="comment">//--boolean quickm;</span></span><br><span class="line">  <span class="keyword">var</span> quickm;</span><br><span class="line">  <span class="comment">//--int digit;</span></span><br><span class="line">  <span class="keyword">var</span> digit;</span><br><span class="line">  <span class="comment">//--int op=0;</span></span><br><span class="line">  <span class="keyword">var</span> op=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int dp90=0;</span></span><br><span class="line">  <span class="keyword">var</span> dp90=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte newarr[];</span></span><br><span class="line">  <span class="keyword">var</span> newarr;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// We'll usually be right if we assume no carry</span></span><br><span class="line">  alength=a.length; <span class="comment">// physical lengths</span></span><br><span class="line">  blength=b.length; <span class="comment">// ..</span></span><br><span class="line">  ap=avlen<span class="number">-1</span>; <span class="comment">// -&gt; final (rightmost) digit</span></span><br><span class="line">  bp=bvlen<span class="number">-1</span>; <span class="comment">// ..</span></span><br><span class="line">  maxarr=bp;</span><br><span class="line">  <span class="keyword">if</span> (maxarr&lt;ap)</span><br><span class="line">   maxarr=ap;</span><br><span class="line">  reb=<span class="literal">null</span>; <span class="comment">// result byte array</span></span><br><span class="line">  <span class="keyword">if</span> (reuse)</span><br><span class="line">   <span class="keyword">if</span> ((maxarr+<span class="number">1</span>)==alength)</span><br><span class="line">    reb=a; <span class="comment">// OK to reuse A</span></span><br><span class="line">  <span class="keyword">if</span> (reb==<span class="literal">null</span>)&#123;</span><br><span class="line">   reb=<span class="keyword">this</span>.createArrayWithZeros(maxarr+<span class="number">1</span>); <span class="comment">// need new array</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  quickm=<span class="literal">false</span>; <span class="comment">// 1 if no multiply needed</span></span><br><span class="line">  <span class="keyword">if</span> (m==<span class="number">1</span>)</span><br><span class="line">   quickm=<span class="literal">true</span>; <span class="comment">// most common</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   <span class="keyword">if</span> (m==(<span class="number">-1</span>))</span><br><span class="line">    quickm=<span class="literal">true</span>; <span class="comment">// also common</span></span><br><span class="line"></span><br><span class="line">  digit=<span class="number">0</span>; <span class="comment">// digit, with carry or borrow</span></span><br><span class="line">  &#123;op=maxarr;op:<span class="keyword">for</span>(;op&gt;=<span class="number">0</span>;op--)&#123;</span><br><span class="line">   <span class="keyword">if</span> (ap&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="keyword">if</span> (ap&lt;alength)</span><br><span class="line">      digit=digit+a[ap]; <span class="comment">// within A</span></span><br><span class="line">     ap--;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">if</span> (bp&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="keyword">if</span> (bp&lt;blength)</span><br><span class="line">      &#123; <span class="comment">// within B</span></span><br><span class="line">       <span class="keyword">if</span> (quickm)</span><br><span class="line">        &#123;</span><br><span class="line">         <span class="keyword">if</span> (m&gt;<span class="number">0</span>)</span><br><span class="line">          digit=digit+b[bp]; <span class="comment">// most common</span></span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          digit=digit-b[bp]; <span class="comment">// also common</span></span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        digit=digit+(b[bp]*m);</span><br><span class="line">      &#125;</span><br><span class="line">     bp--;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">/* result so far (digit) could be -90 through 99 */</span></span><br><span class="line">   <span class="keyword">if</span> (digit&lt;<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">if</span> (digit&gt;=<span class="number">0</span>)</span><br><span class="line">     &#123;<span class="attr">quick</span>:<span class="keyword">do</span>&#123; <span class="comment">// 0-9</span></span><br><span class="line">      reb[op]=digit;</span><br><span class="line">      digit=<span class="number">0</span>; <span class="comment">// no carry</span></span><br><span class="line">      <span class="keyword">continue</span> op;</span><br><span class="line">     &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*quick*/</span></span><br><span class="line">   dp90=digit+<span class="number">90</span>;</span><br><span class="line">   reb[op]=<span class="keyword">this</span>.bytedig[dp90]; <span class="comment">// this digit</span></span><br><span class="line">   digit=<span class="keyword">this</span>.bytecar[dp90]; <span class="comment">// carry or borrow</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*op*/</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (digit==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> reb; <span class="comment">// no carry</span></span><br><span class="line">  <span class="comment">// following line will become an Assert, later</span></span><br><span class="line">  <span class="comment">// if digit&lt;0 then signal ArithmeticException("internal.error ["digit"]")</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* We have carry -- need to make space for the extra digit */</span></span><br><span class="line">  newarr=<span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">if</span> (reuse)</span><br><span class="line">   <span class="keyword">if</span> ((maxarr+<span class="number">2</span>)==a.length)</span><br><span class="line">    newarr=a; <span class="comment">// OK to reuse A</span></span><br><span class="line">  <span class="keyword">if</span> (newarr==<span class="literal">null</span>)</span><br><span class="line">   newarr=<span class="keyword">new</span> <span class="built_in">Array</span>(maxarr+<span class="number">2</span>);</span><br><span class="line">  newarr[<span class="number">0</span>]=digit; <span class="comment">// the carried digit ..</span></span><br><span class="line">  <span class="comment">// .. and all the rest [use local loop for short numbers]</span></span><br><span class="line">  <span class="comment">//--if (maxarr&lt;10)</span></span><br><span class="line">   &#123;<span class="keyword">var</span> $<span class="number">24</span>=maxarr+<span class="number">1</span>;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">24</span>&gt;<span class="number">0</span>;$<span class="number">24</span>--,i++)&#123;</span><br><span class="line">    newarr[i+<span class="number">1</span>]=reb[i];</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="comment">/*i*/</span></span><br><span class="line">  <span class="comment">//--else</span></span><br><span class="line">   <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)reb,0,(java.lang.Object)newarr,1,maxarr+1);</span></span><br><span class="line">  <span class="keyword">return</span> newarr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Initializer for digit array properties (lookaside). &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Returns the digit array, and initializes the carry array. */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final byte[] diginit()&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">diginit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--byte work[];</span></span><br><span class="line">  <span class="keyword">var</span> work;</span><br><span class="line">  <span class="comment">//--int op=0;</span></span><br><span class="line">  <span class="keyword">var</span> op=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int digit=0;</span></span><br><span class="line">  <span class="keyword">var</span> digit=<span class="number">0</span>;</span><br><span class="line">  work=<span class="keyword">new</span> <span class="built_in">Array</span>((<span class="number">90</span>+<span class="number">99</span>)+<span class="number">1</span>);</span><br><span class="line">  &#123;op=<span class="number">0</span>;op:<span class="keyword">for</span>(;op&lt;=(<span class="number">90</span>+<span class="number">99</span>);op++)&#123;</span><br><span class="line">   digit=op<span class="number">-90</span>;</span><br><span class="line">   <span class="keyword">if</span> (digit&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     work[op]=(digit%<span class="number">10</span>);</span><br><span class="line">     BigDecimal.prototype.bytecar[op]=(div(digit,<span class="number">10</span>)); <span class="comment">// calculate carry</span></span><br><span class="line">     <span class="keyword">continue</span> op;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">// borrowing...</span></span><br><span class="line">   digit=digit+<span class="number">100</span>; <span class="comment">// yes, this is right [consider -50]</span></span><br><span class="line">   work[op]=(digit%<span class="number">10</span>);</span><br><span class="line">   BigDecimal.prototype.bytecar[op]=((div(digit,<span class="number">10</span>))<span class="number">-10</span>); <span class="comment">// calculate borrow [NB: - after %]</span></span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*op*/</span></span><br><span class="line">  <span class="keyword">return</span> work;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Create a copy of BigDecimal object for local use.</span></span><br><span class="line"><span class="comment">    &lt;p&gt;This does NOT make a copy of the mantissa array.</span></span><br><span class="line"><span class="comment">    &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Arg1 is the BigDecimal to clone (non-null)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final com.ibm.icu.math.BigDecimal clone(com.ibm.icu.math.BigDecimal dec)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">dec</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--com.ibm.icu.math.BigDecimal copy;</span></span><br><span class="line">  <span class="keyword">var</span> copy;</span><br><span class="line">  copy=<span class="keyword">new</span> BigDecimal();</span><br><span class="line">  copy.ind=dec.ind;</span><br><span class="line">  copy.exp=dec.exp;</span><br><span class="line">  copy.form=dec.form;</span><br><span class="line">  copy.mant=dec.mant;</span><br><span class="line">  <span class="keyword">return</span> copy;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Check one or two numbers for lost digits. &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Arg1 is RHS (or null, if none)</span></span><br><span class="line"><span class="comment">    Arg2 is current DIGITS setting</span></span><br><span class="line"><span class="comment">    returns quietly or throws an exception */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private void checkdigits(com.ibm.icu.math.BigDecimal rhs,int dig)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">checkdigits</span>(<span class="params">rhs, dig</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (dig==<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span>; <span class="comment">// don't check if digits=0</span></span><br><span class="line">  <span class="comment">// first check lhs...</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.mant.length&gt;dig)</span><br><span class="line">   <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(<span class="keyword">this</span>.mant,dig))))</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"Too many digits: "</span>+<span class="keyword">this</span>.toString();</span><br><span class="line">  <span class="keyword">if</span> (rhs==<span class="literal">null</span>)</span><br><span class="line">   <span class="keyword">return</span>; <span class="comment">// monadic</span></span><br><span class="line">  <span class="keyword">if</span> (rhs.mant.length&gt;dig)</span><br><span class="line">   <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(rhs.mant,dig))))</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"Too many digits: "</span>+rhs.toString();</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Round to specified digits, if necessary. &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Arg1 is requested MathContext [with length and rounding mode]</span></span><br><span class="line"><span class="comment">    returns this, for convenience */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private com.ibm.icu.math.BigDecimal round(com.ibm.icu.math.MathContext set)&#123;</span></span><br><span class="line"> <span class="comment">//-- return round(set.digits,set.roundingMode);</span></span><br><span class="line"> <span class="comment">//-- &#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Round to specified digits, if necessary.</span></span><br><span class="line"><span class="comment">    Arg1 is requested length (digits to round to)</span></span><br><span class="line"><span class="comment">            [may be &lt;=0 when called from format, dodivide, etc.]</span></span><br><span class="line"><span class="comment">    Arg2 is rounding mode</span></span><br><span class="line"><span class="comment">    returns this, for convenience</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ind and exp are adjusted, but not cleared for a mantissa of zero</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    The length of the mantissa returned will be Arg1, except when Arg1</span></span><br><span class="line"><span class="comment">    is 0, in which case the returned mantissa length will be 1.</span></span><br><span class="line"><span class="comment">    &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//private com.ibm.icu.math.BigDecimal round(int len,int mode)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">round</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len;</span><br><span class="line">  <span class="keyword">var</span> mode;</span><br><span class="line">  <span class="keyword">if</span> (round.arguments.length == <span class="number">2</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    len = round.arguments[<span class="number">0</span>];</span><br><span class="line">    mode = round.arguments[<span class="number">1</span>];</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (round.arguments.length == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">var</span> set = round.arguments[<span class="number">0</span>];</span><br><span class="line">    len = set.digits;</span><br><span class="line">    mode = set.roundingMode;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"round(): "</span> + round.arguments.length + <span class="string">" arguments given; expected 1 or 2"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">//int adjust;</span></span><br><span class="line">  <span class="keyword">var</span> adjust;</span><br><span class="line">  <span class="comment">//int sign;</span></span><br><span class="line">  <span class="keyword">var</span> sign;</span><br><span class="line">  <span class="comment">//byte oldmant[];</span></span><br><span class="line">  <span class="keyword">var</span> oldmant;</span><br><span class="line">  <span class="comment">//boolean reuse=false;</span></span><br><span class="line">  <span class="keyword">var</span> reuse=<span class="literal">false</span>;</span><br><span class="line">  <span class="comment">//--byte first=0;</span></span><br><span class="line">  <span class="keyword">var</span> first=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int increment;</span></span><br><span class="line">  <span class="keyword">var</span> increment;</span><br><span class="line">  <span class="comment">//--byte newmant[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newmant=<span class="literal">null</span>;</span><br><span class="line">  adjust=<span class="keyword">this</span>.mant.length-len;</span><br><span class="line">  <span class="keyword">if</span> (adjust&lt;=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// nowt to do</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.exp=<span class="keyword">this</span>.exp+adjust; <span class="comment">// exponent of result</span></span><br><span class="line">  sign=<span class="keyword">this</span>.ind; <span class="comment">// save [assumes -1, 0, 1]</span></span><br><span class="line">  oldmant=<span class="keyword">this</span>.mant; <span class="comment">// save</span></span><br><span class="line">  <span class="keyword">if</span> (len&gt;<span class="number">0</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    <span class="comment">// remove the unwanted digits</span></span><br><span class="line">    <span class="keyword">this</span>.mant=<span class="keyword">new</span> <span class="built_in">Array</span>(len);</span><br><span class="line">    <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)oldmant,0,(java.lang.Object)mant,0,len);</span></span><br><span class="line">    <span class="keyword">this</span>.arraycopy(oldmant,<span class="number">0</span>,<span class="keyword">this</span>.mant,<span class="number">0</span>,len);</span><br><span class="line">    reuse=<span class="literal">true</span>; <span class="comment">// can reuse mantissa</span></span><br><span class="line">    first=oldmant[len]; <span class="comment">// first of discarded digits</span></span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">   &#123;<span class="comment">/* len&lt;=0 */</span></span><br><span class="line">    <span class="keyword">this</span>.mant=<span class="keyword">this</span>.ZERO.mant;</span><br><span class="line">    <span class="keyword">this</span>.ind=<span class="keyword">this</span>.iszero;</span><br><span class="line">    reuse=<span class="literal">false</span>; <span class="comment">// cannot reuse mantissa</span></span><br><span class="line">    <span class="keyword">if</span> (len==<span class="number">0</span>)</span><br><span class="line">     first=oldmant[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     first=<span class="number">0</span>; <span class="comment">// [virtual digit]</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// decide rounding adjustment depending on mode, sign, and discarded digits</span></span><br><span class="line">  increment=<span class="number">0</span>; <span class="comment">// bumper</span></span><br><span class="line">  &#123;<span class="attr">modes</span>:<span class="keyword">do</span>&#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_HALF_UP)</span><br><span class="line">   &#123; <span class="comment">// default first [most common]</span></span><br><span class="line">    <span class="keyword">if</span> (first&gt;=<span class="number">5</span>)</span><br><span class="line">     increment=sign;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_UNNECESSARY)</span><br><span class="line">   &#123; <span class="comment">// default for setScale()</span></span><br><span class="line">    <span class="comment">// discarding any non-zero digits is an error</span></span><br><span class="line">    <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len))))</span><br><span class="line">     <span class="keyword">throw</span> <span class="string">"round(): Rounding necessary"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_HALF_DOWN)</span><br><span class="line">   &#123; <span class="comment">// 0.5000 goes down</span></span><br><span class="line">    <span class="keyword">if</span> (first&gt;<span class="number">5</span>)</span><br><span class="line">     increment=sign;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     <span class="keyword">if</span> (first==<span class="number">5</span>)</span><br><span class="line">      <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len+<span class="number">1</span>))))</span><br><span class="line">       increment=sign;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_HALF_EVEN)</span><br><span class="line">   &#123; <span class="comment">// 0.5000 goes down if left digit even</span></span><br><span class="line">    <span class="keyword">if</span> (first&gt;<span class="number">5</span>)</span><br><span class="line">     increment=sign;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     <span class="keyword">if</span> (first==<span class="number">5</span>)</span><br><span class="line">      &#123;</span><br><span class="line">       <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len+<span class="number">1</span>))))</span><br><span class="line">        increment=sign;</span><br><span class="line">       <span class="keyword">else</span> <span class="comment">/* 0.5000 */</span></span><br><span class="line">        <span class="keyword">if</span> ((((<span class="keyword">this</span>.mant[<span class="keyword">this</span>.mant.length<span class="number">-1</span>])%<span class="number">2</span>))==<span class="number">1</span>)</span><br><span class="line">         increment=sign;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_DOWN)</span><br><span class="line">   &#123;&#125; <span class="comment">// never increment</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_UP)</span><br><span class="line">   &#123; <span class="comment">// increment if discarded non-zero</span></span><br><span class="line">    <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len))))</span><br><span class="line">     increment=sign;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_CEILING)</span><br><span class="line">   &#123; <span class="comment">// more positive</span></span><br><span class="line">    <span class="keyword">if</span> (sign&gt;<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len))))</span><br><span class="line">      increment=sign;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (mode==<span class="keyword">this</span>.ROUND_FLOOR)</span><br><span class="line">   &#123; <span class="comment">// more negative</span></span><br><span class="line">    <span class="keyword">if</span> (sign&lt;<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">if</span> ((!(<span class="keyword">this</span>.allzero(oldmant,len))))</span><br><span class="line">      increment=sign;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"round(): Bad round value: "</span>+mode;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*modes*/</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (increment!=<span class="number">0</span>)</span><br><span class="line">   &#123;<span class="attr">bump</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.iszero)</span><br><span class="line">     &#123;</span><br><span class="line">      <span class="comment">// we must not subtract from 0, but result is trivial anyway</span></span><br><span class="line">      <span class="keyword">this</span>.mant=<span class="keyword">this</span>.ONE.mant;</span><br><span class="line">      <span class="keyword">this</span>.ind=increment;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">      <span class="comment">// mantissa is non-0; we can safely add or subtract 1</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.ind==<span class="keyword">this</span>.isneg)</span><br><span class="line">       increment=-increment;</span><br><span class="line">      newmant=<span class="keyword">this</span>.byteaddsub(<span class="keyword">this</span>.mant,<span class="keyword">this</span>.mant.length,<span class="keyword">this</span>.ONE.mant,<span class="number">1</span>,increment,reuse);</span><br><span class="line">      <span class="keyword">if</span> (newmant.length&gt;<span class="keyword">this</span>.mant.length)</span><br><span class="line">       &#123; <span class="comment">// had a carry</span></span><br><span class="line">        <span class="comment">// drop rightmost digit and raise exponent</span></span><br><span class="line">        <span class="keyword">this</span>.exp++;</span><br><span class="line">        <span class="comment">// mant is already the correct length</span></span><br><span class="line">        <span class="comment">//java.lang.System.arraycopy((java.lang.Object)newmant,0,(java.lang.Object)mant,0,mant.length);</span></span><br><span class="line">        <span class="keyword">this</span>.arraycopy(newmant,<span class="number">0</span>,<span class="keyword">this</span>.mant,<span class="number">0</span>,<span class="keyword">this</span>.mant.length);</span><br><span class="line">       &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">       <span class="keyword">this</span>.mant=newmant;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*bump*/</span></span><br><span class="line">  <span class="comment">// rounding can increase exponent significantly</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.exp&gt;<span class="keyword">this</span>.MaxExp)</span><br><span class="line">   <span class="keyword">throw</span> <span class="string">"round(): Exponent Overflow: "</span>+<span class="keyword">this</span>.exp;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Test if rightmost digits are all 0.</span></span><br><span class="line"><span class="comment">    Arg1 is a mantissa array to test</span></span><br><span class="line"><span class="comment">    Arg2 is the offset of first digit to check</span></span><br><span class="line"><span class="comment">            [may be negative; if so, digits to left are 0's]</span></span><br><span class="line"><span class="comment">    returns 1 if all the digits starting at Arg2 are 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Arg2 may be beyond array bounds, in which case 1 is returned</span></span><br><span class="line"><span class="comment">    &lt;/sgml&gt; */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private static final boolean allzero(byte array[],int start)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">allzero</span>(<span class="params">array, start</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (start&lt;<span class="number">0</span>)</span><br><span class="line">   start=<span class="number">0</span>;</span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">25</span>=array.length<span class="number">-1</span>;i=start;i:<span class="keyword">for</span>(;i&lt;=$<span class="number">25</span>;i++)&#123;</span><br><span class="line">   <span class="keyword">if</span> (array[i]!=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/* &lt;sgml&gt; Carry out final checks and canonicalization</span></span><br><span class="line"><span class="comment">    &lt;p&gt;</span></span><br><span class="line"><span class="comment">    This finishes off the current number by:</span></span><br><span class="line"><span class="comment">      1. Rounding if necessary (NB: length includes leading zeros)</span></span><br><span class="line"><span class="comment">      2. Stripping trailing zeros (if requested and \PLAIN)</span></span><br><span class="line"><span class="comment">      3. Stripping leading zeros (always)</span></span><br><span class="line"><span class="comment">      4. Selecting exponential notation (if required)</span></span><br><span class="line"><span class="comment">      5. Converting a zero result to just '0' (if \PLAIN)</span></span><br><span class="line"><span class="comment">    In practice, these operations overlap and share code.</span></span><br><span class="line"><span class="comment">    It always sets form.</span></span><br><span class="line"><span class="comment">    &lt;/sgml&gt;</span></span><br><span class="line"><span class="comment">    Arg1 is requested MathContext (length to round to, trigger, and FORM)</span></span><br><span class="line"><span class="comment">    Arg2 is 1 if trailing insignificant zeros should be removed after</span></span><br><span class="line"><span class="comment">         round (for division, etc.), provided that set.form isn't PLAIN.</span></span><br><span class="line"><span class="comment">   returns this, for convenience</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//--private com.ibm.icu.math.BigDecimal finish(com.ibm.icu.math.MathContext set,boolean strip)&#123;</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">finish</span>(<span class="params">set, strip</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//--int d=0;</span></span><br><span class="line">  <span class="keyword">var</span> d=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int i=0;</span></span><br><span class="line">  <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--byte newmant[]=null;</span></span><br><span class="line">  <span class="keyword">var</span> newmant=<span class="literal">null</span>;</span><br><span class="line">  <span class="comment">//--int mag=0;</span></span><br><span class="line">  <span class="keyword">var</span> mag=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">//--int sig=0;</span></span><br><span class="line">  <span class="keyword">var</span> sig=<span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* Round if mantissa too long and digits requested */</span></span><br><span class="line">  <span class="keyword">if</span> (set.digits!=<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.mant.length&gt;set.digits)</span><br><span class="line">    <span class="keyword">this</span>.round(set);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* If strip requested (and standard formatting), remove</span></span><br><span class="line"><span class="comment">     insignificant trailing zeros. */</span></span><br><span class="line">  <span class="keyword">if</span> (strip)</span><br><span class="line">   <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">    &#123;</span><br><span class="line">     d=<span class="keyword">this</span>.mant.length;</span><br><span class="line">     <span class="comment">/* see if we need to drop any trailing zeros */</span></span><br><span class="line">     &#123;i=d<span class="number">-1</span>;i:<span class="keyword">for</span>(;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.mant[i]!=<span class="number">0</span>)</span><br><span class="line">       <span class="keyword">break</span> i;</span><br><span class="line">      d--;</span><br><span class="line">      <span class="keyword">this</span>.exp++;</span><br><span class="line">      &#125;</span><br><span class="line">     &#125;<span class="comment">/*i*/</span></span><br><span class="line">     <span class="keyword">if</span> (d&lt;<span class="keyword">this</span>.mant.length)</span><br><span class="line">      &#123;<span class="comment">/* need to reduce */</span></span><br><span class="line">       newmant=<span class="keyword">new</span> <span class="built_in">Array</span>(d);</span><br><span class="line">       <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)this.mant,0,(java.lang.Object)newmant,0,d);</span></span><br><span class="line">       <span class="keyword">this</span>.arraycopy(<span class="keyword">this</span>.mant,<span class="number">0</span>,newmant,<span class="number">0</span>,d);</span><br><span class="line">       <span class="keyword">this</span>.mant=newmant;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.form=MathContext.prototype.PLAIN; <span class="comment">// preset</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Now check for leading- and all- zeros in mantissa */</span></span><br><span class="line">  &#123;<span class="keyword">var</span> $<span class="number">26</span>=<span class="keyword">this</span>.mant.length;i=<span class="number">0</span>;i:<span class="keyword">for</span>(;$<span class="number">26</span>&gt;<span class="number">0</span>;$<span class="number">26</span>--,i++)&#123;</span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.mant[i]!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="comment">// non-0 result; ind will be correct</span></span><br><span class="line">     <span class="comment">// remove leading zeros [e.g., after subtract]</span></span><br><span class="line">     <span class="keyword">if</span> (i&gt;<span class="number">0</span>)</span><br><span class="line">      &#123;<span class="attr">delead</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">       newmant=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="keyword">this</span>.mant.length-i);</span><br><span class="line">       <span class="comment">//--java.lang.System.arraycopy((java.lang.Object)this.mant,i,(java.lang.Object)newmant,0,this.mant.length-i);</span></span><br><span class="line">       <span class="keyword">this</span>.arraycopy(<span class="keyword">this</span>.mant,i,newmant,<span class="number">0</span>,<span class="keyword">this</span>.mant.length-i);</span><br><span class="line">       <span class="keyword">this</span>.mant=newmant;</span><br><span class="line">      &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*delead*/</span></span><br><span class="line">     <span class="comment">// now determine form if not PLAIN</span></span><br><span class="line">     mag=<span class="keyword">this</span>.exp+<span class="keyword">this</span>.mant.length;</span><br><span class="line">     <span class="keyword">if</span> (mag&gt;<span class="number">0</span>)</span><br><span class="line">      &#123; <span class="comment">// most common path</span></span><br><span class="line">       <span class="keyword">if</span> (mag&gt;set.digits)</span><br><span class="line">        <span class="keyword">if</span> (set.digits!=<span class="number">0</span>)</span><br><span class="line">         <span class="keyword">this</span>.form=set.form;</span><br><span class="line">       <span class="keyword">if</span> ((mag<span class="number">-1</span>)&lt;=<span class="keyword">this</span>.MaxExp)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// no overflow; quick return</span></span><br><span class="line">      &#125;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">if</span> (mag&lt;(<span class="number">-5</span>))</span><br><span class="line">       <span class="keyword">this</span>.form=set.form;</span><br><span class="line">     <span class="comment">/* check for overflow */</span></span><br><span class="line">     mag--;</span><br><span class="line">     <span class="keyword">if</span> ((mag&lt;<span class="keyword">this</span>.MinExp)||(mag&gt;<span class="keyword">this</span>.MaxExp))</span><br><span class="line">      &#123;<span class="attr">overflow</span>:<span class="keyword">do</span>&#123;</span><br><span class="line">       <span class="comment">// possible reprieve if form is engineering</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.form==MathContext.prototype.ENGINEERING)</span><br><span class="line">        &#123;</span><br><span class="line">         sig=mag%<span class="number">3</span>; <span class="comment">// leftover</span></span><br><span class="line">         <span class="keyword">if</span> (sig&lt;<span class="number">0</span>)</span><br><span class="line">          sig=<span class="number">3</span>+sig; <span class="comment">// negative exponent</span></span><br><span class="line">         mag=mag-sig; <span class="comment">// exponent to use</span></span><br><span class="line">         <span class="comment">// 1999.06.29: second test here must be MaxExp</span></span><br><span class="line">         <span class="keyword">if</span> (mag&gt;=<span class="keyword">this</span>.MinExp)</span><br><span class="line">          <span class="keyword">if</span> (mag&lt;=<span class="keyword">this</span>.MaxExp)</span><br><span class="line">           <span class="keyword">break</span> overflow;</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="keyword">throw</span> <span class="string">"finish(): Exponent Overflow: "</span>+mag;</span><br><span class="line">      &#125;<span class="keyword">while</span>(<span class="literal">false</span>);&#125;<span class="comment">/*overflow*/</span></span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;<span class="comment">/*i*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Drop through to here only if mantissa is all zeros</span></span><br><span class="line">  <span class="keyword">this</span>.ind=<span class="keyword">this</span>.iszero;</span><br><span class="line">  &#123;<span class="comment">/*select*/</span></span><br><span class="line">  <span class="keyword">if</span> (set.form!=MathContext.prototype.PLAIN)</span><br><span class="line">   <span class="keyword">this</span>.exp=<span class="number">0</span>; <span class="comment">// standard result; go to '0'</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.exp&gt;<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">this</span>.exp=<span class="number">0</span>; <span class="comment">// +ve exponent also goes to '0'</span></span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="comment">// a plain number with -ve exponent; preserve and check exponent</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.exp&lt;<span class="keyword">this</span>.MinExp)</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"finish(): Exponent Overflow: "</span>+<span class="keyword">this</span>.exp;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.mant=<span class="keyword">this</span>.ZERO.mant; <span class="comment">// canonical mantissa</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isGreaterThan</span>(<span class="params">other</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(other) &gt; <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isLessThan</span>(<span class="params">other</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(other) &lt; <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isGreaterThanOrEqualTo</span>(<span class="params">other</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(other) &gt;= <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isLessThanOrEqualTo</span>(<span class="params">other</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(other) &lt;= <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isPositive</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(BigDecimal.prototype.ZERO) &gt; <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isNegative</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(BigDecimal.prototype.ZERO) &lt; <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isZero</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.compareTo(BigDecimal.prototype.ZERO) === <span class="number">0</span>;</span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">return</span> BigDecimal;</span><br><span class="line">&#125;)(MathContext); <span class="comment">// BigDecimal depends on MathContext</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">"function"</span> &amp;&amp; define.amd != <span class="literal">null</span>) &#123;</span><br><span class="line">	<span class="comment">// AMD-loader compatible resource declaration</span></span><br><span class="line">	<span class="comment">// require('bigdecimal') will return JS Object:</span></span><br><span class="line">	<span class="comment">// &#123;'BigDecimal':BigDecimalPointer, 'MathContext':MathContextPointer&#125;</span></span><br><span class="line">	define(&#123;<span class="string">'BigDecimal'</span>:BigDecimal, <span class="string">'MathContext'</span>:MathContext&#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> === <span class="string">"object"</span>)&#123;</span><br><span class="line">	<span class="comment">// global-polluting outcome.</span></span><br><span class="line">	<span class="keyword">this</span>.BigDecimal = BigDecimal;</span><br><span class="line">	<span class="keyword">this</span>.MathContext = MathContext;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;).call(<span class="keyword">this</span>); <span class="comment">// in browser 'this' will be 'window' or simulated window object in AMD-loading scenarios.</span></span><br></pre></td></tr></table></figure>

			
			
				<div id="donate" style="text-align:center">
					<div class ="post-donate" style="margin-bottom: 30px;margin-top: 10px;">
	<div>听说打赏的人都脱单了 ♪(＾∀＾●)ﾉ</div>
    <div id="donate_board" class="donate_bar center">
        <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏"></a>
        <span class="donate_txt">
            <br>
           
        </span>
        <br>
      </div>  
    <div id="donate_guide" class="donate_bar donate_bar2 center hidden" >
		
    </div>
    
    <script type="text/javascript">
		var html = ['<div style="/*width:194px; height:194px; float:left; margin: 0% 1%;*/">',
			'<img src="/public/images/zfb.png" id="weixin" title="支付宝打赏"  alt="支付宝打赏">',
			'<span>支付宝打赏</span>',
			'</div>',
			'<div style="/*width:194px; height:194px; float: left;*/">',
			'<img src="/public/images/wx.png" title="微信打赏" id="zhifubao"  alt="微信打赏">',
			'<span>微信打赏</span>',
			'</div>'].join('');
        $('#weixin').hover()
        document.getElementById('btn_donate').onclick = function(){
            $('#donate_board').addClass('hidden');
            $('#donate_guide').html(html).removeClass('hidden');
        }
      
    </script>
</div>
<style>
.donate_bar {
    text-align: center;
    margin-top: 3%;
}
.donate_bar2{
    z-index: 9999;
    text-align: center;
    top: 50%;
    left: 50%;
    width: 660px;
    height: 360px;
    margin: -180px 0 30px -330px;
    border-radius: 5px;
    border: solid 2px #666;
    background-color: #fff;
    
    box-shadow: 0 0 10px #666;
}
.donate_bar a.btn_donate {
    display: inline-block;
    width: 82px;
    height: 82px;
    margin-left: auto;
    margin-right: auto;
    background: url(/public/images/ds.jpg) no-repeat;
    -webkit-transition: background 0s;
    -moz-transition: background 0s;
    -o-transition: background 0s;
    -ms-transition: background 0s;
    transition: background 0s
}
.donate_bar a.btn_donate:hover {
    background-position: 0 -82px
}
.donate_bar .donate_txt {
    display: block;
    color: #9d9d9d;
    font: 14px/2 "Microsoft Yahei"
}
.donate_bar.hidden{
    display: none
}
.post-donate{
    margin-top: 80px;
}
#donate_guide{
    height: 50%;
    width: 50%;
    margin: 3% auto;
    padding: 5px;
}
</style>

				</div>
			
			
				<div class="alert alert-success">
	<div class="copyright-left">
		<i class="fa fa-lightbulb-o"></i>
		本文由 <a href="/" target="_blank" title="xxzkid | 我叫王也道长">xxzkid | 我叫王也道长</a>创作，采用
		<a href="http://creativecommons.org/licenses/by/3.0/cn" target="_blank" rel="external">CC BY 3.0 CN协议</a> 进行许可。
		可自由转载、引用，但需署名作者且注明文章出处。<br>
		本文标题：<a href="/2015/js-bigdecimal/" target="_blank" title="js Bigdecimal">js Bigdecimal</a><br>
		本文链接：<a href="/2015/js-bigdecimal/" target="_blank" title="js Bigdecimal">https://xxzkid.github.io/2015/js-bigdecimal/</a>
	</div>
	<div style="clear:both;height:0px;"></div>
</div>


<style>
.alert {
	width: 95%;
    margin: 0 auto;
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    border-radius: 4px;
}
.alert-success {
    background-color: #f5f5f5;
    padding: 7px;
    margin-top: 10px;
    margin-bottom: 20px;
}
@media (min-width: 768px)
(index):495
.copyright-left {
    float: left;
    width: 80%;
}
</style>
				<style>
	/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */.fancybox-wrap,.fancybox-skin,.fancybox-outer,.fancybox-inner,.fancybox-image,.fancybox-wrap iframe,.fancybox-wrap object,.fancybox-nav,.fancybox-nav span,.fancybox-tmp{padding:0;margin:0;border:0;outline:0;vertical-align:top}.fancybox-wrap{position:absolute;top:0;left:0;z-index:8020}.fancybox-skin{position:relative;background:#f9f9f9;color:#444;text-shadow:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.fancybox-opened{z-index:8030}.fancybox-opened .fancybox-skin{-webkit-box-shadow:0 10px 25px rgba(0,0,0,.5);-moz-box-shadow:0 10px 25px rgba(0,0,0,.5);box-shadow:0 10px 25px rgba(0,0,0,.5)}.fancybox-outer,.fancybox-inner{position:relative}.fancybox-inner{overflow:hidden}.fancybox-type-iframe .fancybox-inner{-webkit-overflow-scrolling:touch}.fancybox-error{color:#444;font:14px/20px "Helvetica Neue",Helvetica,Arial,sans-serif;margin:0;padding:15px;white-space:nowrap}.fancybox-image,.fancybox-iframe{display:block;width:100%;height:100%}.fancybox-image{max-width:100%;max-height:100%}#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url('http://cdn.bootcss.com/fancybox/2.1.5/fancybox_sprite.png')}#fancybox-loading{position:fixed;top:50%;left:50%;margin-top:-22px;margin-left:-22px;background-position:0 -108px;opacity:.8;cursor:pointer;z-index:8060}#fancybox-loading div{width:44px;height:44px;background:url('http://cdn.bootcss.com/fancybox/2.1.5/fancybox_loading.gif') center center no-repeat}.fancybox-close{position:absolute;top:-18px;right:-18px;width:36px;height:36px;cursor:pointer;z-index:8040}.fancybox-nav{position:absolute;top:0;width:40%;height:100%;cursor:pointer;text-decoration:none;background:transparent url(blank.gif);-webkit-tap-highlight-color:rgba(0,0,0,0);z-index:8040}.fancybox-prev{left:0}.fancybox-next{right:0}.fancybox-nav span{position:absolute;top:50%;width:36px;height:34px;margin-top:-18px;cursor:pointer;z-index:8040;visibility:hidden}.fancybox-prev span{left:10px;background-position:0 -36px}.fancybox-next span{right:10px;background-position:0 -72px}.fancybox-nav:hover span{visibility:visible}.fancybox-tmp{position:absolute;top:-99999px;left:-99999px;visibility:hidden;max-width:99999px;max-height:99999px;overflow:visible!important}/*.fancybox-lock{overflow:hidden!important;width:auto}*/.fancybox-lock body{overflow:hidden!important}.fancybox-lock-test{overflow-y:hidden!important}.fancybox-overlay{position:absolute;top:0;left:0;overflow:hidden;display:none;z-index:8010;background:url('http://cdn.bootcss.com/fancybox/2.1.5/fancybox_overlay.png')}.fancybox-overlay-fixed{position:fixed;bottom:0;right:0}.fancybox-lock .fancybox-overlay{overflow:auto;overflow-y:scroll}.fancybox-title{visibility:hidden;font:400 13px/20px "Helvetica Neue",Helvetica,Arial,sans-serif;position:relative;text-shadow:none;z-index:8050}.fancybox-opened .fancybox-title{visibility:visible}.fancybox-title-float-wrap{position:absolute;bottom:0;right:50%;margin-bottom:-35px;z-index:8050;text-align:center}.fancybox-title-float-wrap .child{display:inline-block;margin-right:-100%;padding:2px 20px;background:transparent;background:rgba(0,0,0,.8);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;text-shadow:0 1px 2px #222;color:#FFF;font-weight:700;line-height:24px;white-space:nowrap}.fancybox-title-outside-wrap{position:relative;margin-top:10px;color:#fff}.fancybox-title-inside-wrap{padding-top:10px}.fancybox-title-over-wrap{position:absolute;bottom:0;left:0;color:#fff;padding:10px;background:#000;background:rgba(0,0,0,.8)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5){#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url(fancybox_sprite@2x.png);background-size:44px 152px}#fancybox-loading div{background-image:url(fancybox_loading@2x.gif);background-size:24px 24px}}
</style>
<script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>
<script>
	$(function(){
		$(".article-entry .gallery-item").fancybox();;
	});
</script>
			
			
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2328510744730535"
     crossorigin="anonymous"></script>
<!-- 1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2328510744730535"
     data-ad-slot="9239153975"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2015/js-unicode-hex/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    js unicode编码与解码
                
            </div>
        </a>
    
    
        <a href="/2015/js-pic-preview/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">js实现图片预览</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
	<div id="commentContainer"></div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/1000w/" style="font-size: 10px;">1000w</a> <a href="/tags/PC微信/" style="font-size: 16.67px;">PC微信</a> <a href="/tags/bigdecimal/" style="font-size: 10px;">bigdecimal</a> <a href="/tags/c/" style="font-size: 11.67px;">c</a> <a href="/tags/c-c/" style="font-size: 16.67px;">c/c++</a> <a href="/tags/cursor/" style="font-size: 10px;">cursor</a> <a href="/tags/form/" style="font-size: 10px;">form</a> <a href="/tags/gc/" style="font-size: 11.67px;">gc</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javascript/" style="font-size: 18.33px;">javascript</a> <a href="/tags/jdbc/" style="font-size: 10px;">jdbc</a> <a href="/tags/jmeter/" style="font-size: 10px;">jmeter</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/jvm/" style="font-size: 13.33px;">jvm</a> <a href="/tags/leetcode/" style="font-size: 16.67px;">leetcode</a> <a href="/tags/mail/" style="font-size: 10px;">mail</a> <a href="/tags/ml/" style="font-size: 10px;">ml</a> <a href="/tags/prototype/" style="font-size: 10px;">prototype</a> <a href="/tags/restful/" style="font-size: 10px;">restful</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring boot</a> <a href="/tags/spring-boot/" style="font-size: 11.67px;">spring-boot</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/synchronize/" style="font-size: 10px;">synchronize</a> <a href="/tags/unicode/" style="font-size: 10px;">unicode</a> <a href="/tags/xgboost/" style="font-size: 10px;">xgboost</a> <a href="/tags/xxzkid/" style="font-size: 10px;">xxzkid</a> <a href="/tags/决策树/" style="font-size: 10px;">决策树</a> <a href="/tags/微信/" style="font-size: 16.67px;">微信</a> <a href="/tags/微信机器人/" style="font-size: 15px;">微信机器人</a> <a href="/tags/机器学习/" style="font-size: 10px;">机器学习</a> <a href="/tags/病毒/" style="font-size: 10px;">病毒</a> <a href="/tags/编码/" style="font-size: 10px;">编码</a> <a href="/tags/解码/" style="font-size: 10px;">解码</a> <a href="/tags/设计/" style="font-size: 10px;">设计</a> <a href="/tags/闭包/" style="font-size: 10px;">闭包</a> <a href="/tags/预览/" style="font-size: 10px;">预览</a> <a href="/tags/验证码/" style="font-size: 10px;">验证码</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
            </ul>
        </div>
    </div>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2328510744730535"
     data-ad-slot="6089417000"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2024 xxzkid | 我叫王也道长<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>

        
    
	<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
	<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
	<script>
		var id = window.location.pathname;
		id = id.substring(1);
		id = id.substring(id.indexOf('/') + 1, id.length - 1);
		
		var gitalk = new Gitalk({
		  clientID: 'd0cfd49cb3019a36b6cd',
		  clientSecret: 'f1939a27ac4515d77cd08fd85b3f8b093b72ec11',
		  repo: 'x-comment',
		  owner: 'jsbxyyx',
		  admin: ['jsbxyyx'],
		  id: id,
		  distractionFreeMode: false
		});
		
		gitalk.render('commentContainer');
	</script>
	



    
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>